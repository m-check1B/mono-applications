import{f as Z,e as Nt,a as W,s as o}from"../chunks/C3NdowuV.js";import{p as $t,t as X,h as a,a as Ut,d as Ct,s,c as t,b as u,g as p,$ as qt,r as e}from"../chunks/BIIBwolN.js";import{i as St}from"../chunks/BMZK_lNp.js";import{h as At}from"../chunks/DCFnHnzv.js";import{r as v}from"../chunks/kJGk4-vF.js";import{b as c}from"../chunks/V2_FqNi0.js";import{s as Dt,a as Tt}from"../chunks/BfLFXwF2.js";import{g as jt}from"../chunks/BKtAgaYV.js";import{c as I}from"../chunks/BXAMcmxS.js";import{b as Y,g as Ft}from"../chunks/9ICADEXz.js";import{t as Kt}from"../chunks/Czbc-fPz.js";var Pt=Z('<div class="mb-6 p-4 border-2 border-system-red text-system-red text-sm"> </div>'),zt=Z('<div class="min-h-[calc(100vh-60px)] flex items-center justify-center p-4"><div class="brutal-card max-w-md w-full p-8"><div class="text-center mb-8"><h1 class="text-2xl mb-2"> </h1> <p class="text-sm text-muted-foreground"> </p></div> <!> <form><div class="grid grid-cols-2 gap-4 mb-4"><div><label for="firstName" class="block text-sm mb-2"> </label> <input id="firstName" type="text" class="brutal-input w-full" required/></div> <div><label for="lastName" class="block text-sm mb-2"> </label> <input id="lastName" type="text" class="brutal-input w-full" required/></div></div> <div class="mb-4"><label for="companyName" class="block text-sm mb-2"> </label> <input id="companyName" type="text" class="brutal-input w-full" required/></div> <div class="mb-4"><label for="email" class="block text-sm mb-2"> </label> <input id="email" type="email" class="brutal-input w-full" required/></div> <div class="mb-6"><label for="password" class="block text-sm mb-2"> </label> <input id="password" type="password" class="brutal-input w-full" minlength="8" required/> <p class="text-xs text-muted-foreground mt-1"> </p></div> <button type="submit" class="brutal-btn brutal-btn-primary w-full mb-4"> </button></form> <div class="text-center text-sm"><span class="text-muted-foreground"> </span> <a href="/login" class="text-terminal-green hover:underline"> </a></div></div></div>');function Vt(tt,et){$t(et,!0);const l=()=>Tt(Kt,"$t",at),[at,rt]=Dt();let g=u(""),y=u(""),b=u(""),f=u(""),w=u(""),_=u(null),m=u(!1);async function st(r){r.preventDefault(),p(_,null),p(m,!0);try{await I.register({email:a(b),password:a(f),first_name:a(g),last_name:a(y),company_name:a(w)});const i=await I.login(a(b),a(f));Y.setTokens(i.access_token,i.refresh_token);const d=await I.me(i.access_token),n=Ft(i.access_token);Y.setUser({...d,company_name:n==null?void 0:n.company_name}),jt("/dashboard")}catch(i){p(_,i.message||l()("common.error"),!0)}finally{p(m,!1)}}var k=zt();At("52fghe",r=>{Ct(i=>{qt.title=`${i??""} - Speak by Kraliki`},[()=>l()("auth.register")])});var J=t(k),N=t(J),$=t(N),lt=t($,!0);e($);var L=s($,2),it=t(L,!0);e(L),e(N);var M=s(N,2);{var ot=r=>{var i=Pt(),d=t(i,!0);e(i),X(()=>o(d,a(_))),W(r,i)};St(M,r=>{a(_)&&r(ot)})}var x=s(M,2),U=t(x),C=t(U),q=t(C),mt=t(q,!0);e(q);var S=s(q,2);v(S),e(C);var O=s(C,2),A=t(O),pt=t(A,!0);e(A);var D=s(A,2);v(D),e(O),e(U);var T=s(U,2),j=t(T),ut=t(j,!0);e(j);var F=s(j,2);v(F),e(T);var K=s(T,2),P=t(K),dt=t(P,!0);e(P);var z=s(P,2);v(z),e(K);var B=s(K,2),E=t(B),nt=t(E,!0);e(E);var h=s(E,2);v(h);var Q=s(h,2),vt=t(Q,!0);e(Q),e(B);var G=s(B,2),ct=t(G,!0);e(G),e(x);var R=s(x,2),H=t(R),bt=t(H,!0);e(H);var V=s(H,2),ft=t(V,!0);e(V),e(R),e(J),e(k),X((r,i,d,n,_t,xt,ht,gt,yt,wt,kt)=>{o(lt,r),o(it,i),o(mt,d),S.disabled=a(m),o(pt,n),D.disabled=a(m),o(ut,_t),F.disabled=a(m),o(dt,xt),z.disabled=a(m),o(nt,ht),h.disabled=a(m),o(vt,gt),G.disabled=a(m),o(ct,yt),o(bt,wt),o(ft,kt)},[()=>l()("auth.register").toUpperCase(),()=>l()("auth.registerDescription"),()=>l()("auth.firstName").toUpperCase(),()=>l()("auth.lastName").toUpperCase(),()=>l()("auth.companyName").toUpperCase(),()=>l()("auth.email").toUpperCase(),()=>l()("auth.password").toUpperCase(),()=>l()("auth.minPassword"),()=>a(m)?l()("auth.creatingAccount").toUpperCase():l()("common.create").toUpperCase(),()=>l()("auth.hasAccount"),()=>l()("auth.login").toUpperCase()]),Nt("submit",x,st),c(S,()=>a(g),r=>p(g,r)),c(D,()=>a(y),r=>p(y,r)),c(F,()=>a(w),r=>p(w,r)),c(z,()=>a(b),r=>p(b,r)),c(h,()=>a(f),r=>p(f,r)),W(tt,k),Ut(),rt()}export{Vt as component};
