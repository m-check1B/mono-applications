import{f as u,a as x,s as o,c as pt}from"../chunks/C3NdowuV.js";import{o as ct}from"../chunks/BEA_S9YB.js";import{p as xt,b as I,e as ke,t as h,a as ut,d as gt,s as r,c as t,f as mt,g as N,$ as _t,r as e,h as a,i as Ee,n as re}from"../chunks/BIIBwolN.js";import{e as ae,i as se}from"../chunks/C5feot9S.js";import{i as T}from"../chunks/BMZK_lNp.js";import{h as ft}from"../chunks/DCFnHnzv.js";import{s as C}from"../chunks/3ECVvnw7.js";import{s as bt}from"../chunks/DRCB3Yjw.js";import{s as ht,a as oe}from"../chunks/BfLFXwF2.js";import{g as yt}from"../chunks/BKtAgaYV.js";import{i as wt,a as At}from"../chunks/9ICADEXz.js";import{i as kt,a as Et,b as Tt}from"../chunks/BXAMcmxS.js";import{t as $t}from"../chunks/Czbc-fPz.js";var Ct=u('<div class="text-center py-24 brutal-card bg-void text-terminal-green border-terminal-green"><span class="animate-pulse font-mono font-black tracking-[0.5em] text-xl">>> INITIALIZING_DATA_STREAM...</span></div>'),St=u("<span> </span>"),It=u('<div class="space-y-1"><div class="flex items-center justify-between"><span class="text-[10px] font-black tracking-widest uppercase"> </span> <span class="text-[10px] font-mono text-terminal-green"> </span></div> <div class="w-full h-2 bg-white/10 border border-white/20 relative"><div class="absolute inset-y-0 left-0 bg-cyan-data"></div></div> <div> </div></div>'),Nt=u('<div class="space-y-6"></div>'),Lt=u('<p class="text-muted-foreground font-mono text-xs opacity-50"> </p>'),Ut=u('<div class="p-4 border-2 border-foreground bg-void text-white brutal-shadow-sm hover:translate-x-[-2px] hover:translate-y-[-2px] transition-all"><div class="flex items-center justify-between mb-2"><span> </span> <span class="text-[9px] font-mono text-muted-foreground"> </span></div> <p class="text-sm font-mono leading-relaxed border-l-2 border-terminal-green/30 pl-3 italic"> </p></div>'),Ot=u('<div class="space-y-4 relative z-10"></div>'),Pt=u('<p class="text-muted-foreground font-mono text-xs text-center py-12 border-2 border-dashed border-muted/20"> </p>'),Mt=u('<div class="p-3 bg-muted/10 text-[10px] font-mono text-muted-foreground italic line-clamp-2"> </div>'),Gt=u('<div class="p-6 brutal-card border-muted/40 shadow-none hover:border-foreground hover:shadow-brutal transition-all group"><div class="flex items-center justify-between mb-4"><div class="text-[9px] font-black uppercase tracking-widest px-2 py-0.5 border border-foreground group-hover:bg-terminal-green group-hover:text-void transition-colors"> </div> <div class="w-1.5 h-1.5 bg-accent"></div></div> <p class="text-sm font-display mb-3 uppercase tracking-tight"> </p> <!></div>'),Rt=u('<div class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>'),jt=u('<div class="text-center py-12"><p class="text-muted-foreground font-mono text-xs italic opacity-40"> </p></div>'),Ft=u('<div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"><div class="brutal-card p-6 group hover:border-terminal-green hover:-translate-y-1 hover:-translate-x-1 transition-all"><div class="text-[10px] font-black uppercase tracking-widest text-muted-foreground mb-3 flex items-center gap-2"><div class="w-1 h-3 bg-foreground/20 group-hover:bg-terminal-green"></div> </div> <div> </div> <div class="text-[11px] font-mono text-muted-foreground mt-3 pt-3 border-t border-foreground/10"> <!></div></div> <div class="brutal-card p-6 group hover:border-terminal-green hover:-translate-y-1 hover:-translate-x-1 transition-all"><div class="text-[10px] font-black uppercase tracking-widest text-muted-foreground mb-3 flex items-center gap-2"><div class="w-1 h-3 bg-foreground/20 group-hover:bg-terminal-green"></div> </div> <div class="text-4xl font-display text-terminal-green"> </div> <div class="text-[11px] font-mono text-muted-foreground mt-3 pt-3 border-t border-foreground/10"> <span class="opacity-50">/</span> </div></div> <div class="brutal-card p-6 group hover:border-system-red hover:-translate-y-1 hover:-translate-x-1 transition-all"><div class="text-[10px] font-black uppercase tracking-widest text-muted-foreground mb-3 flex items-center gap-2"><div class="w-1 h-3 bg-foreground/20 group-hover:bg-system-red"></div> </div> <div> </div> <div class="text-[11px] font-mono text-muted-foreground mt-3 pt-3 border-t border-foreground/10"><a href="/dashboard/alerts" class="hover:text-foreground">[ VIEW_INCIDENTS ]</a></div></div> <div class="brutal-card p-6 group hover:border-cyan-data hover:-translate-y-1 hover:-translate-x-1 transition-all"><div class="text-[10px] font-black uppercase tracking-widest text-muted-foreground mb-3 flex items-center gap-2"><div class="w-1 h-3 bg-foreground/20 group-hover:bg-cyan-data"></div> </div> <div class="text-4xl font-display text-cyan-data"> </div> <div class="text-[11px] font-mono text-muted-foreground mt-3 pt-3 border-t border-foreground/10"><a href="/dashboard/actions" class="hover:text-foreground">[ MANAGE_LOOP ]</a></div></div></div> <div class="grid grid-cols-1 lg:grid-cols-12 gap-8"><div class="brutal-card lg:col-span-4 p-8 bg-void text-white border-white"><div class="flex items-center gap-3 mb-8 border-b-2 border-white/20 pb-4"><div class="w-3 h-3 bg-cyan-data"></div> <h2 class="text-2xl font-display uppercase tracking-tighter text-cyan-data"> </h2></div> <!></div> <div class="brutal-card lg:col-span-8 p-8 overflow-hidden relative"><div class="absolute top-0 right-0 p-4 opacity-5 pointer-events-none"><div class="text-9xl font-display uppercase">ALERT</div></div> <div class="flex items-center justify-between mb-8 border-b-2 border-foreground pb-4 relative z-10"><div class="flex items-center gap-3"><div class="w-3 h-3 bg-system-red animate-pulse"></div> <h2 class="text-2xl font-display uppercase tracking-tighter"> </h2></div> <a href="/dashboard/alerts" class="text-[10px] font-bold uppercase tracking-widest border-2 border-foreground px-3 py-1 hover:bg-void hover:text-white transition-colors"> </a></div> <!></div></div> <div class="brutal-card p-8 mt-8 bg-muted/5 border-dashed"><div class="flex items-center justify-between mb-8 border-b-2 border-foreground pb-4"><div class="flex items-center gap-3"><div class="w-3 h-3 bg-accent"></div> <h2 class="text-2xl font-display uppercase tracking-tighter"> </h2></div> <a href="/dashboard/actions" class="brutal-btn py-1 px-4 text-[10px] bg-void text-white"> </a></div> <!></div>',1),Dt=u('<div class="container mx-auto p-6 bg-grid-pattern min-h-screen"><div class="flex flex-col md:flex-row md:items-end justify-between mb-12 border-b-2 border-foreground pb-8 gap-6"><div><h1 class="text-5xl font-display tracking-tighter uppercase mb-2">VOP <span class="text-terminal-green">INTELLIGENCE</span></h1> <p class="text-[11px] font-mono font-bold uppercase tracking-[0.3em] text-muted-foreground flex items-center gap-2"><span class="w-2 h-2 bg-terminal-green animate-pulse"></span> Status: Live_Stream // Feed: Enterprise_Feedback_Loop</p></div> <div class="flex items-center gap-4"><a href="/dashboard/surveys" class="brutal-btn bg-terminal-green text-void font-display text-lg"> </a></div></div> <!></div>');function tr(Te,$e){xt($e,!0);const Ce=()=>oe(wt,"$isAuthenticated",L),Se=()=>oe(At,"$accessToken",L),v=()=>oe($t,"$t",L),[L,Ie]=ht();let l=I(null),U=I(ke([])),O=I(ke([])),ie=I(!0);ct(async()=>{if(!Ce()){yt("/login");return}try{const i=Se();await(async y=>{var $=mt(y,3);N(l,$[0],!0),N(U,$[1],!0),N(O,$[2],!0)})(await Promise.all([kt.overview(i),Et.list(i,{is_read:!1}),Tt.list(i)]))}catch(i){console.error("Failed to load dashboard",i)}finally{N(ie,!1)}});function Ne(i){return`${Math.round(i*100)}%`}function Le(i){return i>.2?v()("sentiment.positive").toUpperCase():i<-.2?v()("sentiment.negative").toUpperCase():v()("sentiment.neutral").toUpperCase()}function de(i){return i>.2?"text-terminal-green":i<-.2?"text-system-red":"text-muted-foreground"}function Ue(i){return{new:v()("status.new").toUpperCase(),heard:v()("status.heard").toUpperCase(),in_progress:v()("status.inProgress").toUpperCase(),resolved:v()("status.resolved").toUpperCase()}[i]||i}var P=Dt();ft("x1i5gj",i=>{gt(y=>{_t.title=`${y??""} - Speak by Kraliki`},[()=>v()("dashboard.title")])});var M=t(P),ne=r(t(M),2),ve=t(ne),Oe=t(ve,!0);e(ve),e(ne),e(M);var Pe=r(M,2);{var Me=i=>{var y=Ct();x(i,y)},Ge=i=>{var y=pt(),$=Ee(y);{var Re=G=>{var le=Ft(),R=Ee(le),j=t(R),F=t(j),je=r(t(F));e(F);var S=r(F,2),Fe=t(S,!0);e(S);var pe=r(S,2),ce=t(pe),De=r(ce);{var We=d=>{var s=St(),p=t(s);e(s),h(n=>{C(s,1,`${a(l).sentiment.change>0?"text-terminal-green":"text-system-red"} font-bold`),o(p,`(${a(l).sentiment.change>0?"+":""}${n??""})`)},[()=>a(l).sentiment.change.toFixed(2)]),x(d,s)};T(De,d=>{a(l).sentiment.change!==null&&d(We)})}e(pe),e(j);var D=r(j,2),W=t(D),Ve=r(t(W));e(W);var V=r(W,2),Xe=t(V,!0);e(V);var xe=r(V,2),ue=t(xe),Ye=r(ue,2);e(xe),e(D);var X=r(D,2),Y=t(X),ze=r(t(Y));e(Y);var z=r(Y,2),Be=t(z,!0);e(z),re(2),e(X);var ge=r(X,2),B=t(ge),Ke=r(t(B));e(B);var me=r(B,2),Ze=t(me,!0);e(me),re(2),e(ge),e(R);var K=r(R,2),Z=t(K),q=t(Z),_e=r(t(q),2),qe=t(_e,!0);e(_e),e(q);var He=r(q,2);{var Je=d=>{var s=Nt();ae(s,21,()=>a(l).top_topics,se,(p,n)=>{var c=It(),g=t(c),m=t(g),w=t(m,!0);e(m);var f=r(m,2),A=t(f);e(f),e(g);var b=r(g,2),k=t(b);e(b);var _=r(b,2),E=t(_);e(_),e(c),h((te,lt)=>{o(w,a(n).topic),o(A,`${a(n).count??""}X`),bt(k,`width: ${a(n).count/a(l).top_topics[0].count*100}%`),C(_,1,`text-[9px] font-mono ${te??""}`),o(E,`SENTIMENT: ${lt??""}`)},[()=>de(a(n).sentiment),()=>a(n).sentiment.toFixed(2)]),x(p,c)}),e(s),x(d,s)},Qe=d=>{var s=Lt(),p=t(s,!0);e(s),h(n=>o(p,n),[()=>v()("dashboard.noTopics")||"NO_SIGNALS_MAPPED"]),x(d,s)};T(He,d=>{a(l).top_topics.length>0?d(Je):d(Qe,!1)})}e(Z);var fe=r(Z,2),H=r(t(fe),2),J=t(H),be=r(t(J),2),et=t(be,!0);e(be),e(J);var he=r(J,2),tt=t(he,!0);e(he),e(H);var rt=r(H,2);{var at=d=>{var s=Ot();ae(s,21,()=>a(U).slice(0,3),se,(p,n)=>{var c=Ut(),g=t(c),m=t(g),w=t(m);e(m);var f=r(m,2),A=t(f);e(f),e(g);var b=r(g,2),k=t(b);e(b),e(c),h((_,E)=>{C(m,1,`text-[10px] font-black uppercase tracking-widest ${a(n).severity==="high"?"text-system-red":"text-cyan-data"}`),o(w,`// TYPE_${_??""}`),o(A,`TS_${E??""}`),o(k,`"${a(n).description??""}"`)},[()=>a(n).type.toUpperCase(),()=>new Date(a(n).created_at).getTime()]),x(p,c)}),e(s),x(d,s)},st=d=>{var s=Pt(),p=t(s,!0);e(s),h(n=>o(p,n),[()=>v()("dashboard.noAlerts")||"ALL_SYSTEMS_OPTIMAL"]),x(d,s)};T(rt,d=>{a(U).length>0?d(at):d(st,!1)})}e(fe),e(K);var ye=r(K,2),Q=t(ye),ee=t(Q),we=r(t(ee),2),ot=t(we,!0);e(we),e(ee);var Ae=r(ee,2),it=t(Ae,!0);e(Ae),e(Q);var dt=r(Q,2);{var nt=d=>{var s=Rt();ae(s,21,()=>a(O).slice(0,6),se,(p,n)=>{var c=Gt(),g=t(c),m=t(g),w=t(m,!0);e(m),re(2),e(g);var f=r(g,2),A=t(f,!0);e(f);var b=r(f,2);{var k=_=>{var E=Mt(),te=t(E,!0);e(E),h(()=>o(te,a(n).public_message)),x(_,E)};T(b,_=>{a(n).public_message&&_(k)})}e(c),h(_=>{o(w,_),o(A,a(n).topic)},[()=>Ue(a(n).status)]),x(p,c)}),e(s),x(d,s)},vt=d=>{var s=jt(),p=t(s),n=t(p,!0);e(p),e(s),h(c=>o(n,c),[()=>v()("dashboard.noActions")||"LOOP_STABLE: NO_PENDING_EXECUTIONS"]),x(d,s)};T(dt,d=>{a(O).length>0?d(nt):d(vt,!1)})}e(ye),h((d,s,p,n,c,g,m,w,f,A,b,k,_)=>{o(je,` ${d??""}`),C(S,1,`text-4xl font-display ${s??""}`),o(Fe,p),o(ce,`RAW: ${n??""} `),o(Ve,` ${c??""}`),o(Xe,g),o(ue,`${a(l).participation.total_completed??""} `),o(Ye,` ${a(l).participation.total_invited??""} SIGNALS`),o(ze,` ${m??""}`),C(z,1,`text-4xl font-display ${a(l).active_alerts_count>0?"text-system-red":"text-terminal-green"}`),o(Be,a(l).active_alerts_count),o(Ke,` ${w??""}`),o(Ze,a(l).pending_actions_count),o(qe,f),o(et,A),o(tt,b),o(ot,k),o(it,_)},[()=>(v()("dashboard.sentiment")||"SENTIMENT").toUpperCase(),()=>de(a(l).sentiment.current),()=>Le(a(l).sentiment.current),()=>a(l).sentiment.current.toFixed(2),()=>(v()("dashboard.participation")||"PARTICIPATION").toUpperCase(),()=>Ne(a(l).participation.current),()=>(v()("dashboard.activeAlerts")||"ALERTS").toUpperCase(),()=>(v()("dashboard.pendingActions")||"ACTIONS").toUpperCase(),()=>(v()("dashboard.topics")||"SIGNAL_CLUSTERS").toUpperCase(),()=>(v()("dashboard.alerts")||"LIVE_ALERT_STREAM").toUpperCase(),()=>(v()("dashboard.viewAll")||"FULL_LOGS").toUpperCase(),()=>(v()("dashboard.actionLoop")||"EXECUTION_TIMELINE").toUpperCase(),()=>(v()("dashboard.manage")||"SYNC_NOW").toUpperCase()]),x(G,le)};T($,G=>{a(l)&&G(Re)},!0)}x(i,y)};T(Pe,i=>{a(ie)?i(Me):i(Ge,!1)})}e(P),h(i=>o(Oe,i),[()=>(v()("dashboard.newCampaign")||"NEW_CAMPAIGN").toUpperCase()]),x(Te,P),ut(),Ie()}export{tr as component};
