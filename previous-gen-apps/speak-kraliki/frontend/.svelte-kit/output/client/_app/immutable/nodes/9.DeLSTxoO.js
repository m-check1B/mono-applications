import{f as G,e as at,a as A,s as i}from"../chunks/C3NdowuV.js";import{p as rt,t as F,h as o,a as st,d as ot,s as l,c as t,b as c,$ as lt,r as e,g as m}from"../chunks/BIIBwolN.js";import{i as it}from"../chunks/BMZK_lNp.js";import{h as nt}from"../chunks/DCFnHnzv.js";import{r as I}from"../chunks/kJGk4-vF.js";import{b as K}from"../chunks/V2_FqNi0.js";import{s as mt,a as pt}from"../chunks/BfLFXwF2.js";import{g as ut}from"../chunks/BKtAgaYV.js";import{c as B}from"../chunks/BXAMcmxS.js";import{b as E,g as dt}from"../chunks/9ICADEXz.js";import{t as vt}from"../chunks/Czbc-fPz.js";var ct=G('<div class="mb-6 p-4 border-2 border-system-red text-system-red text-sm"> </div>'),bt=G('<div class="min-h-[calc(100vh-60px)] flex items-center justify-center p-4"><div class="brutal-card max-w-md w-full p-8"><div class="text-center mb-8"><h1 class="text-2xl mb-2"> </h1> <p class="text-sm text-muted-foreground"> </p></div> <!> <form><div class="mb-4"><label for="email" class="block text-sm mb-2"> </label> <input id="email" type="email" class="brutal-input w-full" required/></div> <div class="mb-6"><label for="password" class="block text-sm mb-2"> </label> <input id="password" type="password" class="brutal-input w-full" required/></div> <button type="submit" class="brutal-btn brutal-btn-primary w-full mb-4"> </button></form> <div class="text-center text-sm"><span class="text-muted-foreground"> </span> <a href="/register" class="text-terminal-green hover:underline"> </a></div></div></div>');function St(H,J){rt(J,!0);const s=()=>pt(vt,"$t",L),[L,M]=mt();let b=c(""),f=c(""),d=c(null),n=c(!1);async function N(r){r.preventDefault(),m(d,null),m(n,!0);try{const a=await B.login(o(b),o(f));E.setTokens(a.access_token,a.refresh_token);const p=await B.me(a.access_token),u=dt(a.access_token);E.setUser({...p,company_name:u==null?void 0:u.company_name}),ut("/dashboard")}catch(a){m(d,a.message||s()("auth.invalidCredentials"),!0)}finally{m(n,!1)}}var _=bt();nt("1x05zx6",r=>{ot(a=>{lt.title=`${a??""} - Speak by Kraliki`},[()=>s()("auth.login")])});var q=t(_),h=t(q),x=t(h),O=t(x,!0);e(x);var D=l(x,2),P=t(D,!0);e(D),e(h);var T=l(h,2);{var Q=r=>{var a=ct(),p=t(a,!0);e(a),F(()=>i(p,o(d))),A(r,a)};it(T,r=>{o(d)&&r(Q)})}var v=l(T,2),g=t(v),y=t(g),R=t(y,!0);e(y);var w=l(y,2);I(w),e(g);var $=l(g,2),k=t($),V=t(k,!0);e(k);var C=l(k,2);I(C),e($);var U=l($,2),W=t(U,!0);e(U),e(v);var j=l(v,2),S=t(j),X=t(S,!0);e(S);var z=l(S,2),Y=t(z,!0);e(z),e(j),e(q),e(_),F((r,a,p,u,Z,tt,et)=>{i(O,r),i(P,a),i(R,p),w.disabled=o(n),i(V,u),C.disabled=o(n),U.disabled=o(n),i(W,Z),i(X,tt),i(Y,et)},[()=>s()("auth.login").toUpperCase(),()=>s()("auth.loginDescription"),()=>s()("auth.email").toUpperCase(),()=>s()("auth.password").toUpperCase(),()=>o(n)?s()("auth.loggingIn").toUpperCase():s()("auth.login").toUpperCase(),()=>s()("auth.noAccount"),()=>s()("auth.register").toUpperCase()]),at("submit",v,N),K(w,()=>o(b),r=>m(b,r)),K(C,()=>o(f),r=>m(f,r)),A(H,_),st(),M()}export{St as component};
