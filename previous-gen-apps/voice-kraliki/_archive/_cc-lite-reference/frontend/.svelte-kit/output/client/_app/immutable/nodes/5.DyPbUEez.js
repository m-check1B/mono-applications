import"../chunks/DsnmJJEf.js";import{o as I,h as L}from"../chunks/BFqu7qA2.js";import{p as Q,w as C,x as R,d as n,a,b as V,$ as W,e as c,s,h as A,y as S,r as v,o as r,z as j,f as E,A as m}from"../chunks/BuVZNLKp.js";import{i as G}from"../chunks/-3rtMcgp.js";import{t as J}from"../chunks/CO_IWAlQ.js";import{B as D,C as P}from"../chunks/BFcXF936.js";import{S as x}from"../chunks/B7_pnCb2.js";var K=n('<div class="flex justify-center py-12"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"></div></div>'),N=n('<h2 class="text-lg font-semibold text-gray-900 dark:text-white">Quick Actions</h2>'),X=n('<div class="grid grid-cols-1 md:grid-cols-3 gap-4"><a href="/admin/users" class="block p-6 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors"><div class="text-2xl mb-2">ðŸ‘¥</div> <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-1">User Management</h3> <p class="text-sm text-gray-600 dark:text-gray-400">Add, edit, and manage user accounts</p></a> <a href="/admin/campaigns" class="block p-6 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors"><div class="text-2xl mb-2">ðŸ“¢</div> <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-1">Campaigns</h3> <p class="text-sm text-gray-600 dark:text-gray-400">Create and manage call campaigns</p></a> <a href="/admin/analytics" class="block p-6 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors"><div class="text-2xl mb-2">ðŸ“Š</div> <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-1">Analytics</h3> <p class="text-sm text-gray-600 dark:text-gray-400">View reports and insights</p></a></div>'),Y=n('<h2 class="text-lg font-semibold text-gray-900 dark:text-white">System Health</h2>'),Z=n('<div class="space-y-4"><div class="flex items-center justify-between"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">API Server</span> <span class="px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400">Healthy</span></div> <div class="flex items-center justify-between"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">Database</span> <span class="px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400">Connected</span></div> <div class="flex items-center justify-between"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">WebSocket</span> <span class="px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400">Active</span></div> <div class="flex items-center justify-between"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">Telephony</span> <span class="px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400">Ready</span></div></div>'),ee=n('<div class="grid grid-cols-1 md:grid-cols-4 gap-6"><!> <!> <!> <!></div> <!> <!>',1),te=n('<div class="space-y-6"><div class="flex items-center justify-between"><div><h1 class="text-2xl font-bold text-gray-900 dark:text-white">Admin Dashboard</h1> <p class="mt-1 text-sm text-gray-600 dark:text-gray-400">System overview and management</p></div> <div class="flex space-x-3"><!> <!></div></div> <!></div>');function oe(U,M){Q(M,!0);let f=C(!0),o=C(R({}));async function B(){try{const e=await J.dashboard.getOverview.query();j(o,e.stats||{},!0)}catch(e){console.error("Failed to load stats:",e)}finally{j(f,!1)}}I(()=>{B()});var p=te();L(e=>{W.title="Admin Dashboard - Voice by Kraliki"});var u=c(p),h=s(c(u),2),b=c(h);D(b,{variant:"secondary",onclick:()=>window.location.href="/admin/users",children:(e,l)=>{A();var d=S("Manage Users");a(e,d)},$$slots:{default:!0}});var H=s(b,2);D(H,{variant:"primary",onclick:()=>window.location.href="/admin/campaigns",children:(e,l)=>{A();var d=S("Campaigns");a(e,d)},$$slots:{default:!0}}),v(h),v(u);var O=s(u,2);{var T=e=>{var l=K();a(e,l)},q=e=>{var l=ee(),d=E(l),k=c(d);{let t=m(()=>r(o).totalCalls||0);x(k,{title:"Total Calls",get value(){return r(t)},subtitle:"All time"})}var _=s(k,2);{let t=m(()=>r(o).activeUsers||0);x(_,{title:"Active Users",get value(){return r(t)},subtitle:"Online now"})}var $=s(_,2);{let t=m(()=>r(o).totalCampaigns||0);x($,{title:"Campaigns",get value(){return r(t)},subtitle:"Active campaigns"})}var z=s($,2);{let t=m(()=>`${r(o).avgDuration||0}s`);x(z,{title:"Avg Duration",get value(){return r(t)},subtitle:"Call duration"})}v(d);var w=s(d,2);P(w,{header:i=>{var g=N();a(i,g)},children:(i,g)=>{var y=X();a(i,y)},$$slots:{header:!0,default:!0}});var F=s(w,2);P(F,{header:i=>{var g=Y();a(i,g)},children:(i,g)=>{var y=Z();a(i,y)},$$slots:{header:!0,default:!0}}),a(e,l)};G(O,e=>{r(f)?e(T):e(q,!1)})}v(p),a(U,p),V()}export{oe as component};
