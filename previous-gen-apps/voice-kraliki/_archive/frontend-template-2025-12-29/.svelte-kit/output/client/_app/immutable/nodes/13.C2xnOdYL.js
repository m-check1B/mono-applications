import{c as be,a as d,f as v}from"../chunks/pFl1CK35.js";import{o as Je}from"../chunks/0VtO9hYy.js";import{h as ae,p as Ve,s as w,a as Ce,d as t,f as l,e as o,t as G,g as r,c as Xe,r as e,n as j,j as qe}from"../chunks/aQ_ifger.js";import{s as c}from"../chunks/DBuqHHqM.js";import{i as J}from"../chunks/BTxJJ6eU.js";import{e as ee,i as te}from"../chunks/oqRKM5NY.js";import{r as Be,a as Ke}from"../chunks/BqAhscvM.js";import{s as re}from"../chunks/DGR2HyJN.js";import{d as We}from"../chunks/C918u5xm.js";import{b as Ye}from"../chunks/CDxeFDgn.js";import{g as L}from"../chunks/CTjsJUPt.js";import{M as et}from"../chunks/BcyIxIqt.js";import"../chunks/CnJ-dsFT.js";import{s as tt}from"../chunks/DaxPoLM8.js";import{l as rt,s as at}from"../chunks/DzqNI6-e.js";import{I as ot}from"../chunks/D7pKbUF5.js";import{P as st}from"../chunks/DxRKn0x_.js";import{S as it}from"../chunks/BztEPeEE.js";import{F as nt}from"../chunks/DfOzlxFp.js";import{P as lt}from"../chunks/BqbmOBb5.js";import{T as dt}from"../chunks/F1e28-8V.js";import{Z as ct}from"../chunks/CL1TQdwR.js";import{P as pt}from"../chunks/BumCI67k.js";function Ee(oe,V){const k=rt(V,["children","$$slots","$$events","$$legacy"]);const M=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"}],["path",{d:"M20 3v4"}],["path",{d:"M22 5h-4"}],["path",{d:"M4 17v2"}],["path",{d:"M5 18H3"}]];ot(oe,at({name:"sparkles"},()=>k,{get iconNode(){return M},children:(F,I)=>{var S=be(),N=ae(S);tt(N,V,"default",{}),d(F,S)},$$slots:{default:!0}}))}var vt=v("<button> </button>"),ut=v('<div class="h-48 brutal-card animate-pulse bg-muted/10 border-muted"></div>'),mt=v('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>'),ft=v('<div class="p-12 text-center border-2 border-system-red bg-system-red/5 text-system-red"><!> <h3 class="font-display text-xl uppercase">System Error</h3> <p class="font-mono text-sm mt-2"> </p> <button class="mt-4 underline uppercase font-bold text-xs">Retry Connection</button></div>'),xt=v('<div class="p-20 text-center border-2 border-dashed border-muted"><div class="relative inline-block mb-6"><!> <div class="absolute -right-2 -bottom-2 w-6 h-6 bg-terminal-green rounded-full flex items-center justify-center text-void font-bold text-xs">!</div></div> <h3 class="font-display text-2xl text-muted-foreground uppercase">No Data Found</h3> <p class="font-mono text-xs text-muted-foreground mt-2 mb-6">Search parameters yielded zero results.</p> <button class="text-terminal-green font-bold uppercase text-xs hover:underline">Initiate New Protocol</button></div>'),bt=v('<article class="group relative brutal-card hover:border-terminal-green hover:shadow-[8px_8px_0px_0px_rgba(51,255,0,1)] transition-all duration-200 flex flex-col h-full"><div class="p-5 pb-0 flex justify-between items-start"><span> </span> <div class="flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity"><button class="p-1.5 hover:bg-terminal-green hover:text-void border border-foreground transition-colors" title="Edit"><!></button> <button class="p-1.5 hover:bg-system-red hover:text-white border border-foreground transition-colors" title="Delete"><!></button></div></div> <div class="p-5 flex-1"><h3 class="font-display text-xl uppercase leading-tight mb-2 line-clamp-2"> </h3> <p class="font-mono text-xs text-muted-foreground line-clamp-3 mb-4 h-12"> </p> <div class="flex items-center gap-2 text-[10px] font-bold uppercase text-muted-foreground"><span></span> </div></div> <div class="p-4 border-t-2 border-border bg-muted/5 flex justify-between items-center mt-auto"><span class="font-mono text-[10px] text-muted-foreground"> </span> <div class="flex items-center gap-2"><button class="text-[10px] font-bold uppercase flex items-center gap-1 text-terminal-green hover:underline" title="Practice this scenario"><!> Practice</button> <span class="text-muted-foreground">|</span> <button class="text-[10px] font-bold uppercase flex items-center gap-1 group-hover:text-terminal-green transition-colors">Edit <!></button></div></div> <div class="absolute inset-0 pointer-events-none opacity-0 group-hover:opacity-10 bg-terminal-green/5 mix-blend-overlay transition-opacity"></div></article>'),_t=v('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>'),gt=v('<div class="p-8 text-center text-muted-foreground"><p>Loading templates...</p></div>'),ht=v('<button class="w-full brutal-card p-4 text-left hover:border-terminal-green hover:shadow-[4px_4px_0px_0px_rgba(51,255,0,1)] transition-all disabled:opacity-50 disabled:cursor-not-allowed"><div class="flex items-start justify-between gap-4"><div class="flex-1"><div class="flex items-center gap-2 mb-2"><h3 class="font-display text-lg uppercase"> </h3> <span> </span></div> <p class="text-sm text-muted-foreground line-clamp-2"> </p> <span class="inline-block mt-2 text-[10px] font-bold uppercase text-muted-foreground"> </span></div> <div class="flex-shrink-0"><span class="text-terminal-green text-xs font-bold uppercase"> </span></div></div></button>'),yt=v('<div class="space-y-4"></div>'),wt=v('<div class="fixed inset-0 z-50 flex items-center justify-center bg-void/80 backdrop-blur-sm"><div class="brutal-card max-w-2xl w-full mx-4 p-6 border-terminal-green shadow-[8px_8px_0px_0px_rgba(51,255,0,1)]"><div class="flex items-center justify-between mb-6 border-b-2 border-foreground pb-4"><div class="flex items-center gap-3"><!> <h2 class="text-2xl font-display uppercase tracking-tight">Quick Start Templates</h2></div> <button class="p-2 border-2 border-foreground hover:bg-system-red hover:text-white transition-colors">&times;</button></div> <p class="text-sm text-muted-foreground mb-6">Select a pre-built scenario template to instantly start practicing. These are fully configured training simulations.</p> <!> <div class="mt-6 pt-4 border-t border-muted text-center"><button class="text-sm text-muted-foreground hover:text-foreground">Cancel</button></div></div></div>'),kt=v('<div class="p-6 max-w-7xl mx-auto min-h-screen space-y-8"><header class="flex flex-col md:flex-row md:items-end justify-between gap-6 border-b-4 border-foreground pb-6"><div class="space-y-2"><h1 class="text-5xl font-display text-foreground tracking-tighter uppercase">Scenario <span class="text-terminal-green">Matrix</span></h1> <p class="text-[11px] font-bold uppercase tracking-[0.3em] text-muted-foreground"> </p></div> <div class="flex gap-3"><button class="brutal-btn bg-primary text-primary-foreground hover:translate-x-[-2px] hover:translate-y-[-2px]"><!> Voice Arena</button> <button class="brutal-btn bg-accent text-accent-foreground hover:translate-x-[-2px] hover:translate-y-[-2px]"><!> Quick Start</button> <button class="brutal-btn bg-terminal-green text-void hover:translate-x-[-2px] hover:translate-y-[-2px]"><!> New Simulation</button></div></header> <div class="flex flex-col md:flex-row gap-4 items-center justify-between"><div class="flex items-center gap-2 w-full md:w-auto"></div> <div class="relative w-full md:w-64"><!> <input type="text" placeholder="SEARCH_INDEX..." class="w-full pl-9 pr-4 py-2 bg-card border-2 border-border font-mono text-sm focus:outline-none focus:border-terminal-green focus:shadow-[4px_4px_0px_0px_rgba(51,255,0,1)] transition-all placeholder:text-muted-foreground/50 uppercase"/></div></div> <!></div> <!>',1);function Vt(oe,V){Ve(V,!0);let k=w(Ce([])),M=w(Ce([])),F=w(!0),I=w(null),S=w(""),N=w("All"),D=w(!1),X=w(!1);const je=["All","Customer Service","Sales","Technical Support","Compliance"];Je(async()=>{await Promise.all([se(),Le()])});async function Le(){try{const a=await fetch("/api/scenarios/templates/list");a.ok&&l(M,await a.json(),!0)}catch(a){console.error("Failed to load templates",a)}}async function Ne(a){l(X,!0);try{const s=await fetch("/api/scenarios/templates/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({template_id:a})});if(!s.ok)throw new Error("Failed to create from template");const n=await s.json();l(D,!1),await se(),L(`/scenarios/practice?id=${n.id}`)}catch{alert("Error creating scenario from template")}finally{l(X,!1)}}async function se(){l(F,!0),l(I,null);try{const a=await fetch("/api/scenarios");if(!a.ok)throw new Error("Failed to load scenarios");l(k,await a.json(),!0)}catch(a){l(I,a instanceof Error?a.message:"Unknown error",!0)}finally{l(F,!1)}}async function Pe(a){if(confirm("Are you sure you want to delete this scenario? This action cannot be undone."))try{if(!(await fetch(`/api/scenarios/${a}`,{method:"DELETE"})).ok)throw new Error("Failed to delete scenario");l(k,r(k).filter(n=>n.id!==a),!0)}catch{alert("Error deleting scenario")}}let _e=qe(()=>r(k).filter(a=>{const s=a.name.toLowerCase().includes(r(S).toLowerCase())||a.description.toLowerCase().includes(r(S).toLowerCase()),n=r(N)==="All"||a.category===r(N);return s&&n}));function ge(a){switch(a.toLowerCase()){case"easy":return"text-terminal-green";case"medium":return"text-accent";case"hard":return"text-system-red";case"expert":return"text-cyan-data";default:return"text-muted-foreground"}}var he=kt(),ie=ae(he),ne=t(ie),le=t(ne),ye=o(t(le),2),$e=t(ye);e(ye),e(le);var we=o(le,2),q=t(we);q.__click=()=>L("/arena");var Me=t(q);et(Me,{class:"w-5 h-5 inline mr-2"}),j(),e(q);var B=o(q,2);B.__click=()=>l(D,!0);var Fe=t(B);Ee(Fe,{class:"w-5 h-5 inline mr-2"}),j(),e(B);var de=o(B,2);de.__click=()=>L("/scenarios/builder");var Ie=t(de);st(Ie,{class:"w-5 h-5 inline mr-2"}),j(),e(de),e(we),e(ne);var ce=o(ne,2),pe=t(ce);ee(pe,21,()=>je,te,(a,s)=>{var n=vt();n.__click=()=>l(N,r(s),!0);var b=t(n,!0);e(n),G(()=>{re(n,1,`px-3 py-1 text-[10px] font-bold uppercase border-2 transition-all
						${r(N)===r(s)?"bg-foreground text-background border-foreground":"border-transparent text-muted-foreground hover:border-muted"}`),c(b,r(s))}),d(a,n)}),e(pe);var ke=o(pe,2),Se=t(ke);it(Se,{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"});var Te=o(Se,2);Be(Te),e(ke),e(ce);var De=o(ce,2);{var Oe=a=>{var s=mt();ee(s,20,()=>Array(6),te,(n,b)=>{var T=ut();d(n,T)}),e(s),d(a,s)},ze=a=>{var s=be(),n=ae(s);{var b=_=>{var g=ft(),A=t(g);AlertTriangleIcon(A,{class:"w-12 h-12 mx-auto mb-4"});var C=o(A,4),O=t(C,!0);e(C);var u=o(C,2);u.__click=se,e(g),G(()=>c(O,r(I))),d(_,g)},T=_=>{var g=be(),A=ae(g);{var C=u=>{var x=xt(),p=t(x),i=t(p);nt(i,{class:"w-16 h-16 text-muted/20"}),j(2),e(p);var E=o(p,6);E.__click=()=>L("/scenarios/builder"),e(x),d(u,x)},O=u=>{var x=_t();ee(x,21,()=>r(_e),te,(p,i)=>{var E=bt(),m=t(E),f=t(m),K=t(f,!0);e(f);var P=o(f,2),h=t(P);h.__click=()=>L(`/scenarios/builder?id=${r(i).id}`);var z=t(h);lt(z,{class:"w-3.5 h-3.5"}),e(h);var U=o(h,2);U.__click=()=>Pe(r(i).id);var Q=t(U);dt(Q,{class:"w-3.5 h-3.5"}),e(U),e(P),e(m);var R=o(m,2),y=t(R),ve=t(y,!0);e(y);var $=o(y,2),ue=t($,!0);e($);var H=o($,2),Z=t(H),me=o(Z);e(H),e(R);var W=o(R,2),fe=t(W),Re=t(fe,!0);e(fe);var Ae=o(fe,2),Y=t(Ae);Y.__click=()=>L(`/scenarios/practice?id=${r(i).id}`);var He=t(Y);ct(He,{class:"w-3 h-3"}),j(),e(Y);var xe=o(Y,4);xe.__click=()=>L(`/scenarios/builder?id=${r(i).id}`);var Ze=o(t(xe));pt(Ze,{class:"w-3 h-3"}),e(xe),e(Ae),e(W),j(2),e(E),G(Ge=>{re(f,1,`inline-block px-2 py-0.5 text-[9px] font-bold uppercase border border-foreground ${Ge??""}`),c(K,r(i).difficulty),Ke(y,"title",r(i).name),c(ve,r(i).name),c(ue,r(i).description||"No description provided."),re(Z,1,`w-2 h-2 rounded-full ${r(i).is_active?"bg-terminal-green":"bg-muted"}`),c(me,` ${r(i).is_active?"Active Protocol":"Archived"}`),c(Re,r(i).category)},[()=>ge(r(i).difficulty)]),d(p,E)}),e(x),d(u,x)};J(A,u=>{r(_e).length===0?u(C):u(O,!1)},!0)}d(_,g)};J(n,_=>{r(I)?_(b):_(T,!1)},!0)}d(a,s)};J(De,a=>{r(F)?a(Oe):a(ze,!1)})}e(ie);var Ue=o(ie,2);{var Qe=a=>{var s=wt(),n=t(s),b=t(n),T=t(b),_=t(T);Ee(_,{class:"w-6 h-6 text-terminal-green"}),j(2),e(T);var g=o(T,2);g.__click=()=>l(D,!1),e(b);var A=o(b,4);{var C=p=>{var i=gt();d(p,i)},O=p=>{var i=yt();ee(i,21,()=>r(M),te,(E,m)=>{var f=ht();f.__click=()=>Ne(r(m).id);var K=t(f),P=t(K),h=t(P),z=t(h),U=t(z,!0);e(z);var Q=o(z,2),R=t(Q,!0);e(Q),e(h);var y=o(h,2),ve=t(y,!0);e(y);var $=o(y,2),ue=t($,!0);e($),e(P);var H=o(P,2),Z=t(H),me=t(Z,!0);e(Z),e(H),e(K),e(f),G(W=>{f.disabled=r(X),c(U,r(m).name),re(Q,1,`px-2 py-0.5 text-[9px] font-bold uppercase border border-foreground ${W??""}`),c(R,r(m).difficulty),c(ve,r(m).description),c(ue,r(m).category),c(me,r(X)?"Creating...":"Start â†’")},[()=>ge(r(m).difficulty)]),d(E,f)}),e(i),d(p,i)};J(A,p=>{r(M).length===0?p(C):p(O,!1)})}var u=o(A,2),x=t(u);x.__click=()=>l(D,!1),e(u),e(n),e(s),d(a,s)};J(Ue,a=>{r(D)&&a(Qe)})}G(()=>c($e,`TRAINING_MODULES // TOTAL_COUNT: ${r(k).length??""} // STATUS: ONLINE`)),Ye(Te,()=>r(S),a=>l(S,a)),d(oe,he),Xe()}We(["click"]);export{Vt as component};
