import{f as n,a as i,c as V}from"../chunks/pFl1CK35.js";import{p as W,s as h,a as X,f as C,i as Y,c as Z,e as o,d as t,n as $,r as a,g as r,t as K,h as ee}from"../chunks/aQ_ifger.js";import{s as v}from"../chunks/DBuqHHqM.js";import{i as q}from"../chunks/BTxJJ6eU.js";import{e as ae,i as te}from"../chunks/oqRKM5NY.js";import{d as re}from"../chunks/C918u5xm.js";import{c as se,h as ie}from"../chunks/BxFt9zDy.js";import"../chunks/J6IVVljB.js";import{q as oe}from"../chunks/Bu_bTSTr.js";import{C as le}from"../chunks/CZh40yCO.js";import{F as ne}from"../chunks/DfOzlxFp.js";var ce=n('<div class="rounded-lg border border-error/40 bg-error/10 px-3 py-2 text-sm text-error"> <button class="ml-2 text-primary underline" type="button">Retry</button></div>'),de=n('<p class="text-xs text-text-muted">Loading campaigns…</p>'),me=n('<p class="text-sm text-text-secondary">No campaigns found.</p>'),pe=n('<article class="card bg-secondary/80"><div class="card-header"><div class="flex items-center gap-2 text-text-primary"><!> <h2 class="text-lg font-semibold"> </h2></div></div> <ul class="text-sm text-text-secondary"><li> </li> <li> </li></ul></article>'),ve=n('<div class="grid gap-4 md:grid-cols-2 xl:grid-cols-3"></div>'),ue=n('<section class="space-y-6"><header class="flex flex-col gap-3 md:flex-row md:items-center md:justify-between"><div class="space-y-1"><h1 class="text-2xl font-semibold text-text-primary">Campaign Library</h1> <p class="text-sm text-text-muted">Manage AI-driven calling campaigns, preview steps, and sync updates from the FastAPI backend.</p></div> <button class="btn btn-primary"><!> Import Campaign</button></header> <!> <!></section>');function Ae(M,P){W(P,!0);const j=se({queryKey:["campaigns"],queryFn:ie,staleTime:6e4});let m=h(X([])),F=h(!1),u=h(null);const E=j.subscribe(e=>{C(m,e.data??[],!0),C(F,e.isPending,!0),C(u,e.isError?e.error?.message??"Failed to load campaigns.":null,!0)});Y(()=>()=>{E()});var x=ue(),f=t(x),k=o(t(f),2),N=t(k);le(N,{class:"size-4"}),$(),a(k),a(f);var A=o(f,2);{var R=e=>{var s=ce(),p=t(s),g=o(p);g.__click=()=>{oe.invalidateQueries({queryKey:["campaigns"]})},a(s),K(()=>v(p,`${r(u)??""} `)),i(e,s)};q(A,e=>{r(u)&&e(R)})}var S=o(A,2);{var T=e=>{var s=de();i(e,s)},B=e=>{var s=V(),p=ee(s);{var g=l=>{var c=me();i(l,c)},D=l=>{var c=ve();ae(c,21,()=>r(m),te,(G,d)=>{var _=pe(),y=t(_),L=t(y),w=t(L);ne(w,{class:"size-4"});var I=o(w,2),H=t(I,!0);a(I),a(L),a(y);var Q=o(y,2),b=t(Q),J=t(b);a(b);var z=o(b,2),O=t(z);a(z),a(Q),a(_),K(U=>{v(H,r(d).name),v(J,`Language: ${r(d).language??"—"??""}`),v(O,`Steps: ${U??""}`)},[()=>r(d).stepsCount??(Array.isArray(r(d).steps)?r(d).steps.length:"—")]),i(G,_)}),a(c),i(l,c)};q(p,l=>{r(m).length===0?l(g):l(D,!1)},!0)}i(e,s)};q(S,e=>{r(F)&&!r(m).length?e(T):e(B,!1)})}a(x),i(M,x),Z()}re(["click"]);export{Ae as component};
