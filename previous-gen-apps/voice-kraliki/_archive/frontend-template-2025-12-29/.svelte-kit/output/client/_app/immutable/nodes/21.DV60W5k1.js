import{f as w,a as b}from"../chunks/pFl1CK35.js";import{o as ve}from"../chunks/0VtO9hYy.js";import{p as _e,f as p,e as l,t as h,c as fe,s as d,d as t,g as s,r as a,h as be}from"../chunks/aQ_ifger.js";import{s as i}from"../chunks/DBuqHHqM.js";import{i as Q}from"../chunks/BTxJJ6eU.js";import{s as x,r as g}from"../chunks/BqAhscvM.js";import{d as he,e as xe}from"../chunks/C918u5xm.js";import{s as ge,a as we}from"../chunks/BPSUqZ7R.js";import{g as R}from"../chunks/CTjsJUPt.js";import{b as U}from"../chunks/J6IVVljB.js";import"../chunks/Bu_bTSTr.js";import{t as ye}from"../chunks/dtg24zsp.js";var Se=w('<p class="rounded-lg border border-error/40 bg-error/10 px-3 py-2 text-sm text-error"> </p>'),$e=w('<span class="size-4 animate-spin rounded-full border-2 border-white border-t-transparent"></span> <span> </span>',1),Te=w("<span> </span>"),ke=w('<section class="mx-auto flex min-h-screen w-full max-w-md flex-col justify-center gap-6 px-4 py-12 text-text-primary"><div class="space-y-2 text-center"><h1 class="text-2xl font-semibold"> </h1> <p class="text-sm text-text-muted"> </p></div> <form class="space-y-4"><div class="field"><label for="name" class="field-label"> </label> <input id="name" type="text" class="input-field" autocomplete="name" placeholder="Alex Operator"/></div> <div class="field"><label for="email" class="field-label"> </label> <input id="email" type="email" class="input-field" autocomplete="email" placeholder="you@example.com"/></div> <div class="field"><label for="password" class="field-label"> </label> <input id="password" type="password" class="input-field" autocomplete="new-password" placeholder="••••••••"/></div> <div class="field"><label for="confirm-password" class="field-label"> </label> <input id="confirm-password" type="password" class="input-field" autocomplete="new-password" placeholder="••••••••"/></div> <!> <button class="btn btn-primary w-full" type="submit"><!></button></form> <p class="text-center text-sm text-text-muted"> <a class="text-primary hover:underline" href="/auth/login"> </a></p></section>');function Ge(V,W){_e(W,!0);const o=()=>we(ye,"$t",X),[X,Y]=ge();let y=d(""),v=d(""),m=d(""),S=d(""),_=d(!1),n=d("");ve(()=>{U.getSnapshot().status==="authenticated"&&R("/dashboard",{replaceState:!0})});async function Z(e){if(e.preventDefault(),p(n,""),!s(v)||!s(m)){p(n,o()("auth.error_missing_credentials"),!0);return}if(s(m)!==s(S)){p(n,o()("auth.error_password_mismatch"),!0);return}p(_,!0);const r=await U.register({email:s(v),password:s(m),full_name:s(y)});if(p(_,!1),r.success){R("/dashboard",{replaceState:!0});return}p(n,r.error??o()("auth.error_register_failed"),!0)}var $=ke(),T=t($),k=t(T),ee=t(k,!0);a(k);var I=l(k,2),te=t(I,!0);a(I),a(T);var f=l(T,2),M=t(f),j=t(M),ae=t(j,!0);a(j);var z=l(j,2);g(z),z.__input=e=>p(y,e.currentTarget.value,!0),a(M);var A=l(M,2),D=t(A),re=t(D,!0);a(D);var O=l(D,2);g(O),O.__input=e=>p(v,e.currentTarget.value,!0),a(A);var P=l(A,2),q=t(P),se=t(q,!0);a(q);var B=l(q,2);g(B),B.__input=e=>p(m,e.currentTarget.value,!0),a(P);var C=l(P,2),E=t(C),le=t(E,!0);a(E);var F=l(E,2);g(F),F.__input=e=>p(S,e.currentTarget.value,!0),a(C);var J=l(C,2);{var oe=e=>{var r=Se(),u=t(r,!0);a(r),h(()=>i(u,s(n))),b(e,r)};Q(J,e=>{s(n)&&e(oe)})}var G=l(J,2),ie=t(G);{var pe=e=>{var r=$e(),u=l(be(r),2),c=t(u,!0);a(u),h(H=>i(c,H),[()=>o()("auth.register_loading")]),b(e,r)},ue=e=>{var r=Te(),u=t(r,!0);a(r),h(c=>i(u,c),[()=>o()("auth.sign_up_button")]),b(e,r)};Q(ie,e=>{s(_)?e(pe):e(ue,!1)})}a(G),a(f);var K=l(f,2),L=t(K),N=l(L),ne=t(N,!0);a(N),a(K),a($),h((e,r,u,c,H,de,me,ce)=>{i(ee,e),i(te,r),i(ae,u),x(z,s(y)),i(re,c),x(O,s(v)),i(se,H),x(B,s(m)),i(le,de),x(F,s(S)),G.disabled=s(_),i(L,`${me??""} `),i(ne,ce)},[()=>o()("auth.register_title"),()=>o()("auth.register_subtitle"),()=>o()("auth.full_name_label"),()=>o()("auth.work_email_label"),()=>o()("auth.password_label"),()=>o()("auth.confirm_password_label"),()=>o()("auth.already_registered"),()=>o()("common.sign_in")]),xe("submit",f,Z),b(V,$),fe(),Y()}he(["input"]);export{Ge as component};
