import{aL as D,ag as q,ai as F,m as R,aD as W,a9 as z,aw as Q,aM as Z,aN as J,ae as P,aF as X,aO as x,aP as ee,aQ as ae,aR as re,w as I,g as se,aS as te,aT as ie,F as V,aU as ue,aV as fe,v as le,aW as oe}from"./aQ_ifger.js";import{c as ce,d as ne}from"./C918u5xm.js";import{b as ve,n as _e,c as de}from"./DBuqHHqM.js";import{c as he,s as be}from"./DGR2HyJN.js";import{s as ye}from"./C8vjnfWO.js";function ge(e,a){var r=void 0,s;D(()=>{r!==(r=a())&&(s&&(q(s),s=null),r&&(s=F(()=>{R(()=>r(e))})))})}function L(e,a,r=!1){if(e.multiple){if(a==null)return;if(!Q(a))return Z();for(var s of e.options)s.selected=a.includes(E(s));return}for(s of e.options){var u=E(s);if(J(u,a)){s.selected=!0;return}}(!r||a!==void 0)&&(e.selectedIndex=-1)}function H(e){var a=new MutationObserver(()=>{L(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),z(()=>{a.disconnect()})}function Ie(e,a,r=a){var s=new WeakSet,u=!0;W(e,"change",v=>{var _=v?"[selected]":":checked",d;if(e.multiple)d=[].map.call(e.querySelectorAll(_),E);else{var h=e.querySelector(_)??e.querySelector("option:not([disabled])");d=h&&E(h)}r(d),P!==null&&s.add(P)}),R(()=>{var v=a();if(e===document.activeElement){var _=X??P;if(s.has(_))return}if(L(e,v,u),u&&v===void 0){var d=e.querySelector(":checked");d!==null&&(v=E(d),r(v))}e.__value=v,u=!1}),H(e)}function E(e){return"__value"in e?e.__value:e.value}const N=Symbol("class"),w=Symbol("style"),Y=Symbol("is custom element"),j=Symbol("is html");function pe(e){if(I){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var s=e.value;O(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var u=e.checked;O(e,"checked",null),e.checked=u}}};e.__on_r=r,le(r),oe()}}function Le(e,a){var r=M(e);r.value===(r.value=a??void 0)||e.value===a&&(a!==0||e.nodeName!=="PROGRESS")||(e.value=a??"")}function Oe(e,a){var r=M(e);r.checked!==(r.checked=a??void 0)&&(e.checked=a)}function Se(e,a){a?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function O(e,a,r,s){var u=M(e);I&&(u[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||u[a]!==(u[a]=r)&&(a==="loading"&&(e[ee]=r),r==null?e.removeAttribute(a):typeof r!="string"&&B(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function Ae(e,a,r,s,u=!1,v=!1){if(I&&u&&e.tagName==="INPUT"){var _=e,d=_.type==="checkbox"?"defaultChecked":"defaultValue";d in r||pe(_)}var h=M(e),b=h[Y],g=!h[j];let S=I&&b;S&&V(!1);var f=a||{},A=e.tagName==="OPTION";for(var y in a)y in r||(r[y]=null);r.class?r.class=he(r.class):r[N]&&(r.class=null),r[w]&&(r.style??=null);var T=B(e);for(const t in r){let i=r[t];if(A&&t==="value"&&i==null){e.value=e.__value="",f[t]=i;continue}if(t==="class"){var k=e.namespaceURI==="http://www.w3.org/1999/xhtml";be(e,k,i,s,a?.[N],r[N]),f[t]=i,f[N]=r[N];continue}if(t==="style"){ye(e,i,a?.[w],r[w]),f[t]=i,f[w]=r[w];continue}var c=f[t];if(!(i===c&&!(i===void 0&&e.hasAttribute(t)))){f[t]=i;var U=t[0]+t[1];if(U!=="$$")if(U==="on"){const n={},p="$$"+t;let l=t.slice(2);var C=de(l);if(ve(l)&&(l=l.slice(0,-7),n.capture=!0),!C&&c){if(i!=null)continue;e.removeEventListener(l,f[p],n),f[p]=null}if(i!=null)if(C)e[`__${l}`]=i,ne([l]);else{let G=function(K){f[t].call(this,K)};f[p]=ce(l,e,G,n)}else C&&(e[`__${l}`]=void 0)}else if(t==="style")O(e,t,i);else if(t==="autofocus")ue(e,!!i);else if(!b&&(t==="__value"||t==="value"&&i!=null))e.value=e.__value=i;else if(t==="selected"&&A)Se(e,i);else{var o=t;g||(o=_e(o));var $=o==="defaultValue"||o==="defaultChecked";if(i==null&&!b&&!$)if(h[t]=null,o==="value"||o==="checked"){let n=e;const p=a===void 0;if(o==="value"){let l=n.defaultValue;n.removeAttribute(o),n.defaultValue=l,n.value=n.__value=p?l:null}else{let l=n.defaultChecked;n.removeAttribute(o),n.defaultChecked=l,n.checked=p?l:!1}}else e.removeAttribute(t);else $||T.includes(o)&&(b||typeof i!="string")?(e[o]=i,o in h&&(h[o]=fe)):typeof i!="function"&&O(e,o,i)}}}return S&&V(!0),f}function Me(e,a,r=[],s=[],u=[],v,_=!1,d=!1){x(u,r,s,h=>{var b=void 0,g={},S=e.nodeName==="SELECT",f=!1;if(D(()=>{var y=a(...h.map(se)),T=Ae(e,b,y,v,_,d);f&&S&&"value"in y&&L(e,y.value);for(let c of Object.getOwnPropertySymbols(g))y[c]||q(g[c]);for(let c of Object.getOwnPropertySymbols(y)){var k=y[c];c.description===te&&(!b||k!==b[c])&&(g[c]&&q(g[c]),g[c]=F(()=>ge(e,()=>k))),T[c]=k}b=T}),S){var A=e;R(()=>{L(A,b.value,!0),H(A)})}f=!0})}function M(e){return e.__attributes??={[Y]:e.nodeName.includes("-"),[j]:e.namespaceURI===ae}}var m=new Map;function B(e){var a=e.getAttribute("is")||e.nodeName,r=m.get(a);if(r)return r;m.set(a,r=[]);for(var s,u=e,v=Element.prototype;v!==u;){s=ie(u);for(var _ in s)s[_].set&&r.push(_);u=re(u)}return r}export{O as a,Ie as b,L as c,Oe as d,Me as e,H as i,pe as r,Le as s};
