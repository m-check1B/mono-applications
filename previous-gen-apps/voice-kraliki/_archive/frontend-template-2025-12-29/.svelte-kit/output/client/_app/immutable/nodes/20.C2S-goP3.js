import{f as b,a as _}from"../chunks/pFl1CK35.js";import{o as ut}from"../chunks/0VtO9hYy.js";import{p as dt,f as p,e as s,t as h,c as vt,s as x,d as e,g as l,r as a,h as ct}from"../chunks/aQ_ifger.js";import{s as i}from"../chunks/DBuqHHqM.js";import{i as I}from"../chunks/BTxJJ6eU.js";import{s as J,r as K}from"../chunks/BqAhscvM.js";import{d as mt,e as ft}from"../chunks/C918u5xm.js";import{s as _t,a as ht}from"../chunks/BPSUqZ7R.js";import{g as N}from"../chunks/CTjsJUPt.js";import{b as O}from"../chunks/J6IVVljB.js";import"../chunks/Bu_bTSTr.js";import{t as xt}from"../chunks/dtg24zsp.js";var bt=b('<p class="rounded-lg border border-error/40 bg-error/10 px-3 py-2 text-sm text-error"> </p>'),gt=b('<span class="size-4 animate-spin rounded-full border-2 border-white border-t-transparent"></span> <span> </span>',1),wt=b("<span> </span>"),yt=b('<section class="mx-auto flex min-h-screen w-full max-w-md flex-col justify-center gap-6 px-4 py-12 text-text-primary"><div class="space-y-2 text-center"><h1 class="text-2xl font-semibold"> </h1> <p class="text-sm text-text-muted"> </p></div> <form class="space-y-4"><div class="field"><label for="email" class="field-label"> </label> <input id="email" type="email" class="input-field" autocomplete="email" placeholder="you@example.com"/></div> <div class="field"><label for="password" class="field-label"> </label> <input id="password" type="password" class="input-field" autocomplete="current-password" placeholder="••••••••"/></div> <!> <button class="btn btn-primary w-full" type="submit"><!></button></form> <div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-text-muted/30"></div></div> <div class="relative flex justify-center text-xs"><span class="bg-background px-2 text-text-muted"> </span></div></div> <a href="/auth/sso" class="btn w-full border border-primary bg-primary/10 hover:bg-primary hover:text-white flex items-center justify-center gap-2"><svg class="size-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 7l10 5 10-5-10-5z"></path><path d="M2 17l10 5 10-5"></path><path d="M2 12l10 5 10-5"></path></svg> </a> <p class="text-center text-sm text-text-muted"> <a class="text-primary hover:underline" href="/auth/register"> </a></p></section>');function At(P,Q){dt(Q,!0);const o=()=>ht(xt,"$t",R),[R,U]=_t();let v=x(""),c=x(""),m=x(!1),u=x("");ut(()=>{O.getSnapshot().status==="authenticated"&&N("/dashboard",{replaceState:!0})});async function V(t){if(t.preventDefault(),p(u,""),!l(v)||!l(c)){p(u,o()("auth.error_missing_credentials"),!0);return}p(m,!0);const r=await O.login({email:l(v),password:l(c)});if(p(m,!1),r.success){N("/dashboard",{replaceState:!0});return}p(u,r.error??o()("auth.error_sign_in_failed"),!0)}var g=yt(),w=e(g),y=e(w),W=e(y,!0);a(y);var L=s(y,2),X=e(L,!0);a(L),a(w);var f=s(w,2),S=e(f),$=e(S),Y=e($,!0);a($);var k=s($,2);K(k),k.__input=t=>p(v,t.currentTarget.value,!0),a(S);var M=s(S,2),j=e(M),Z=e(j,!0);a(j);var z=s(j,2);K(z),z.__input=t=>p(c,t.currentTarget.value,!0),a(M);var q=s(M,2);{var tt=t=>{var r=bt(),n=e(r,!0);a(r),h(()=>i(n,l(u))),_(t,r)};I(q,t=>{l(u)&&t(tt)})}var T=s(q,2),et=e(T);{var at=t=>{var r=gt(),n=s(ct(r),2),d=e(n,!0);a(n),h(D=>i(d,D),[()=>o()("auth.sign_in_loading")]),_(t,r)},rt=t=>{var r=wt(),n=e(r,!0);a(r),h(d=>i(n,d),[()=>o()("common.sign_in")]),_(t,r)};I(et,t=>{l(m)?t(at):t(rt,!1)})}a(T),a(f);var B=s(f,2),A=s(e(B),2),E=e(A),st=e(E,!0);a(E),a(A),a(B);var C=s(B,2),ot=s(e(C));a(C);var F=s(C,2),G=e(F),H=s(G),it=e(H,!0);a(H),a(F),a(g),h((t,r,n,d,D,lt,nt,pt)=>{i(W,t),i(X,r),i(Y,n),J(k,l(v)),i(Z,d),J(z,l(c)),T.disabled=l(m),i(st,D),i(ot,` ${lt??""}`),i(G,`${nt??""} `),i(it,pt)},[()=>o()("auth.sign_in_title"),()=>o()("auth.sign_in_subtitle"),()=>o()("auth.work_email_label"),()=>o()("auth.password_label"),()=>o()("auth.continue_with"),()=>o()("auth.sso_button"),()=>o()("auth.need_account"),()=>o()("auth.create_account")]),ft("submit",f,V),_(P,g),vt(),U()}mt(["input"]);export{At as component};
