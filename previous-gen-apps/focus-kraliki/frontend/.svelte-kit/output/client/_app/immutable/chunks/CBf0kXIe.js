class r{baseURL;token=null;constructor(t){this.baseURL=t}setToken(t){this.token=t}getToken(){return this.token}getHeaders(){const t={"Content-Type":"application/json"};return this.token&&(t.Authorization=`Bearer ${this.token}`),t}async request(t,e={}){const s=`${this.baseURL}${t}`,i=await fetch(s,{...e,headers:{...this.getHeaders(),...e.headers}});if(!i.ok){let o="Request failed";try{const a=await i.json();o=a.detail||a.message||JSON.stringify(a)}catch{o=await i.text()}throw{detail:o,status:i.status}}return i.json()}async get(t){return this.request(t,{method:"GET"})}async post(t,e){return this.request(t,{method:"POST",body:e?JSON.stringify(e):void 0})}async patch(t,e){return this.request(t,{method:"PATCH",body:JSON.stringify(e)})}async put(t,e){return this.request(t,{method:"PUT",body:JSON.stringify(e)})}async delete(t){return this.request(t,{method:"DELETE"})}auth={register:t=>this.post("/auth/register",t),login:t=>this.post("/auth/login",t),me:()=>this.get("/auth/me"),logout:()=>this.post("/auth/logout")};google={getAuthUrl:t=>this.post("/auth/google/url",t),login:t=>this.post("/auth/google/login",t),link:t=>this.post("/auth/google/link",t),unlink:()=>this.post("/auth/google/unlink")};users={getProfile:()=>this.get("/users/profile"),updateProfile:t=>this.patch("/users/profile",t),getPreferences:()=>this.get("/users/preferences"),updatePreferences:t=>this.post("/users/preferences",t)};tasks={list:t=>{const e=t?`?${new URLSearchParams(t).toString()}`:"";return this.get(`/tasks${e}`)},create:t=>this.post("/tasks",t),get:t=>this.get(`/tasks/${t}`),update:(t,e)=>this.patch(`/tasks/${t}`,e),delete:t=>this.delete(`/tasks/${t}`),toggle:t=>this.post(`/tasks/${t}/toggle`),stats:()=>this.get("/tasks/stats/summary"),search:t=>this.get(`/tasks/search?q=${encodeURIComponent(t)}`)};projects={list:()=>this.get("/projects"),create:t=>this.post("/projects",t),get:t=>this.get(`/projects/${t}`),update:(t,e)=>this.patch(`/projects/${t}`,e),delete:t=>this.delete(`/projects/${t}`),listTemplates:()=>this.get("/projects/templates/list"),createFromTemplate:(t,e)=>{const s=e?`?custom_name=${encodeURIComponent(e)}`:"";return this.post(`/projects/templates/${t}/create${s}`)},getProgress:t=>this.get(`/projects/${t}/progress`)};events={list:t=>{const e=new URLSearchParams({start_date:t.startDate,end_date:t.endDate}).toString();return this.get(`/events?${e}`)},create:t=>this.post("/events",t),syncGoogle:()=>this.post("/events/sync/google")};integration={calendarStatus:()=>this.get("/integration/calendar/status"),createCalendarEvent:t=>this.post("/integration/calendar/events",t)};timeEntries={list:t=>{const e=t?`?${new URLSearchParams(t).toString()}`:"";return this.get(`/time-entries${e}`)},stats:()=>this.get("/time-entries/stats/summary"),active:()=>this.get("/time-entries/active"),create:t=>this.post("/time-entries",t),stop:(t,e)=>this.post(`/time-entries/${t}/stop`,e||{}),delete:t=>this.delete(`/time-entries/${t}`)};ai={chat:t=>this.post("/ai/chat",t),parseTask:t=>this.post("/ai/parse-task",t),enhanceInput:t=>this.post("/ai/enhance-input",t),analyzeTask:t=>this.post("/ai/analyze-task",t),orchestrateTask:t=>this.post("/ai/orchestrate-task",t),highReasoning:t=>this.post("/ai/high-reasoning",t),generateInsights:()=>this.post("/ai/insights"),getTaskRecommendations:()=>this.post("/ai/task-recommendations"),saveNote:t=>this.post("/ai/notes",t),getNotes:()=>this.get("/ai/notes"),saveMemory:t=>this.post("/ai/memory/save",t),recallMemory:t=>this.post("/ai/memory/recall",t),analyzeCognitiveState:()=>this.post("/ai/cognitive-state"),markTelemetryRoute:(t,e)=>this.post(`/ai/telemetry/${t}/route`,e),recordWorkflowDecision:(t,e)=>this.post(`/ai/telemetry/${t}/decision`,e),telemetrySummary:()=>this.get("/ai/telemetry/summary")};shadow={analyze:t=>this.post("/shadow/analyze",t),getInsights:()=>this.get("/shadow/insights"),acknowledgeInsight:t=>this.post(`/shadow/insights/${t}/acknowledge`),getUnlockStatus:()=>this.get("/shadow/unlock-status")};assistant={transcribeAudio:async(t,e="en",s)=>{const i=new FormData;i.append("audio",t,"recording.webm"),i.append("language",e),s&&i.append("provider",s);const o=await fetch(`${this.baseURL}/voice/transcribe`,{method:"POST",headers:{Authorization:`Bearer ${this.getToken()}`},body:i});if(!o.ok)throw new Error(await o.text());return o.json()},processVoice:t=>this.post("/voice/process",t),voiceToTask:t=>this.post("/voice/to-task",t),getProviders:()=>this.get("/voice/providers"),getRecordings:(t,e)=>{const s=new URLSearchParams;return t&&s.append("limit",String(t)),e&&s.append("offset",String(e)),this.get(`/voice/recordings?${s.toString()}`)},textToSpeech:t=>this.post("/assistant/tts",t),chat:t=>this.post("/assistant/chat",t)};pricing={listModels:()=>this.get("/pricing/models")};billing={getPlans:()=>this.get("/billing/plans"),createCheckoutSession:t=>this.post("/billing/checkout-session",t),createSubscription:t=>this.post("/billing/create-subscription",t),cancelSubscription:()=>this.post("/billing/cancel-subscription"),reactivateSubscription:()=>this.post("/billing/reactivate-subscription"),portalSession:()=>this.get("/billing/portal-session"),subscriptionStatus:()=>this.get("/billing/subscription-status")};workflow={createTemplate:t=>this.post("/workflow/templates",t),listTemplates:t=>{const e=t?`?${new URLSearchParams(t).toString()}`:"";return this.get(`/workflow/templates${e}`)},getTemplate:t=>this.get(`/workflow/templates/${t}`),updateTemplate:(t,e)=>this.put(`/workflow/templates/${t}`,e),deleteTemplate:t=>this.delete(`/workflow/templates/${t}`),execute:t=>this.post("/workflow/execute",t),generate:t=>this.post("/workflow/generate",t),getCategories:()=>this.get("/workflow/categories")};exports={generateInvoice:t=>this.post("/exports/invoices/generate",t),getBillableSummary:t=>{const e=new URLSearchParams(t).toString();return this.get(`/exports/billable/summary?${e}`)},getWeeklyBillable:(t=4)=>this.get(`/exports/billable/weekly?weeks=${t}`)};swarm={createTaskFromNL:t=>this.post("/swarm-tools/tasks/create-from-nl",t),getTaskWithContext:t=>this.post("/swarm-tools/tasks/get-with-context",t),createSubtasks:t=>this.post("/swarm-tools/tasks/create-subtasks",t),getRecommendations:t=>{const e=t?`?${new URLSearchParams(t).toString()}`:"";return this.get(`/swarm-tools/tasks/recommendations${e}`)},updateCognitiveState:t=>this.post("/swarm-tools/cognitive/update-state",t),getLatestCognitive:()=>this.get("/swarm-tools/cognitive/latest"),getCognitiveTrends:t=>{const e=t?`?${new URLSearchParams(t).toString()}`:"";return this.get(`/swarm-tools/cognitive/trends${e}`)}};knowledge={listItemTypes:t=>{const e=t?`?${new URLSearchParams(t).toString()}`:"";return this.get(`/knowledge/item-types${e}`)},createItemType:t=>this.post("/knowledge/item-types",t),getItemType:t=>this.get(`/knowledge/item-types/${t}`),updateItemType:(t,e)=>this.patch(`/knowledge/item-types/${t}`,e),deleteItemType:t=>this.delete(`/knowledge/item-types/${t}`),listKnowledgeItems:t=>{const e=t?`?${new URLSearchParams(t).toString()}`:"";return this.get(`/knowledge/items${e}`)},createKnowledgeItem:t=>this.post("/knowledge/items",t),getKnowledgeItem:t=>this.get(`/knowledge/items/${t}`),updateKnowledgeItem:(t,e)=>this.patch(`/knowledge/items/${t}`,e),deleteKnowledgeItem:t=>this.delete(`/knowledge/items/${t}`),toggleKnowledgeItem:t=>this.post(`/knowledge/items/${t}/toggle`),searchKnowledgeItems:(t,e)=>{const s=new URLSearchParams({query:t});return e&&s.append("typeId",e),this.get(`/knowledge/search?${s.toString()}`)}};agent={createSession:t=>this.post("/agent/sessions",t||{})};settings={saveOpenRouterKey:t=>this.post("/settings/openrouter-key",t),deleteOpenRouterKey:()=>this.delete("/settings/openrouter-key"),testOpenRouterKey:t=>this.post("/settings/test-openrouter-key",t),getUsageStats:()=>this.get("/settings/usage-stats")};notifications={getVapidKey:()=>this.get("/notifications/vapid-key"),subscribe:t=>this.post("/notifications/subscribe",t),unsubscribe:()=>this.delete("/notifications/subscribe"),getPreferences:()=>this.get("/notifications/preferences"),updatePreferences:t=>this.patch("/notifications/preferences",t),test:()=>this.post("/notifications/test",{})};analytics={overview:t=>{const e=t?.workspaceId?`?workspaceId=${t.workspaceId}`:"";return this.get(`/analytics/overview${e}`)},bottlenecks:t=>{const e=t?.workspaceId?`?workspaceId=${t.workspaceId}`:"";return this.get(`/analytics/bottlenecks${e}`)}};workspaces={list:()=>this.get("/workspaces"),create:t=>this.post("/workspaces",t),get:t=>this.get(`/workspaces/${t}`),switch:t=>this.post("/workspaces/switch",{workspaceId:t}),members:t=>this.get(`/workspaces/${t}/members`),inviteMember:(t,e)=>this.post(`/workspaces/${t}/members`,e),updateMember:(t,e,s)=>this.patch(`/workspaces/${t}/members/${e}`,s),removeMember:(t,e)=>this.delete(`/workspaces/${t}/members/${e}`)};onboarding={getStatus:()=>this.get("/onboarding/status"),listPersonas:()=>this.get("/onboarding/personas"),getPersona:t=>this.get(`/onboarding/personas/${t}`),selectPersona:t=>this.post("/onboarding/select-persona",t),updatePrivacyPreferences:t=>this.post("/onboarding/privacy-preferences",t),updateFeatureToggles:t=>this.post("/onboarding/feature-toggles",t),complete:t=>this.post("/onboarding/complete",t),skip:()=>this.post("/onboarding/skip",{})};brain={capture:t=>this.post("/brain/capture",t),summary:()=>this.get("/brain/summary"),understandGoal:t=>this.post("/brain/understand-goal",t),dailyPlan:()=>this.get("/brain/daily-plan"),ask:t=>this.post("/brain/ask",t),nextAction:()=>this.get("/brain/next-action"),health:()=>this.get("/brain/health")}}const g=new r("/api");export{g as a};
