import{c as ge,a as d,f as p,t as We}from"../chunks/pejWV2dy.js";import"../chunks/CQ2dU6u5.js";import{f as G,p as je,o as Ve,W as le,X as Ne,a as ze,g as e,m as y,c as a,s as n,b as l,n as u,r,t as U,u as m}from"../chunks/DgM1AnfY.js";import{e as de,s as h}from"../chunks/pi1oX53H.js";import{i as w}from"../chunks/B5hbs7lp.js";import{I as De,s as Re,l as ce,e as ue,i as me}from"../chunks/RjzcECkQ.js";import{s as pe}from"../chunks/DGcJkfPx.js";import{i as Ee}from"../chunks/CUTbOrLX.js";import{l as He,s as Qe,a as Xe,b as Ge}from"../chunks/BQCnAYr2.js";import{a as K}from"../chunks/CBf0kXIe.js";import{a as Je}from"../chunks/D1iePAOD.js";import{C as S}from"../chunks/C9kh6EQ2.js";import{L as ve}from"../chunks/BYeCHjh2.js";function fe(L,A){const I=He(A,["children","$$slots","$$events","$$legacy"]);const O=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z"}],["path",{d:"M5 21h14"}]];De(L,Qe({name:"crown"},()=>I,{get iconNode(){return O},children:(q,Y)=>{var P=ge(),$=G(P);Re($,A,"default",{}),d(q,P)},$$slots:{default:!0}}))}var Ze=p(`<div class="bg-primary/10 border border-primary/20 rounded-lg p-6 text-center"><div class="flex items-center justify-center gap-2 mb-4"><!> <span class="text-xl font-semibold text-primary">You're a Pro member!</span></div> <p class="text-muted-foreground mb-4">Thank you for supporting Focus by Kraliki. You have access to all premium features.</p> <button class="px-6 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors">Manage Subscription</button></div>`),er=p('<div class="flex items-center justify-center py-12"><!></div>'),rr=p('<div class="absolute -top-3 left-1/2 -translate-x-1/2"><span class="bg-primary text-primary-foreground text-sm font-medium px-3 py-1 rounded-full">Best Value</span></div>'),tr=p('<p class="text-sm text-primary mt-1"> </p>'),ar=p('<li class="flex items-center gap-3"><!> <span class="text-sm"> </span></li>'),sr=p("<!> Processing...",1),or=p('<div><!> <div class="text-center mb-6"><h2 class="text-xl font-semibold"> </h2> <div class="mt-4"><span class="text-4xl font-bold"> </span> <span class="text-muted-foreground"> </span></div> <!></div> <ul class="space-y-3 mb-6"></ul> <button><!></button></div>'),ir=p('<div class="grid md:grid-cols-2 gap-6"></div>'),nr=p('<div class="bg-destructive/10 border border-destructive/20 text-destructive rounded-lg p-4 text-center"> </div>'),lr=p(`<div class="max-w-4xl mx-auto space-y-8 p-6"><div class="text-center"><h1 class="text-3xl font-bold flex items-center justify-center gap-3"><!> Upgrade to Pro</h1> <p class="text-muted-foreground mt-2">Unlock unlimited AI capabilities and premium features</p></div> <!> <!> <div class="bg-muted/50 rounded-lg p-6"><h3 class="font-semibold mb-3">Current Free Tier Includes:</h3> <ul class="grid md:grid-cols-2 gap-2 text-sm text-muted-foreground"><li class="flex items-center gap-2"><!> Limited AI requests per day</li> <li class="flex items-center gap-2"><!> Basic task management</li> <li class="flex items-center gap-2"><!> Standard support</li> <li class="flex items-center gap-2"><!> BYOK (Bring Your Own Key) option</li></ul> <p class="text-sm text-muted-foreground mt-4">Want unlimited AI without subscribing? <a href="/dashboard/settings" class="text-primary hover:underline">Use your own OpenRouter API key</a></p></div> <div class="space-y-4"><h3 class="text-xl font-semibold">Frequently Asked Questions</h3> <div class="space-y-3"><details class="bg-card border border-border rounded-lg p-4"><summary class="font-medium cursor-pointer">Can I cancel anytime?</summary> <p class="mt-2 text-sm text-muted-foreground">Yes! You can cancel your subscription at any time. You'll continue to have access until the end of your billing period.</p></details> <details class="bg-card border border-border rounded-lg p-4"><summary class="font-medium cursor-pointer">What payment methods do you accept?</summary> <p class="mt-2 text-sm text-muted-foreground">We accept all major credit cards (Visa, Mastercard, American Express) through our secure payment processor, Stripe.</p></details> <details class="bg-card border border-border rounded-lg p-4"><summary class="font-medium cursor-pointer">What's the difference between Pro and BYOK?</summary> <p class="mt-2 text-sm text-muted-foreground">Pro gives you unlimited AI requests through our hosted infrastructure. BYOK (Bring Your Own Key) lets you use your own OpenRouter API key, giving you complete control over your AI usage and billing.</p></details> <details class="bg-card border border-border rounded-lg p-4"><summary class="font-medium cursor-pointer">Is there a free trial?</summary> <p class="mt-2 text-sm text-muted-foreground">The free tier gives you a taste of Focus by Kraliki's capabilities. You can use it indefinitely with limited AI requests, or upgrade to Pro for unlimited access.</p></details></div></div></div>`);function wr(L,A){je(A,!1);const I=()=>Ge(Je,"$authStore",O),[O,q]=Xe(),Y=y(),P=y();let $=y([]),J=y(!0),b=y(!1),F=y(null),x=y(null),ye=null;Ve(async()=>{await Promise.all([be(),xe()])});async function be(){try{const t=await K.billing.getPlans();l($,t.plans||[])}catch(t){ce.error("Failed to load plans",t),l($,[{id:"monthly",name:"Pro Monthly",price:9,currency:"USD",interval:"month",features:["Unlimited AI requests","Priority support","Advanced analytics","Calendar sync","Voice commands","Team features (coming soon)"],recommended:!1},{id:"yearly",name:"Pro Yearly",price:79,currency:"USD",interval:"year",features:["Unlimited AI requests","Priority support","Advanced analytics","Calendar sync","Voice commands","Team features (coming soon)","2 months free (save $29)"],recommended:!0}])}finally{l(J,!1)}}async function xe(){try{ye=await K.billing.subscriptionStatus()}catch(t){ce.error("Failed to load subscription status",t)}}async function _e(t){if(!e(b)){l(b,!0),l(F,t),l(x,null);try{const o=await K.billing.createCheckoutSession({plan:t});o?.url?window.location.href=o.url:l(x,"Failed to create checkout session")}catch(o){l(x,o.detail||o.message||"Failed to start subscription")}finally{l(b,!1),l(F,null)}}}async function he(){try{const t=await K.billing.portalSession();t?.url&&window.open(t.url,"_blank","noopener")}catch(t){l(x,t.detail||"Failed to open billing portal")}}le(()=>I(),()=>{l(Y,I().user)}),le(()=>e(Y),()=>{l(P,e(Y)?.isPremium||!1)}),Ne(),Ee();var M=lr(),T=a(M),Z=a(T),we=a(Z);fe(we,{class:"w-8 h-8 text-primary"}),u(),r(Z),u(2),r(T);var ee=n(T,2);{var Pe=t=>{var o=Ze(),v=a(o),N=a(v);fe(N,{class:"w-6 h-6 text-primary"}),u(2),r(v);var z=n(v,4);r(o),de("click",z,he),d(t,o)},$e=t=>{var o=ge(),v=G(o);{var N=_=>{var f=er(),D=a(f);ve(D,{class:"w-8 h-8 animate-spin text-primary"}),r(f),d(_,f)},z=_=>{var f=ir();ue(f,5,()=>e($),me,(D,s)=>{var B=or(),oe=a(B);{var Fe=i=>{var c=rr();d(i,c)};w(oe,i=>{e(s),m(()=>e(s).recommended)&&i(Fe)})}var R=n(oe,2),E=a(R),Be=a(E,!0);r(E);var H=n(E,2),Q=a(H),Ce=a(Q);r(Q);var ie=n(Q,2),Ue=a(ie);r(ie),r(H);var Ke=n(H,2);{var Le=i=>{var c=tr(),g=a(c);r(c),U(C=>h(g,`$${C??""}/month billed annually`),[()=>(e(s),m(()=>(e(s).price/12).toFixed(2)))]),d(i,c)};w(Ke,i=>{e(s),m(()=>e(s).interval==="year")&&i(Le)})}r(R);var X=n(R,2);ue(X,5,()=>(e(s),m(()=>e(s).features)),me,(i,c)=>{var g=ar(),C=a(g);S(C,{class:"w-5 h-5 text-primary flex-shrink-0"});var ne=n(C,2),Te=a(ne,!0);r(ne),r(g),U(()=>h(Te,e(c))),d(i,g)}),r(X);var k=n(X,2),Oe=a(k);{var qe=i=>{var c=sr(),g=G(c);ve(g,{class:"w-5 h-5 animate-spin inline mr-2"}),u(),d(i,c)},Me=i=>{var c=We("Subscribe Now");d(i,c)};w(Oe,i=>{e(b),e(F),e(s),m(()=>e(b)&&e(F)===e(s).id)?i(qe):i(Me,!1)})}r(k),r(B),U(()=>{pe(B,1,`relative bg-card border rounded-xl p-6 ${e(s),m(()=>e(s).recommended?"border-primary shadow-lg ring-2 ring-primary/20":"border-border")??""}`),h(Be,(e(s),m(()=>e(s).name))),h(Ce,`$${e(s),m(()=>e(s).price)??""}`),h(Ue,`/${e(s),m(()=>e(s).interval)??""}`),k.disabled=e(b),pe(k,1,`w-full py-3 rounded-lg font-medium transition-colors disabled:opacity-50 ${e(s),m(()=>e(s).recommended?"bg-primary text-primary-foreground hover:bg-primary/90":"bg-secondary text-secondary-foreground hover:bg-secondary/80")??""}`)}),de("click",k,()=>_e(e(s).id)),d(D,B)}),r(f),d(_,f)};w(v,_=>{e(J)?_(N):_(z,!1)})}d(t,o)};w(ee,t=>{e(P)?t(Pe):t($e,!1)})}var re=n(ee,2);{var ke=t=>{var o=nr(),v=a(o,!0);r(o),U(()=>h(v,e(x))),d(t,o)};w(re,t=>{e(x)&&t(ke)})}var te=n(re,2),ae=n(a(te),2),W=a(ae),Se=a(W);S(Se,{class:"w-4 h-4"}),u(),r(W);var j=n(W,2),Ae=a(j);S(Ae,{class:"w-4 h-4"}),u(),r(j);var V=n(j,2),Ie=a(V);S(Ie,{class:"w-4 h-4"}),u(),r(V);var se=n(V,2),Ye=a(se);S(Ye,{class:"w-4 h-4"}),u(),r(se),r(ae),u(2),r(te),u(2),r(M),d(L,M),ze(),q()}export{wr as component};
