import{c as X,a as u,f as g,t as Ft}from"../chunks/pejWV2dy.js";import{e as Rs,u as Fs,h as zs,B as Ws,ar as Us,f as z,p as Ge,c as s,r,s as c,g as o,i as he,a as He,b as k,n as se,t as ne,a4 as Kt,y as zt,j as we,o as Qe,ax as $a,bi as Gs,Y as Xr,ac as pa,m as Lr,a6 as Hs,G as Bs}from"../chunks/DgM1AnfY.js";import{a as Vs,e as Ks,n as Sa,k as Wr,o as sr,D as za,p as Da,q as mr}from"../chunks/B9v-mvxn.js";import{l as $e,s as Se,b as Ke,a as rt,p as gt}from"../chunks/BQCnAYr2.js";import{a as wr}from"../chunks/D1iePAOD.js";import{g as qs}from"../chunks/D9mD-Og7.js";import{w as Zt,g as Zs}from"../chunks/CABBFY_M.js";import{c as kt}from"../chunks/RA32IcEv.js";import{I as De,s as Te,l as Fe,e as ze,i as qe,a as Ys,t as wt}from"../chunks/RjzcECkQ.js";import{d as Ue,s as R,e as fa}from"../chunks/pi1oX53H.js";import{i as P}from"../chunks/B5hbs7lp.js";import{c as cs}from"../chunks/CnVLvYjB.js";import{s as Ne,a as Ta,r as bt,b as Ur,c as er,e as Pr}from"../chunks/DGcJkfPx.js";import"../chunks/CQ2dU6u5.js";import{C as Ea}from"../chunks/TQFJEm31.js";import{C as ba}from"../chunks/DhnkCbLb.js";import{S as vs}from"../chunks/rkXZYilU.js";import{S as At}from"../chunks/ClgZFxqt.js";import{b as Js}from"../chunks/QknctPh7.js";import{a as St,b as Xs}from"../chunks/CzAIYQz9.js";import{k as Be,P as Qs,S as eo}from"../chunks/1wX32fIk.js";import{w as ca}from"../chunks/CKwKpirn.js";import{e as Rr}from"../chunks/Ck-hEq_X.js";import{L as Ot}from"../chunks/BYeCHjh2.js";import{T as Wt}from"../chunks/cgRD4-iY.js";import{C as Tr}from"../chunks/C9kh6EQ2.js";import{U as to}from"../chunks/BCE5MqQf.js";import{a as Ae}from"../chunks/CBf0kXIe.js";import{i as Tt,d as or,q as _r,c as us,O as ps,e as Gt}from"../chunks/DOSPKQyx.js";import{X as Er}from"../chunks/BC-kAh8h.js";import{T as kr}from"../chunks/CXPUXJL5.js";import{S as ro}from"../chunks/BRDH1Nx-.js";import{Z as ao,T as so}from"../chunks/BJmwsjk-.js";import{L as Wa,B as oo}from"../chunks/D-QTshHZ.js";import{B as no}from"../chunks/t6v3vzHk.js";import{i as io}from"../chunks/CUTbOrLX.js";import{C as lo}from"../chunks/Be0ZnyvZ.js";function co(t,a,e){Rs(()=>{var n=Fs(()=>a(t,e?.())||{});if(e&&n?.update){var i=!1,d={};zs(()=>{var l=e();Ws(l),i&&Us(d,l)&&(d=l,n.update(l))}),i=!0}if(n?.destroy)return()=>n.destroy()})}function Ia(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2"}]];De(t,Se({name:"activity"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function vo(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]];De(t,Se({name:"arrow-right"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function uo(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M7 7h10v10"}],["path",{d:"M7 17 17 7"}]];De(t,Se({name:"arrow-up-right"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function po(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742"}],["path",{d:"m2 2 20 20"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05"}]];De(t,Se({name:"bell-off"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function fo(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326"}]];De(t,Se({name:"bell"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function Ua(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}]];De(t,Se({name:"book"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function bo(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"m15 18-6-6 6-6"}]];De(t,Se({name:"chevron-left"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function go(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"m9 18 6-6-6-6"}]];De(t,Se({name:"chevron-right"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function Gr(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m9 12 2 2 4-4"}]];De(t,Se({name:"circle-check"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function ho(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["circle",{cx:"12",cy:"12",r:"10"}]];De(t,Se({name:"circle"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function Ga(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}],["path",{d:"M12 11h4"}],["path",{d:"M12 16h4"}],["path",{d:"M8 11h.01"}],["path",{d:"M8 16h.01"}]];De(t,Se({name:"clipboard-list"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function tr(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 16 14"}]];De(t,Se({name:"clock"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function mo(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10"}]];De(t,Se({name:"credit-card"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function xo(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5"}],["path",{d:"M3 12A9 3 0 0 0 21 12"}]];De(t,Se({name:"database"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function _o(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["line",{x1:"12",x2:"12",y1:"2",y2:"22"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}]];De(t,Se({name:"dollar-sign"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function yo(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["circle",{cx:"12",cy:"12",r:"1"}],["circle",{cx:"12",cy:"5",r:"1"}],["circle",{cx:"12",cy:"19",r:"1"}]];De(t,Se({name:"ellipsis-vertical"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function wo(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M15 3h6v6"}],["path",{d:"M10 14 21 3"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}]];De(t,Se({name:"external-link"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function Hr(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M10 9H8"}],["path",{d:"M16 13H8"}],["path",{d:"M16 17H8"}]];De(t,Se({name:"file-text"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function ko(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z"}],["path",{d:"M8 10v4"}],["path",{d:"M12 10v2"}],["path",{d:"M16 10v6"}]];De(t,Se({name:"folder-kanban"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function Ha(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}]];De(t,Se({name:"folder"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function $o(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z"}]];De(t,Se({name:"funnel"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function Ba(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M9 10h.01"}],["path",{d:"M15 10h.01"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z"}]];De(t,Se({name:"ghost"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function So(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["circle",{cx:"9",cy:"12",r:"1"}],["circle",{cx:"9",cy:"5",r:"1"}],["circle",{cx:"9",cy:"19",r:"1"}],["circle",{cx:"15",cy:"12",r:"1"}],["circle",{cx:"15",cy:"5",r:"1"}],["circle",{cx:"15",cy:"19",r:"1"}]];De(t,Se({name:"grip-vertical"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function Do(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["circle",{cx:"9",cy:"9",r:"2"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"}]];De(t,Se({name:"image"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function To(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4"}],["path",{d:"m21 2-9.6 9.6"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5"}]];De(t,Se({name:"key"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function Eo(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"}],["path",{d:"M9 18h6"}],["path",{d:"M10 22h4"}]];De(t,Se({name:"lightbulb"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function fs(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]];De(t,Se({name:"link"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function Va(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21"}]];De(t,Se({name:"monitor"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function Ka(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"}]];De(t,Se({name:"moon"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function Io(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M12 16h.01"}],["path",{d:"M12 8v4"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z"}]];De(t,Se({name:"octagon-alert"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function va(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M13.234 20.252 21 12.3"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486"}]];De(t,Se({name:"paperclip"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function Qr(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["polygon",{points:"6 3 20 12 6 21 6 3"}]];De(t,Se({name:"play"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function Ao(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"}],["path",{d:"M16 16h5v5"}]];De(t,Se({name:"refresh-ccw"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function Aa(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}],["path",{d:"M8 16H3v5"}]];De(t,Se({name:"refresh-cw"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function bs(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];De(t,Se({name:"save"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function Oa(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["circle",{cx:"11",cy:"11",r:"8"}],["path",{d:"m21 21-4.3-4.3"}]];De(t,Se({name:"search"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function Oo(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18"}]];De(t,Se({name:"server"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function Lo(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}]];De(t,Se({name:"square"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function qa(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];De(t,Se({name:"sun"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function La(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor"}]];De(t,Se({name:"tag"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function gs(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}],["polyline",{points:"16 7 22 7 22 13"}]];De(t,Se({name:"trending-up"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function Po(t,a){const e=$e(a,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72"}],["path",{d:"m14 7 3 3"}],["path",{d:"M5 6v4"}],["path",{d:"M19 14v4"}],["path",{d:"M10 2v2"}],["path",{d:"M7 8H3"}],["path",{d:"M21 16h-4"}],["path",{d:"M11 3H9"}]];De(t,Se({name:"wand-sparkles"},()=>e,{get iconNode(){return n},children:(i,d)=>{var l=X(),v=z(l);Te(v,a,"default",{}),u(i,l)},$$slots:{default:!0}}))}function Co(){const{subscribe:t,update:a}=Zt([]);function e(i,d="info",l=4e3,v){const p=crypto.randomUUID?.()||String(Date.now()),h={id:p,type:d,message:i,timeout:l,action:v};a(f=>[...f,h]),l>0&&setTimeout(()=>n(p),l)}function n(i){a(d=>d.filter(l=>l.id!==i))}return{subscribe:t,push:e,success:(i,d,l)=>e(i,"success",d,l),info:(i,d,l)=>e(i,"info",d,l),warning:(i,d,l)=>e(i,"warning",d,l),error:(i,d,l)=>e(i,"error",d,l),dismiss:n,successWithUndo:(i,d,l=6e3)=>{e(i,"success",l,{label:"Undo",onClick:d})},errorWithRetry:(i,d,l=8e3)=>{e(i,"error",l,{label:"Retry",onClick:d})}}}const xt=Co();class Mo{ws=null;reconnectAttempts=0;maxReconnectAttempts=5;reconnectDelay=1e3;heartbeatInterval=null;isIntentionallyClosed=!1;connect(){if(typeof window>"u"){Fe.warn("[WebSocket] Skipping connection (SSR)");return}const a=Zs(wr);if(!a.token||!a.user?.id){Fe.warn("[WebSocket] No auth token, skipping connection");return}{Fe.error("[WebSocket] PUBLIC_API_URL is required"),xt.error("Real-time updates unavailable (PUBLIC_API_URL missing)",5e3);return}}disconnect(){this.isIntentionallyClosed=!0,this.reconnectAttempts=0,this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null),this.ws&&(this.ws.close(),this.ws=null),Fe.info("[WebSocket] Disconnected")}send(a){this.ws?.readyState===WebSocket.OPEN?this.ws.send(JSON.stringify(a)):Fe.warn("[WebSocket] Cannot send, not connected")}isConnected(){return this.ws?.readyState===WebSocket.OPEN}handleOpen(){Fe.info("[WebSocket] Connected"),this.reconnectAttempts=0,this.isIntentionallyClosed=!1,this.heartbeatInterval=setInterval(()=>{this.send({type:"ping"})},3e4),xt.success("Real-time updates connected",2e3)}handleMessage(a){try{const e=JSON.parse(a.data);switch(Fe.debug("[WebSocket] Received:",{message:e}),e.type){case"item_created":this.handleItemCreated(e);break;case"task_update":this.handleTaskUpdate(e);break;case"notification":this.handleNotification(e);break;case"pong":break;default:Fe.info("[WebSocket] Unknown message type:",{type:e.type})}}catch(e){Fe.error("[WebSocket] Failed to parse message:",e)}}handleError(a){Fe.error("[WebSocket] Error:",a),xt.error("Real-time connection error",3e3)}handleClose(){if(Fe.info("[WebSocket] Connection closed"),this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null),!this.isIntentionallyClosed&&this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;const a=this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1);Fe.info(`[WebSocket] Reconnecting in ${a}ms (attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>this.connect(),a)}else this.reconnectAttempts>=this.maxReconnectAttempts&&(Fe.warn("[WebSocket] Max reconnect attempts reached"),xt.warning("Real-time updates disconnected",5e3))}handleItemCreated(a){const{entity:e,data:n}=a;if(!e||!n)return;const i=this.getEntityLabel(e);xt.success(`${i} created: ${n.title}`,3e3);const d=this.getPanelType(e);d&&kt.refresh(d)}handleTaskUpdate(a){const{data:e}=a;e&&(xt.info(`Task updated: ${e.title}`,2e3),kt.refresh("tasks"))}handleNotification(a){const{data:e}=a;if(!e)return;const n=e.type||"info",i=e.message||"Notification received";xt[n](i,4e3)}getEntityLabel(a){return{task:"Task",knowledge:"Knowledge Item",event:"Calendar Event",project:"Project"}[a]||a}getPanelType(a){return{task:"tasks",knowledge:"knowledge",event:"calendar",project:"projects"}[a]||null}}let dr=null;function No(){return dr||(dr=new Mo),dr}function jo(){No().connect()}function Ro(){dr&&(dr.disconnect(),dr=null)}var Fo=g('<div class="absolute right-0 top-full mt-2 z-50 min-w-[160px] bg-background border-2 border-black dark:border-white shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] dark:shadow-[4px_4px_0px_0px_rgba(255,255,255,1)] flex flex-col p-1"><button class="flex items-center gap-3 px-3 py-2 hover:bg-terminal-green hover:text-black text-xs font-display text-left uppercase transition-colors"><!> Light</button> <button class="flex items-center gap-3 px-3 py-2 hover:bg-terminal-green hover:text-black text-xs font-display text-left uppercase transition-colors"><!> Dark</button> <button class="flex items-center gap-3 px-3 py-2 hover:bg-terminal-green hover:text-black text-xs font-display text-left uppercase transition-colors"><!> System</button></div>'),zo=g('<div class="relative"><button class="p-2 hover:bg-accent border-2 border-transparent hover:border-black dark:hover:border-white flex items-center justify-center" title="Toggle Theme"><!></button> <!></div>');function Wo(t,a){Ge(a,!0);const e=()=>Ke(Vs,"$mode",n),[n,i]=rt();let d=he(!1);function l(){k(d,!o(d))}function v(_){Ks(_),k(d,!1)}var p=zo(),h=s(p);h.__click=l;var f=s(h);{var m=_=>{qa(_,{class:"w-5 h-5"})},b=_=>{var F=X(),E=z(F);{var W=O=>{Ka(O,{class:"w-5 h-5"})},C=O=>{Va(O,{class:"w-5 h-5"})};P(E,O=>{e()==="dark"?O(W):O(C,!1)},!0)}u(_,F)};P(f,_=>{e()==="light"?_(m):_(b,!1)})}r(h);var y=c(h,2);{var B=_=>{var F=Fo(),E=s(F);E.__click=()=>v("light");var W=s(E);qa(W,{class:"w-4 h-4"}),se(),r(E);var C=c(E,2);C.__click=()=>v("dark");var O=s(C);Ka(O,{class:"w-4 h-4"}),se(),r(C);var G=c(C,2);G.__click=()=>v("system");var q=s(G);Va(q,{class:"w-4 h-4"}),se(),r(G),r(F),u(_,F)};P(y,_=>{o(d)&&_(B)})}r(p),u(t,p),He(),i()}Ue(["click"]);var Uo=g('<a href="/dashboard/settings?tab=billing"><!> </a>'),Go=g('<button type="button" class="p-2 hover:bg-accent border-2 border-transparent hover:border-black dark:hover:border-white"><!></button>'),Ho=g('<div class="min-h-screen bg-neutral-100 dark:bg-neutral-900 flex items-center justify-center p-0 md:p-4 lg:p-8"><div class="w-full h-screen md:h-[calc(100vh-4rem)] lg:h-[calc(100vh-8rem)] max-w-[1920px] bg-background text-foreground relative flex flex-col md:border-2 md:border-black md:dark:border-white md:shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] md:dark:shadow-[8px_8px_0px_0px_rgba(255,255,255,1)] overflow-hidden"><header class="flex-shrink-0 flex items-center justify-between p-4 border-b-2 border-black dark:border-white bg-card z-10"><div class="flex items-center gap-3"><div class="w-8 h-8 border-2 border-black dark:border-white bg-primary text-primary-foreground flex items-center justify-center font-black text-sm"> </div> <div class="font-black text-xl uppercase tracking-tighter">Focus <span class="text-muted-foreground text-sm font-normal normal-case">by Kraliki</span></div> <!></div> <div class="flex items-center gap-1"><!> <div class="w-px h-6 bg-border mx-1"></div> <!> <button type="button" class="p-2 hover:bg-accent border-2 border-transparent hover:border-black dark:hover:border-white" title="Log out"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-log-out"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" x2="9" y1="12" y2="12"></line></svg></button></div></header> <main class="flex-1 overflow-hidden bg-background relative"><!></main></div></div>');function Bo(t,a){Ge(a,!0);let e=gt(a,"user",3,null),n=gt(a,"onLogout",3,null);function i(){n()?n()():a.onlogout&&a.onlogout()}const d=[{icon:ko,label:"Projects",action:()=>kt.open("projects")},{icon:Ea,label:"Calendar",action:()=>kt.open("calendar")},{icon:ba,label:"Analytics",action:()=>kt.open("analytics")},{icon:vs,label:"Settings",action:()=>kt.open("settings")}];var l=Ho(),v=s(l),p=s(v),h=s(p),f=s(h),m=s(f,!0);r(f);var b=c(f,4);{var y=O=>{var G=Uo(),q=s(G);At(q,{class:"w-3 h-3"});var te=c(q);r(G),ne(()=>{Ne(G,1,`hidden md:flex items-center gap-1.5 px-3 py-1 ${e()?.academyStatus==="WAITLIST"?"bg-secondary text-muted-foreground":"bg-terminal-green text-black"} text-[10px] font-black uppercase tracking-widest border-2 border-black ${e()?.academyStatus==="WAITLIST"?"":"animate-pulse hover:animate-none"} transition-all shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-x-[1px] active:translate-y-[1px]`),R(te,` ${e()?.academyStatus==="WAITLIST"?"Waitlisted":"Join Academy (Jan 1)"}`)}),u(O,G)};P(b,O=>{e()?.isPremium||O(y)})}r(h);var B=c(h,2),_=s(B);ze(_,17,()=>d,qe,(O,G)=>{let q=()=>o(G).icon,te=()=>o(G).label,J=()=>o(G).action;var Y=Go();Y.__click=function(...K){J()?.apply(this,K)};var re=s(Y);cs(re,q,(K,D)=>{D(K,{class:"w-5 h-5"})}),r(Y),ne(()=>Ta(Y,"title",te())),u(O,Y)});var F=c(_,4);Wo(F,{});var E=c(F,2);E.__click=i,r(B),r(p);var W=c(p,2),C=s(W);Sa(C,()=>a.children),r(W),r(v),r(l),ne(O=>R(m,O),[()=>e()?.full_name?.charAt(0).toUpperCase()||"F"]),u(t,l),He()}Ue(["click"]);function Vo(t){const a=t-1;return a*a*a+1}function Ko(t,{from:a,to:e},n={}){var{delay:i=0,duration:d=q=>Math.sqrt(q)*120,easing:l=Vo}=n,v=getComputedStyle(t),p=v.transform==="none"?"":v.transform,[h,f]=v.transformOrigin.split(" ").map(parseFloat);h/=t.clientWidth,f/=t.clientHeight;var m=qo(t),b=t.clientWidth/e.width/m,y=t.clientHeight/e.height/m,B=a.left+a.width*h,_=a.top+a.height*f,F=e.left+e.width*h,E=e.top+e.height*f,W=(B-F)*b,C=(_-E)*y,O=a.width/e.width,G=a.height/e.height;return{delay:i,duration:typeof d=="function"?d(Math.sqrt(W*W+C*C)):d,easing:l,css:(q,te)=>{var J=te*W,Y=te*C,re=q+te*O,K=q+te*G;return`transform: ${p} translate(${J}px, ${Y}px) scale(${re}, ${K});`}}}function qo(t){if("currentCSSZoom"in t)return t.currentCSSZoom;for(var a=t,e=1;a!==null;)e*=+getComputedStyle(a).zoom,a=a.parentElement;return e}function Za(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,n)}return e}function Br(t){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?arguments[a]:{};a%2?Za(Object(e),!0).forEach(function(n){ur(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Za(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function lr(t){"@babel/helpers - typeof";return lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},lr(t)}function ur(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}function Zo(t,a){if(t==null)return{};var e={},n=Object.keys(t),i,d;for(d=0;d<n.length;d++)i=n[d],!(a.indexOf(i)>=0)&&(e[i]=t[i]);return e}function Yo(t,a){if(t==null)return{};var e=Zo(t,a),n,i;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],!(a.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(e[n]=t[n])}return e}function Jo(t,a){return Qo(t)||tn(t,a)||Pa(t,a)||an()}function $t(t){return Xo(t)||en(t)||Pa(t)||rn()}function Xo(t){if(Array.isArray(t))return ga(t)}function Qo(t){if(Array.isArray(t))return t}function en(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tn(t,a){var e=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var n=[],i=!0,d=!1,l,v;try{for(e=e.call(t);!(i=(l=e.next()).done)&&(n.push(l.value),!(a&&n.length===a));i=!0);}catch(p){d=!0,v=p}finally{try{!i&&e.return!=null&&e.return()}finally{if(d)throw v}}return n}}function Pa(t,a){if(t){if(typeof t=="string")return ga(t,a);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return ga(t,a)}}function ga(t,a){(a==null||a>t.length)&&(a=t.length);for(var e=0,n=new Array(a);e<a;e++)n[e]=t[e];return n}function rn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function an(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ir(t,a){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=Pa(t))||a){e&&(t=e);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(p){throw p},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var d=!0,l=!1,v;return{s:function(){e=e.call(t)},n:function(){var p=e.next();return d=p.done,p},e:function(p){l=!0,v=p},f:function(){try{!d&&e.return!=null&&e.return()}finally{if(l)throw v}}}}var sn="finalize",on="consider";function pr(t,a,e){t.dispatchEvent(new CustomEvent(sn,{detail:{items:a,info:e}}))}function qt(t,a,e){t.dispatchEvent(new CustomEvent(on,{detail:{items:a,info:e}}))}var ea="draggedEntered",Ar="draggedLeft",ta="draggedOverIndex",Ca="draggedLeftDocument",Vr={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function nn(t,a,e){t.dispatchEvent(new CustomEvent(ea,{detail:{indexObj:a,draggedEl:e}}))}function ln(t,a,e){t.dispatchEvent(new CustomEvent(Ar,{detail:{draggedEl:a,type:Vr.LEFT_FOR_ANOTHER,theOtherDz:e}}))}function dn(t,a){t.dispatchEvent(new CustomEvent(Ar,{detail:{draggedEl:a,type:Vr.OUTSIDE_OF_ANY}}))}function cn(t,a,e){t.dispatchEvent(new CustomEvent(ta,{detail:{indexObj:a,draggedEl:e}}))}function vn(t){window.dispatchEvent(new CustomEvent(Ca,{detail:{draggedEl:t}}))}var vt={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:ea,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:ta,DRAGGED_LEFT:Ar,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},ht={POINTER:"pointer",KEYBOARD:"keyboard"},ra="isDndShadowItem",aa="data-is-dnd-shadow-item-internal",un="data-is-dnd-shadow-item-hint",hs="id:dnd-shadow-placeholder-0000",pn="dnd-action-dragged-el",tt="id",ha=0;function ms(){ha++}function xs(){if(ha===0)throw new Error("Bug! trying to decrement when there are no dropzones");ha--}var Ma=typeof window>"u";function ma(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,e,n=a?gn(t):t.getBoundingClientRect(),i=getComputedStyle(t),d=i.transform;if(d){var l,v,p,h;if(d.startsWith("matrix3d("))e=d.slice(9,-1).split(/, /),l=+e[0],v=+e[5],p=+e[12],h=+e[13];else if(d.startsWith("matrix("))e=d.slice(7,-1).split(/, /),l=+e[0],v=+e[3],p=+e[4],h=+e[5];else return n;var f=i.transformOrigin,m=n.x-p-(1-l)*parseFloat(f),b=n.y-h-(1-v)*parseFloat(f.slice(f.indexOf(" ")+1)),y=l?n.width/l:t.offsetWidth,B=v?n.height/v:t.offsetHeight;return{x:m,y:b,width:y,height:B,top:b,right:m+y,bottom:b+B,left:m}}else return n}function _s(t){var a=ma(t);return{top:a.top+window.scrollY,bottom:a.bottom+window.scrollY,left:a.left+window.scrollX,right:a.right+window.scrollX}}function ys(t){var a=t.getBoundingClientRect();return{top:a.top+window.scrollY,bottom:a.bottom+window.scrollY,left:a.left+window.scrollX,right:a.right+window.scrollX}}function ws(t){return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function fn(t,a){return Math.sqrt(Math.pow(t.x-a.x,2)+Math.pow(t.y-a.y,2))}function sa(t,a){return t.y<=a.bottom&&t.y>=a.top&&t.x>=a.left&&t.x<=a.right}function $r(t){return ws(ys(t))}function Ya(t,a){var e=$r(t),n=_s(a);return sa(e,n)}function Ja(t,a){var e=$r(t),n=$r(a);return fn(e,n)}function bn(t){var a=ys(t);return a.right<0||a.left>document.documentElement.scrollWidth||a.bottom<0||a.top>document.documentElement.scrollHeight}function gn(t){for(var a=t.getBoundingClientRect(),e={top:a.top,bottom:a.bottom,left:a.left,right:a.right},n=!1,i=!1,d=t.parentElement;d&&d!==document.body;){var l=window.getComputedStyle(d),v=l.overflowY,p=l.overflowX,h=v==="scroll"||v==="auto",f=p==="scroll"||p==="auto";if(h||f){var m=d.getBoundingClientRect();if(h){var b=Math.max(e.top,m.top),y=Math.min(e.bottom,m.bottom);(b!==e.top||y!==e.bottom)&&(n=!0),e.top=b,e.bottom=y}if(f){var B=Math.max(e.left,m.left),_=Math.min(e.right,m.right);(B!==e.left||_!==e.right)&&(i=!0),e.left=B,e.right=_}}d=d.parentElement}return n||i?{top:e.top,bottom:e.bottom,left:e.left,right:e.right,width:Math.max(0,e.right-e.left),height:Math.max(0,e.bottom-e.top)}:{top:a.top,bottom:a.bottom,left:a.left,right:a.right,width:Math.max(0,a.right-a.left),height:Math.max(0,a.bottom-a.top)}}var cr;function Na(){cr=new Map}Na();function hn(t){var a=Array.from(t.children).findIndex(function(e){return e.getAttribute(aa)});if(a>=0)return cr.has(t)||cr.set(t,new Map),cr.get(t).set(a,_s(t.children[a])),a}function mn(t,a){if(!Ya(t,a))return null;var e=a.children;if(e.length===0)return{index:0,isProximityBased:!0};for(var n=hn(a),i=0;i<e.length;i++)if(Ya(t,e[i])){var d=cr.has(a)&&cr.get(a).get(i);return d&&!sa($r(t),d)?{index:n,isProximityBased:!1}:{index:i,isProximityBased:!1}}for(var l=Number.MAX_VALUE,v=void 0,p=0;p<e.length;p++){var h=Ja(t,e[p]);h<l&&(l=h,v=p)}if(e.length>0){var f=e.length,m=e[f-1],b=m.cloneNode(!1);b.style.visibility="hidden",b.style.pointerEvents="none",a.appendChild(b);var y=Ja(t,b);y<l&&(v=f),a.removeChild(b)}return{index:v,isProximityBased:!0}}function br(t){return JSON.stringify(t,null,2)}function Kr(t){if(!t)throw new Error("cannot get depth of a falsy node");return ks(t,0)}function ks(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.parentElement?ks(t.parentElement,a+1):a-1}function xn(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(var e in t)if(!{}.hasOwnProperty.call(a,e)||a[e]!==t[e])return!1;return!0}function _n(t,a){if(t.length!==a.length)return!1;for(var e=0;e<t.length;e++)if(t[e]!==a[e])return!1;return!0}var yn=200,Xa=10,xa;function wn(t,a){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yn,n=arguments.length>3?arguments[3]:void 0,i,d,l=!1,v,p=Array.from(a).sort(function(f,m){return Kr(m)-Kr(f)});function h(){var f=$r(t),m=n.multiScrollIfNeeded();if(!m&&v&&Math.abs(v.x-f.x)<Xa&&Math.abs(v.y-f.y)<Xa){xa=window.setTimeout(h,e);return}if(bn(t)){vn(t);return}v=f;var b=!1,y=Ir(p),B;try{for(y.s();!(B=y.n()).done;){var _=B.value;m&&Na();var F=mn(t,_);if(F!==null){var E=F.index;b=!0,_!==i?(i&&ln(i,t,_),nn(_,F,t),i=_):E!==d&&(cn(_,F,t),d=E);break}}}catch(W){y.e(W)}finally{y.f()}!b&&l&&i?(dn(i,t),i=void 0,d=void 0,l=!1):l=!0,xa=window.setTimeout(h,e)}h()}function kn(){clearTimeout(xa),Na()}var gr=30;function $n(){var t;function a(){t={directionObj:void 0,stepPx:0}}a();function e(d){var l=t,v=l.directionObj,p=l.stepPx;v&&(d.scrollBy(v.x*p,v.y*p),window.requestAnimationFrame(function(){return e(d)}))}function n(d){return gr-d}function i(d,l){if(!l)return!1;var v=Sn(d,l),p=!!t.directionObj;if(v===null)return p&&a(),!1;var h=!1,f=!1;return l.scrollHeight>l.clientHeight&&(v.bottom<gr?(h=!0,t.directionObj={x:0,y:1},t.stepPx=n(v.bottom)):v.top<gr&&(h=!0,t.directionObj={x:0,y:-1},t.stepPx=n(v.top)),!p&&h)||l.scrollWidth>l.clientWidth&&(v.right<gr?(f=!0,t.directionObj={x:1,y:0},t.stepPx=n(v.right)):v.left<gr&&(f=!0,t.directionObj={x:-1,y:0},t.stepPx=n(v.left)),!p&&f)?(e(l),!0):(a(),!1)}return{scrollIfNeeded:i,resetScrolling:a}}function Sn(t,a){var e=a===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:a.getBoundingClientRect();return sa(t,e)?{top:t.y-e.top,bottom:e.bottom-t.y,left:t.x-e.left,right:e.right-t.x}:null}function Dn(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,e=En(t),n=Array.from(e).sort(function(p,h){return Kr(h)-Kr(p)}),i=$n(),d=i.scrollIfNeeded,l=i.resetScrolling;function v(){var p=a();if(!p||!n)return!1;for(var h=n.filter(function(b){return sa(p,b.getBoundingClientRect())||b===document.scrollingElement}),f=0;f<h.length;f++){var m=d(p,h[f]);if(m)return!0}return!1}return{multiScrollIfNeeded:e.size>0?v:function(){return!1},destroy:function(){return l()}}}function Tn(t){if(!t)return[];for(var a=[],e=t;e;){var n=window.getComputedStyle(e),i=n.overflow;i.split(" ").some(function(d){return d.includes("auto")||d.includes("scroll")})&&a.push(e),e=e.parentElement}return a}function En(t){var a=new Set,e=Ir(t),n;try{for(e.s();!(n=e.n()).done;){var i=n.value;Tn(i).forEach(function(d){return a.add(d)})}}catch(d){e.e(d)}finally{e.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&a.add(document.scrollingElement),a}function In(t){var a=t.cloneNode(!0),e=[],n=t.tagName==="SELECT",i=n?[t]:$t(t.querySelectorAll("select")),d=Ir(i),l;try{for(d.s();!(l=d.n()).done;){var v=l.value;e.push(v.value)}}catch(C){d.e(C)}finally{d.f()}if(i.length>0)for(var p=n?[a]:$t(a.querySelectorAll("select")),h=0;h<p.length;h++){var f=p[h],m=e[h],b=f.querySelector('option[value="'.concat(m,'"'));b&&b.setAttribute("selected",!0)}var y=t.tagName==="CANVAS",B=y?[t]:$t(t.querySelectorAll("canvas"));if(B.length>0)for(var _=y?[a]:$t(a.querySelectorAll("canvas")),F=0;F<_.length;F++){var E=B[F],W=_[F];W.width=E.width,W.height=E.height,E.width>0&&E.height>0&&W.getContext("2d").drawImage(E,0,0)}return a}var Sr=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),An=ur({},Sr.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function $s(t){if(!Sr[t])throw new Error("Can't get non existing feature flag ".concat(t,"! Supported flags: ").concat(Object.keys(Sr)));return An[t]}var On=.2;function Yt(t){return"".concat(t," ").concat(On,"s ease")}function Ln(t,a){var e=t.getBoundingClientRect(),n=In(t);Ss(t,n),n.id=pn,n.style.position="fixed";var i=e.top,d=e.left;if(n.style.top="".concat(i,"px"),n.style.left="".concat(d,"px"),a){var l=ws(e);i-=l.y-a.y,d-=l.x-a.x,window.setTimeout(function(){n.style.top="".concat(i,"px"),n.style.left="".concat(d,"px")},0)}return n.style.margin="0",n.style.boxSizing="border-box",n.style.height="".concat(e.height,"px"),n.style.width="".concat(e.width,"px"),n.style.transition="".concat(Yt("top"),", ").concat(Yt("left"),", ").concat(Yt("background-color"),", ").concat(Yt("opacity"),", ").concat(Yt("color")," "),window.setTimeout(function(){return n.style.transition+=", ".concat(Yt("width"),", ").concat(Yt("height"))},0),n.style.zIndex="9999",n.style.cursor="grabbing",n}function Pn(t){t.style.cursor="grab"}function Cn(t,a,e,n){Ss(a,t);var i=a.getBoundingClientRect(),d=t.getBoundingClientRect(),l=i.width-d.width,v=i.height-d.height;if(l||v){var p={left:(e-d.left)/d.width,top:(n-d.top)/d.height};$s(Sr.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(t.style.height="".concat(i.height,"px"),t.style.width="".concat(i.width,"px")),t.style.left="".concat(parseFloat(t.style.left)-p.left*l,"px"),t.style.top="".concat(parseFloat(t.style.top)-p.top*v,"px")}}function Ss(t,a){var e=window.getComputedStyle(t);Array.from(e).filter(function(n){return n.startsWith("background")||n.startsWith("padding")||n.startsWith("font")||n.startsWith("text")||n.startsWith("align")||n.startsWith("justify")||n.startsWith("display")||n.startsWith("flex")||n.startsWith("border")||n==="opacity"||n==="color"||n==="list-style-type"||$s(Sr.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(n==="width"||n==="height")}).forEach(function(n){return a.style.setProperty(n,e.getPropertyValue(n),e.getPropertyPriority(n))})}function Mn(t,a){t.draggable=!1,t.ondragstart=function(){return!1},a?(t.style.userSelect="",t.style.WebkitUserSelect="",t.style.cursor=""):(t.style.userSelect="none",t.style.WebkitUserSelect="none",t.style.cursor="grab")}function Ds(t){t.style.display="none",t.style.position="fixed",t.style.zIndex="-5"}function Nn(t){t.style.visibility="hidden",t.setAttribute(aa,"true")}function jn(t){t.style.visibility="",t.removeAttribute(aa)}function Fr(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};t.forEach(function(n){var i=a(n);Object.keys(i).forEach(function(d){n.style[d]=i[d]}),e(n).forEach(function(d){return n.classList.add(d)})})}function qr(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};t.forEach(function(n){var i=a(n);Object.keys(i).forEach(function(d){n.style[d]=""}),e(n).forEach(function(d){return n.classList.contains(d)&&n.classList.remove(d)})})}function Rn(t){var a=t.style.minHeight;t.style.minHeight=window.getComputedStyle(t).getPropertyValue("height");var e=t.style.minWidth;return t.style.minWidth=window.getComputedStyle(t).getPropertyValue("width"),function(){t.style.minHeight=a,t.style.minWidth=e}}var Fn="--any--",zn=100,Wn=20,Cr=3,Un=80,Qa={outline:"rgba(255, 255, 102, 0.7) solid 2px"},es="data-is-dnd-original-dragged-item",pt,at,ft,oa,Ve,na,Vt,nt,Nt,lt,Ht=!1,ja=!1,Ra,Or=!1,zr=[],yr,jt,xr=!1,It=new Map,Je=new Map,ua=new WeakMap;function Gn(t,a){It.has(a)||It.set(a,new Set),It.get(a).has(t)||(It.get(a).add(t),ms())}function ts(t,a){It.get(a).delete(t),xs(),It.get(a).size===0&&It.delete(a)}function Hn(){var t=It.get(oa),a=Ir(t),e;try{for(a.s();!(e=a.n()).done;){var n=e.value;n.addEventListener(ea,Ts),n.addEventListener(Ar,Es),n.addEventListener(ta,Is)}}catch(l){a.e(l)}finally{a.f()}window.addEventListener(Ca,fr);var i=Math.max.apply(Math,$t(Array.from(t.keys()).map(function(l){return Je.get(l).dropAnimationDurationMs}))),d=i===0?Wn:Math.max(i,zn);yr=Dn(t,function(){return lt}),wn(at,t,d*1.07,yr)}function Bn(){var t=It.get(oa),a=Ir(t),e;try{for(a.s();!(e=a.n()).done;){var n=e.value;n.removeEventListener(ea,Ts),n.removeEventListener(Ar,Es),n.removeEventListener(ta,Is)}}catch(i){a.e(i)}finally{a.f()}window.removeEventListener(Ca,fr),yr&&(yr.destroy(),yr=void 0),kn()}function ia(t){return t.findIndex(function(a){return!!a[ra]})}function Vn(t){var a;return Br(Br({},t),{},(a={},ur(a,ra,!0),ur(a,tt,hs),a))}function Ts(t){var a=Je.get(t.currentTarget),e=a.items,n=a.dropFromOthersDisabled;if(!(n&&t.currentTarget!==Ve)){if(Or=!1,e=e.filter(function(v){return v[tt]!==Vt[tt]&&v[tt]!==hs}),Ve!==t.currentTarget){var i=Je.get(Ve).items,d=i.filter(function(v){return!v[ra]});qt(Ve,d,{trigger:vt.DRAGGED_ENTERED_ANOTHER,id:ft[tt],source:ht.POINTER})}var l=t.detail.indexObj.index;nt=t.currentTarget,e.splice(l,0,Vt),qt(t.currentTarget,e,{trigger:vt.DRAGGED_ENTERED,id:ft[tt],source:ht.POINTER})}}function Es(t){if(Ht){var a=Je.get(t.currentTarget),e=a.items,n=a.dropFromOthersDisabled;if(!(n&&t.currentTarget!==Ve&&t.currentTarget!==nt)){var i=$t(e),d=ia(i);d!==-1&&i.splice(d,1);var l=nt;nt=void 0;var v=t.detail,p=v.type,h=v.theOtherDz;if(p===Vr.OUTSIDE_OF_ANY||p===Vr.LEFT_FOR_ANOTHER&&h!==Ve&&Je.get(h).dropFromOthersDisabled){Or=!0,nt=Ve;var f=l===Ve?i:$t(Je.get(Ve).items);f.splice(na,0,Vt),qt(Ve,f,{trigger:vt.DRAGGED_LEFT_ALL,id:ft[tt],source:ht.POINTER})}qt(t.currentTarget,i,{trigger:vt.DRAGGED_LEFT,id:ft[tt],source:ht.POINTER})}}}function Is(t){var a=Je.get(t.currentTarget),e=a.items,n=a.dropFromOthersDisabled;if(!(n&&t.currentTarget!==Ve)){var i=$t(e);Or=!1;var d=t.detail.indexObj.index,l=ia(i);l!==-1&&i.splice(l,1),i.splice(d,0,Vt),qt(t.currentTarget,i,{trigger:vt.DRAGGED_OVER_INDEX,id:ft[tt],source:ht.POINTER})}}function Zr(t){t.preventDefault();var a=t.touches?t.touches[0]:t;lt={x:a.clientX,y:a.clientY},at.style.transform="translate3d(".concat(lt.x-Nt.x,"px, ").concat(lt.y-Nt.y,"px, 0)")}function fr(){ja=!0,window.removeEventListener("mousemove",Zr),window.removeEventListener("touchmove",Zr),window.removeEventListener("mouseup",fr),window.removeEventListener("touchend",fr),Bn(),Pn(at),nt||(nt=Ve);var t=Je.get(nt),a=t.items,e=t.type;qr(It.get(e),function(d){return Je.get(d).dropTargetStyle},function(d){return Je.get(d).dropTargetClasses});var n=ia(a);n===-1&&nt===Ve&&(n=na),a=a.map(function(d){return d[ra]?ft:d});function i(){Ra(),pr(nt,a,{trigger:Or?vt.DROPPED_OUTSIDE_OF_ANY:vt.DROPPED_INTO_ZONE,id:ft[tt],source:ht.POINTER}),nt!==Ve&&pr(Ve,Je.get(Ve).items,{trigger:vt.DROPPED_INTO_ANOTHER,id:ft[tt],source:ht.POINTER});var d=Array.from(nt.children).find(function(l){return l.getAttribute(aa)});d&&jn(d),Zn()}Je.get(nt).dropAnimationDisabled?i():Kn(n,i)}function Kn(t,a){var e=t>-1?ma(nt.children[t],!1):ma(nt,!1),n={x:e.left-parseFloat(at.style.left),y:e.top-parseFloat(at.style.top)},i=Je.get(nt),d=i.dropAnimationDurationMs,l="transform ".concat(d,"ms ease");at.style.transition=at.style.transition?at.style.transition+","+l:l,at.style.transform="translate3d(".concat(n.x,"px, ").concat(n.y,"px, 0)"),window.setTimeout(a,d)}function qn(t,a){zr.push({dz:t,destroy:a}),window.requestAnimationFrame(function(){Ds(t),document.body.appendChild(t)})}function Zn(){at&&at.remove&&at.remove(),pt&&pt.remove&&pt.remove(),at=void 0,pt=void 0,ft=void 0,oa=void 0,Ve=void 0,na=void 0,Vt=void 0,nt=void 0,Nt=void 0,lt=void 0,Ht=!1,ja=!1,Ra=void 0,Or=!1,jt&&clearTimeout(jt),jt=void 0,xr=!1,zr.length&&(zr.forEach(function(t){var a=t.dz,e=t.destroy;e(),a.remove()}),zr=[])}function Yn(t,a){var e=!1,n={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Qa,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},i=new Map;function d(){window.addEventListener("mousemove",p,{passive:!1}),window.addEventListener("touchmove",p,{passive:!1,capture:!1}),window.addEventListener("mouseup",v,{passive:!1}),window.addEventListener("touchend",v,{passive:!1})}function l(){window.removeEventListener("mousemove",p),window.removeEventListener("touchmove",p),window.removeEventListener("mouseup",v),window.removeEventListener("touchend",v),jt&&(clearTimeout(jt),jt=void 0,xr=!1)}function v(b){if(l(),pt=void 0,Nt=void 0,lt=void 0,b.type==="touchend"){var y=new Event("click",{bubbles:!0,cancelable:!0});b.target.dispatchEvent(y)}}function p(b){var y=!!b.touches,B=y?b.touches[0]:b;if(y&&n.delayTouchStartMs>0&&!xr){lt={x:B.clientX,y:B.clientY},(Math.abs(lt.x-Nt.x)>=Cr||Math.abs(lt.y-Nt.y)>=Cr)&&(jt&&(clearTimeout(jt),jt=void 0),v(b));return}b.preventDefault(),lt={x:B.clientX,y:B.clientY},(Math.abs(lt.x-Nt.x)>=Cr||Math.abs(lt.y-Nt.y)>=Cr)&&(l(),f())}function h(b){if(!(b.target!==b.currentTarget&&(b.target.value!==void 0||b.target.isContentEditable))&&!b.button&&!Ht){var y=!!b.touches,B=y&&n.delayTouchStartMs>0;B||b.preventDefault(),b.stopPropagation();var _=y?b.touches[0]:b;Nt={x:_.clientX,y:_.clientY},lt=Br({},Nt),pt=b.currentTarget,B&&(xr=!1,jt=window.setTimeout(function(){pt&&(xr=!0,l(),f())},n.delayTouchStartMs)),d()}}function f(){Ht=!0;var b=i.get(pt);na=b,Ve=pt.parentElement;var y=Ve.closest("dialog")||Ve.closest("[popover]")||Ve.getRootNode(),B=y.body||y,_=n.items,F=n.type,E=n.centreDraggedOnCursor,W=$t(_);ft=W[b],oa=F,Vt=Vn(ft),at=Ln(pt,E&&lt),B.appendChild(at);function C(){pt.parentElement?window.requestAnimationFrame(C):(pt.setAttribute(es,!0),B.appendChild(pt),Hn(),Ds(pt),Vt[tt]=ft[tt],at.focus())}window.requestAnimationFrame(C),Fr(Array.from(It.get(n.type)).filter(function(O){return O===Ve||!Je.get(O).dropFromOthersDisabled}),function(O){return Je.get(O).dropTargetStyle},function(O){return Je.get(O).dropTargetClasses}),W.splice(b,1,Vt),Ra=Rn(Ve),qt(Ve,W,{trigger:vt.DRAG_STARTED,id:ft[tt],source:ht.POINTER}),window.addEventListener("mousemove",Zr,{passive:!1}),window.addEventListener("touchmove",Zr,{passive:!1,capture:!1}),window.addEventListener("mouseup",fr,{passive:!1}),window.addEventListener("touchend",fr,{passive:!1})}function m(b){var y=b.items,B=y===void 0?void 0:y,_=b.flipDurationMs,F=_===void 0?0:_,E=b.type,W=E===void 0?Fn:E,C=b.dragDisabled,O=C===void 0?!1:C,G=b.morphDisabled,q=G===void 0?!1:G,te=b.dropFromOthersDisabled,J=te===void 0?!1:te,Y=b.dropTargetStyle,re=Y===void 0?Qa:Y,K=b.dropTargetClasses,D=K===void 0?[]:K,N=b.transformDraggedElement,U=N===void 0?function(){}:N,j=b.centreDraggedOnCursor,A=j===void 0?!1:j,I=b.dropAnimationDisabled,H=I===void 0?!1:I,S=b.delayTouchStart,w=S===void 0?!1:S;n.dropAnimationDurationMs=F;var x=0;w===!0?x=Un:typeof w=="number"&&isFinite(w)&&w>=0&&(x=w),n.delayTouchStartMs=x,n.type&&W!==n.type&&ts(t,n.type),n.type=W,n.items=$t(B),n.dragDisabled=O,n.morphDisabled=q,n.transformDraggedElement=U,n.centreDraggedOnCursor=A,n.dropAnimationDisabled=H,e&&Ht&&!ja&&(!xn(re,n.dropTargetStyle)||!_n(D,n.dropTargetClasses))&&(qr([t],function(){return n.dropTargetStyle},function(){return D}),Fr([t],function(){return re},function(){return D})),n.dropTargetStyle=re,n.dropTargetClasses=$t(D);function T(M,le){return Je.get(M)?Je.get(M)[le]:n[le]}e&&Ht&&n.dropFromOthersDisabled!==J&&(J?qr([t],function(M){return T(M,"dropTargetStyle")},function(M){return T(M,"dropTargetClasses")}):Fr([t],function(M){return T(M,"dropTargetStyle")},function(M){return T(M,"dropTargetClasses")})),n.dropFromOthersDisabled=J,Je.set(t,n),Gn(t,W);for(var Z=Ht?ia(n.items):-1,V=0;V<t.children.length;V++){var $=t.children[V];if(Mn($,O),V===Z){q||Cn(at,$,lt.x,lt.y),n.transformDraggedElement(at,ft,V),Nn($);continue}$.removeEventListener("mousedown",ua.get($)),$.removeEventListener("touchstart",ua.get($)),O||($.addEventListener("mousedown",h),$.addEventListener("touchstart",h),ua.set($,h)),i.set($,V),e||(e=!0)}}return m(a),{update:function(y){m(y)},destroy:function(){function y(){ts(t,Je.get(t).type),Je.delete(t)}Ht&&!t.closest("[".concat(es,"]"))?qn(t,y):y()}}}var Mr,_a={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},As=(Mr={},ur(Mr,_a.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),ur(Mr,_a.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),Mr),Jn="dnd-action-aria-alert",Xe;function ya(){Xe||(Xe=document.createElement("div"),(function(){Xe.id=Jn,Xe.style.position="fixed",Xe.style.bottom="0",Xe.style.left="0",Xe.style.zIndex="-5",Xe.style.opacity="0",Xe.style.height="0",Xe.style.width="0",Xe.setAttribute("role","alert")})(),document.body.prepend(Xe),Object.entries(As).forEach(function(t){var a=Jo(t,2),e=a[0],n=a[1];return document.body.prepend(ei(e,n))}))}function Xn(){return Ma?null:(document.readyState==="complete"?ya():window.addEventListener("DOMContentLoaded",ya),Br({},_a))}function Qn(){Ma||!Xe||(Object.keys(As).forEach(function(t){var a;return(a=document.getElementById(t))===null||a===void 0?void 0:a.remove()}),Xe.remove(),Xe=void 0)}function ei(t,a){var e=document.createElement("div");return e.id=t,e.innerHTML="<p>".concat(a,"</p>"),e.style.display="none",e.style.position="fixed",e.style.zIndex="-5",e}function vr(t){if(!Ma){Xe||ya(),Xe.innerHTML="";var a=document.createTextNode(t);Xe.appendChild(a),Xe.style.display="none",Xe.style.display="inline"}}var ti="--any--",rs={outline:"rgba(255, 255, 102, 0.7) solid 2px"},yt=!1,wa,dt,Xt="",Jt,Rt,Bt="",Yr=new WeakSet,as=new WeakMap,ss=new WeakMap,ka=new Map,ot=new Map,Et=new Map,Jr;function ri(t,a){Et.size===0&&(Jr=Xn(),window.addEventListener("keydown",Os),window.addEventListener("click",Ls)),Et.has(a)||Et.set(a,new Set),Et.get(a).has(t)||(Et.get(a).add(t),ms())}function os(t,a){dt===t&&Dr(),Et.get(a).delete(t),xs(),Et.get(a).size===0&&Et.delete(a),Et.size===0&&(window.removeEventListener("keydown",Os),window.removeEventListener("click",Ls),Jr=void 0,Qn())}function Os(t){yt&&t.key==="Escape"&&Dr()}function Ls(){yt&&(Yr.has(document.activeElement)||Dr())}function ai(t){if(yt){var a=t.currentTarget;if(a!==dt){Xt=a.getAttribute("aria-label")||"";var e=ot.get(dt),n=e.items,i=n.find(function(m){return m[tt]===Rt}),d=n.indexOf(i),l=n.splice(d,1)[0],v=ot.get(a),p=v.items,h=v.autoAriaDisabled;a.getBoundingClientRect().top<dt.getBoundingClientRect().top||a.getBoundingClientRect().left<dt.getBoundingClientRect().left?(p.push(l),h||vr("Moved item ".concat(Bt," to the end of the list ").concat(Xt))):(p.unshift(l),h||vr("Moved item ".concat(Bt," to the beginning of the list ").concat(Xt)));var f=dt;pr(f,n,{trigger:vt.DROPPED_INTO_ANOTHER,id:Rt,source:ht.KEYBOARD}),pr(a,p,{trigger:vt.DROPPED_INTO_ZONE,id:Rt,source:ht.KEYBOARD}),dt=a}}}function Ps(){ka.forEach(function(t,a){var e=t.update;return e(ot.get(a))})}function Dr(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;ot.get(dt).autoAriaDisabled||vr("Stopped dragging item ".concat(Bt)),Yr.has(document.activeElement)&&document.activeElement.blur(),t&&qt(dt,ot.get(dt).items,{trigger:vt.DRAG_STOPPED,id:Rt,source:ht.KEYBOARD}),qr(Et.get(wa),function(a){return ot.get(a).dropTargetStyle},function(a){return ot.get(a).dropTargetClasses}),Jt=null,Rt=null,Bt="",wa=null,dt=null,Xt="",yt=!1,Ps()}function si(t,a){var e={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:rs,dropTargetClasses:[],autoAriaDisabled:!1};function n(f,m,b){f.length<=1||f.splice(b,1,f.splice(m,1,f[b])[0])}function i(f){switch(f.key){case"Enter":case" ":{if((f.target.disabled!==void 0||f.target.href||f.target.isContentEditable)&&!Yr.has(f.target))return;f.preventDefault(),f.stopPropagation(),yt?Dr():d(f);break}case"ArrowDown":case"ArrowRight":{if(!yt)return;f.preventDefault(),f.stopPropagation();var m=ot.get(t),b=m.items,y=Array.from(t.children),B=y.indexOf(f.currentTarget);B<y.length-1&&(e.autoAriaDisabled||vr("Moved item ".concat(Bt," to position ").concat(B+2," in the list ").concat(Xt)),n(b,B,B+1),pr(t,b,{trigger:vt.DROPPED_INTO_ZONE,id:Rt,source:ht.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!yt)return;f.preventDefault(),f.stopPropagation();var _=ot.get(t),F=_.items,E=Array.from(t.children),W=E.indexOf(f.currentTarget);W>0&&(e.autoAriaDisabled||vr("Moved item ".concat(Bt," to position ").concat(W," in the list ").concat(Xt)),n(F,W,W-1),pr(t,F,{trigger:vt.DROPPED_INTO_ZONE,id:Rt,source:ht.KEYBOARD}));break}}}function d(f){v(f.currentTarget),dt=t,wa=e.type,yt=!0;var m=Array.from(Et.get(e.type)).filter(function(y){return y===dt||!ot.get(y).dropFromOthersDisabled});if(Fr(m,function(y){return ot.get(y).dropTargetStyle},function(y){return ot.get(y).dropTargetClasses}),!e.autoAriaDisabled){var b="Started dragging item ".concat(Bt,". Use the arrow keys to move it within its list ").concat(Xt);m.length>1&&(b+=", or tab to another list in order to move the item into it"),vr(b)}qt(t,ot.get(t).items,{trigger:vt.DRAG_STARTED,id:Rt,source:ht.KEYBOARD}),Ps()}function l(f){yt&&f.currentTarget!==Jt&&(f.stopPropagation(),Dr(!1),d(f))}function v(f){var m=ot.get(t),b=m.items,y=Array.from(t.children),B=y.indexOf(f);Jt=f,Jt.tabIndex=e.zoneItemTabIndex,Rt=b[B][tt],Bt=y[B].getAttribute("aria-label")||""}function p(f){var m=f.items,b=m===void 0?[]:m,y=f.type,B=y===void 0?ti:y,_=f.dragDisabled,F=_===void 0?!1:_,E=f.zoneTabIndex,W=E===void 0?0:E,C=f.zoneItemTabIndex,O=C===void 0?0:C,G=f.dropFromOthersDisabled,q=G===void 0?!1:G,te=f.dropTargetStyle,J=te===void 0?rs:te,Y=f.dropTargetClasses,re=Y===void 0?[]:Y,K=f.autoAriaDisabled,D=K===void 0?!1:K;e.items=$t(b),e.dragDisabled=F,e.dropFromOthersDisabled=q,e.zoneTabIndex=W,e.zoneItemTabIndex=O,e.dropTargetStyle=J,e.dropTargetClasses=re,e.autoAriaDisabled=D,e.type&&B!==e.type&&os(t,e.type),e.type=B,ri(t,B),D||(t.setAttribute("role","list"),t.setAttribute("aria-describedby",F?Jr.DND_ZONE_DRAG_DISABLED:Jr.DND_ZONE_ACTIVE)),ot.set(t,e),yt?t.tabIndex=t===dt||Jt.contains(t)||e.dropFromOthersDisabled||dt&&e.type!==ot.get(dt).type?-1:0:t.tabIndex=e.zoneTabIndex,t.addEventListener("focus",ai);for(var N=function(A){var I=t.children[A];Yr.add(I),I.tabIndex=yt?-1:e.zoneItemTabIndex,D||I.setAttribute("role","listitem"),I.removeEventListener("keydown",as.get(I)),I.removeEventListener("click",ss.get(I)),F||(I.addEventListener("keydown",i),as.set(I,i),I.addEventListener("click",l),ss.set(I,l)),yt&&e.items[A][tt]===Rt&&(Jt=I,Jt.tabIndex=e.zoneItemTabIndex,I.focus())},U=0;U<t.children.length;U++)N(U)}p(a);var h={update:function(m){p(m)},destroy:function(){os(t,e.type),ot.delete(t),ka.delete(t)}};return ka.set(t,h),h}var oi=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","delayTouchStart","dropAnimationDisabled"];function ni(t,a){if(ii(t))return{update:function(){},destroy:function(){}};ns(a);var e=Yn(t,a),n=si(t,a);return{update:function(d){ns(d),e.update(d),n.update(d)},destroy:function(){e.destroy(),n.destroy()}}}function ii(t){return!!t.closest("[".concat(un,'="true"]'))}function ns(t){var a=t.items;t.flipDurationMs,t.type,t.dragDisabled,t.morphDisabled,t.dropFromOthersDisabled;var e=t.zoneTabIndex,n=t.zoneItemTabIndex;t.dropTargetStyle;var i=t.dropTargetClasses;t.transformDraggedElement,t.autoAriaDisabled,t.centreDraggedOnCursor;var d=t.delayTouchStart;t.dropAnimationDisabled;var l=Yo(t,oi);if(Object.keys(l).length>0&&console.warn("dndzone will ignore unknown options",l),!a)throw new Error("no 'items' key provided to dndzone");var v=a.find(function(f){return!{}.hasOwnProperty.call(f,tt)});if(v)throw new Error("missing '".concat(tt,"' property for item ").concat(br(v)));if(i&&!Array.isArray(i))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(lr(i),", ").concat(br(i)));if(e&&!is(e))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(lr(e),", ").concat(br(e)));if(n&&!is(n))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(lr(n),", ").concat(br(n)));if(d!==void 0&&d!==!1){var p=d===!0,h=typeof d=="number"&&isFinite(d)&&d>=0;if(!p&&!h)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(lr(d),", ").concat(br(d)))}}function is(t){return!isNaN(t)&&(function(a){return(a|0)===a})(parseFloat(t))}var li=g('<div class="h-full flex items-center justify-center"><div class="flex flex-col items-center gap-4"><!> <p class="font-black uppercase tracking-widest text-sm">Synchronizing...</p></div></div>'),di=g('<div class="p-3 bg-red-100 dark:bg-red-900/30 border-2 border-red-500 text-red-500 text-xs font-bold uppercase">CRITICAL: "Tasks" item type not found in database.</div>'),ci=g('<button class="brutal-btn bg-terminal-green text-black">Ask AI to Create Task</button>'),vi=g('<div class="h-full flex flex-col items-center justify-center text-center p-8"><div class="brutal-card p-12 max-w-md bg-background flex flex-col items-center gap-6"><div class="p-4 bg-secondary border-2 border-border"><!></div> <div class="space-y-2"><h3 class="text-3xl font-black uppercase tracking-tighter">Void Detected</h3> <p class="text-sm font-bold uppercase text-muted-foreground tracking-wide">No tasks match your current configuration or the queue is empty.</p></div> <!></div></div>'),ui=g('<div class="w-3 h-3 bg-primary animate-pulse"></div>'),pi=g('<p class="text-sm font-medium text-muted-foreground line-clamp-2 leading-relaxed"> </p>'),fi=g('<span class="flex items-center gap-1.5 px-2 py-0.5 border-2 border-border bg-secondary"><!> </span>'),bi=g('<span class="flex items-center gap-1.5 px-2 py-0.5 border-2 border-border bg-secondary"><!> Assigned</span>'),gi=g('<div role="button" tabindex="0" class="brutal-card p-4 flex gap-4 group hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-brutal-subtle transition-all outline-none focus:ring-2 focus:ring-terminal-green active:translate-x-[4px] active:translate-y-[4px] active:shadow-none"><div class="hidden md:flex items-center justify-center cursor-grab active:cursor-grabbing text-muted-foreground hover:text-foreground border-r-2 border-border/10 pr-2"><!></div> <button tabindex="-1"><!></button> <div class="flex-1 min-w-0 space-y-3 select-none"><div class="flex items-start justify-between gap-4"><h3> </h3> <div class="flex items-center gap-1 opacity-0 group-hover:opacity-100 group-focus:opacity-100 transition-opacity"><button class="p-2 brutal-btn bg-white dark:bg-black !shadow-none hover:!shadow-brutal-sm scale-90" title="Ask Assistant" tabindex="-1"><!></button> <button class="p-2 brutal-btn bg-white dark:bg-black hover:bg-destructive hover:text-white !shadow-none hover:!shadow-brutal-sm scale-90" title="Delete" tabindex="-1"><!></button></div></div> <!> <div class="flex flex-wrap items-center gap-3 text-[10px] font-black uppercase tracking-widest"><span> </span> <!> <!></div></div></div>'),hi=g('<div class="space-y-4"></div>'),mi=g('<div class="h-full flex flex-col relative overflow-hidden bg-background"><div class="flex-shrink-0 p-6 border-b-2 border-black dark:border-white flex flex-col gap-4 bg-background z-10"><div class="flex items-center gap-3"><div class="p-2 border-2 border-black dark:border-white bg-secondary text-secondary-foreground"><!></div> <div><h2 class="text-2xl font-black uppercase tracking-tighter">Tasks</h2> <p class="text-sm font-bold text-muted-foreground">Create via AI  Manage via gestures</p></div></div> <div class="flex flex-wrap gap-3"><div class="flex-1 min-w-[200px] relative"><!> <input type="text" placeholder="Search tasks..." class="brutal-input pl-10"/></div> <select class="brutal-input w-auto min-w-[140px] appearance-none cursor-pointer"><option>All Status</option><option>Pending</option><option>In Progress</option><option>Completed</option></select> <select class="brutal-input w-auto min-w-[140px] appearance-none cursor-pointer"><option>All Priority</option><option>High</option><option>Medium</option><option>Low</option></select></div></div> <div class="flex-1 overflow-y-auto p-6 bg-grid-pattern"><!></div></div>');function xi(t,a){Ge(a,!0);const e=()=>Ke(Be,"$knowledgeStore",i),n=()=>Ke(ca,"$workspacesStore",i),[i,d]=rt();let l=he(""),v=he("ALL"),p=he("ALL"),h=he(null),f=he(null),m=he(Kt([])),b=he(!1),y=we(()=>e().items),B=we(()=>e().isLoading),_=we(n),F=we(()=>o(y).filter(L=>{if(o(f)&&L.typeId!==o(f))return!1;const ce=L.item_metadata||{};if(o(h)&&ce.workspaceId&&ce.workspaceId!==o(h))return!1;if(o(v)!=="ALL"){if(o(v)==="COMPLETED"){if(!L.completed)return!1}else if(L.completed||ce.status&&ce.status!==o(v))return!1}if(o(p)!=="ALL"&&ce.priority!==o(p))return!1;if(o(l)){const oe=o(l).toLowerCase();return L.title.toLowerCase().includes(oe)||(L.content||"").toLowerCase().includes(oe)}return!0}));zt(()=>{o(b)||k(m,[...o(F)],!0)}),Qe(async()=>{await ca.loadWorkspaces(),o(_).activeWorkspaceId&&(k(h,o(_).activeWorkspaceId,!0),await ca.loadMembers(o(h))),await Be.loadItemTypes();const L=e().itemTypes.find(ce=>ce.name.toLowerCase()==="tasks"||ce.name.toLowerCase()==="task");L?(k(f,L.id,!0),await Be.loadKnowledgeItems({typeId:o(f)})):Fe.warn('[TasksView] "Tasks" item type not found.')});function E(L){k(m,L.detail.items,!0),k(b,!0)}function W(L){k(m,L.detail.items,!0),k(b,!1)}async function C(L){const ce=!L.completed,oe={...L.item_metadata,status:ce?"COMPLETED":"PENDING"};await Be.updateKnowledgeItem(L.id,{completed:ce,item_metadata:oe})}async function O(L){const ce=o(y).find(be=>be.id===L);if(!ce)return;const oe={...ce};await Be.deleteKnowledgeItem(L),xt.successWithUndo(`Deleted "${oe.title}"`,async()=>{await Be.createKnowledgeItem({typeId:oe.typeId,title:oe.title,content:oe.content,item_metadata:oe.item_metadata})},6e3)}function G(L,ce){L.key==="Enter"||L.key===" "?(L.preventDefault(),C(ce)):(L.key==="Delete"||L.key==="Backspace")&&(L.preventDefault(),O(ce.id))}function q(L){return ce=>G(ce,L)}function te(L){const ce=`Review task "${L.title}" (completed: ${L.completed}).
Description: ${L.content||"None"}

Suggest next steps.`;Rr({prompt:ce,context:{itemId:L.id,type:"knowledge_item",subType:"task"}})}function J(L){switch(L){case"HIGH":return"bg-destructive text-destructive-foreground";case"MEDIUM":return"bg-accent text-accent-foreground";default:return"bg-muted text-muted-foreground"}}function Y(L){return L?new Date(L).toLocaleDateString():""}var re=mi(),K=s(re),D=s(K),N=s(D),U=s(N);Ga(U,{class:"w-6 h-6"}),r(N),se(2),r(D);var j=c(D,2),A=s(j),I=s(A);Oa(I,{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground z-10"});var H=c(I,2);bt(H),r(A);var S=c(A,2),w=s(S);w.value=w.__value="ALL";var x=c(w);x.value=x.__value="PENDING";var T=c(x);T.value=T.__value="IN_PROGRESS";var Z=c(T);Z.value=Z.__value="COMPLETED",r(S);var V=c(S,2),$=s(V);$.value=$.__value="ALL";var M=c($);M.value=M.__value="HIGH";var le=c(M);le.value=le.__value="MEDIUM";var ge=c(le);ge.value=ge.__value="LOW",r(V),r(j),r(K);var ee=c(K,2),Q=s(ee);{var ae=L=>{var ce=li(),oe=s(ce),be=s(oe);Ot(be,{class:"w-12 h-12 animate-spin text-primary"}),se(2),r(oe),r(ce),u(L,ce)},de=L=>{var ce=X(),oe=z(ce);{var be=ie=>{var fe=vi(),ue=s(fe),ve=s(ue),me=s(ve);Ga(me,{class:"w-16 h-16 text-muted-foreground"}),r(ve);var Ee=c(ve,4);{var Ie=xe=>{var Pe=di();u(xe,Pe)},Le=xe=>{var Pe=ci();Pe.__click=()=>kt.close(),u(xe,Pe)};P(Ee,xe=>{o(f)?xe(Le,!1):xe(Ie)})}r(ue),r(fe),u(ie,fe)},pe=ie=>{var fe=hi();ze(fe,29,()=>o(m),ue=>ue.id,(ue,ve)=>{var me=gi(),Ee=we(()=>q(o(ve)));me.__keydown=function(...Re){o(Ee)?.apply(this,Re)};var Ie=s(me),Le=s(Ie);So(Le,{class:"w-4 h-4"}),r(Ie);var xe=c(Ie,2);xe.__click=Re=>{Re.stopPropagation(),C(o(ve))};var Pe=s(xe);{var ye=Re=>{Tr(Re,{class:"w-5 h-5 stroke-[3]"})},Oe=Re=>{var it=X(),Ct=z(it);{var Mt=Ut=>{var la=ui();u(Ut,la)};P(Ct,Ut=>{o(ve).item_metadata?.status==="IN_PROGRESS"&&Ut(Mt)},!0)}u(Re,it)};P(Pe,Re=>{o(ve).completed?Re(ye):Re(Oe,!1)})}r(xe);var ke=c(xe,2),_e=s(ke),Me=s(_e),We=s(Me,!0);r(Me);var Ze=c(Me,2),Ce=s(Ze);Ce.__click=Re=>{Re.stopPropagation(),te(o(ve))};var je=s(Ce);At(je,{class:"w-4 h-4"}),r(Ce);var et=c(Ce,2);et.__click=Re=>{Re.stopPropagation(),O(o(ve).id)};var mt=s(et);Wt(mt,{class:"w-4 h-4"}),r(et),r(Ze),r(_e);var _t=c(_e,2);{var Lt=Re=>{var it=pi(),Ct=s(it,!0);r(it),ne(()=>R(Ct,o(ve).content)),u(Re,it)};P(_t,Re=>{o(ve).content&&Re(Lt)})}var ct=c(_t,2),ut=s(ct),Ye=s(ut,!0);r(ut);var st=c(ut,2);{var Pt=Re=>{var it=fi(),Ct=s(it);Ea(Ct,{class:"w-3.5 h-3.5"});var Mt=c(Ct);r(it),ne(Ut=>R(Mt,` ${Ut??""}`),[()=>Y(o(ve).item_metadata.dueDate)]),u(Re,it)};P(st,Re=>{o(ve).item_metadata?.dueDate&&Re(Pt)})}var Dt=c(st,2);{var rr=Re=>{var it=bi(),Ct=s(it);to(Ct,{class:"w-3.5 h-3.5"}),se(),r(it),u(Re,it)};P(Dt,Re=>{o(ve).item_metadata?.assignedUserId&&Re(rr)})}r(ct),r(ke),r(me),ne(Re=>{Ne(xe,1,`mt-1 w-7 h-7 flex-shrink-0 border-2 border-black dark:border-white flex items-center justify-center hover:bg-terminal-green transition-colors
							${o(ve).completed?"bg-terminal-green text-black":"bg-card"}`),Ne(Me,1,`text-xl font-black uppercase leading-tight tracking-tight ${o(ve).completed?"line-through opacity-40":""}`),R(We,o(ve).title),Ne(ut,1,`px-2 py-0.5 border-2 border-border ${Re??""}`),R(Ye,o(ve).item_metadata?.priority||"MEDIUM")},[()=>J(o(ve).item_metadata?.priority)]),Ys(me,()=>Ko,()=>({duration:200})),u(ue,me)}),r(fe),co(fe,(ue,ve)=>ni?.(ue,ve),()=>({items:o(m),flipDurationMs:200,dropTargetStyle:{}})),fa("consider",fe,E),fa("finalize",fe,W),u(ie,fe)};P(oe,ie=>{o(m).length===0?ie(be):ie(pe,!1)},!0)}u(L,ce)};P(Q,L=>{o(B)&&o(F).length===0?L(ae):L(de,!1)})}r(ee),r(re),St(H,()=>o(l),L=>k(l,L)),Ur(S,()=>o(v),L=>k(v,L)),Ur(V,()=>o(p),L=>k(p,L)),u(t,re),He(),d()}Ue(["click","keydown"]);const _i={projects:[],templates:[],isLoading:!1,error:null,currentProject:null,currentProjectProgress:null};function yi(){const{subscribe:t,set:a,update:e}=Zt(_i);return{subscribe:t,async loadProjects(){e(n=>({...n,isLoading:!0,error:null}));try{if(!Tt()){const d=await or.getAll();return e(l=>({...l,projects:d,isLoading:!1})),{success:!0,projects:d}}const i=(await Ae.projects.list()).projects||[];await us(ps.PROJECTS);for(const d of i)await or.save(d);return e(d=>({...d,projects:i,isLoading:!1})),{success:!0,projects:i}}catch(n){const i=n.detail||"Failed to load projects";return e(d=>({...d,isLoading:!1,error:i})),{success:!1,error:i}}},async createProject(n){e(i=>({...i,isLoading:!0,error:null}));try{if(!Tt()){const d=new Date().toISOString(),l={id:crypto.randomUUID?.()||`offline-${Date.now()}`,name:n.name,description:n.description,color:n.color,icon:n.icon,userId:"offline",createdAt:d,updatedAt:d};return await or.save(l),await _r({type:"create",entity:"project",data:n,endpoint:"/projects"}),e(v=>({...v,projects:[l,...v.projects],isLoading:!1})),{success:!0,project:l}}const i=await Ae.projects.create(n);return await or.save(i),e(d=>({...d,projects:[i,...d.projects],isLoading:!1})),{success:!0,project:i}}catch(i){const d=i.detail||"Failed to create project";return e(l=>({...l,isLoading:!1,error:d})),{success:!1,error:d}}},async loadTemplates(){try{if(!Tt())return{success:!1,error:"Offline mode: templates unavailable."};const i=(await Ae.projects.listTemplates()).templates||[];return e(d=>({...d,templates:i})),{success:!0,templates:i}}catch(n){return Fe.error("Failed to load templates",n),{success:!1,error:n.detail}}},async createFromTemplate(n,i){e(d=>({...d,isLoading:!0,error:null}));try{if(!Tt())return{success:!1,error:"Offline mode: cannot create from template."};const d=await Ae.projects.createFromTemplate(n,i);return await or.save(d),e(l=>({...l,projects:[d,...l.projects],isLoading:!1})),{success:!0,project:d}}catch(d){const l=d.detail||"Failed to create project from template";return e(v=>({...v,isLoading:!1,error:l})),{success:!1,error:l}}},async getProjectProgress(n){try{if(!Tt())return{success:!1,error:"Offline mode: project progress unavailable."};const i=await Ae.projects.getProgress(n);return e(d=>({...d,currentProjectProgress:i})),{success:!0,progress:i}}catch(i){return Fe.error("Failed to load project progress",i),{success:!1,error:i.detail}}},async deleteProject(n){try{return Tt()?(await Ae.projects.delete(n),e(i=>({...i,projects:i.projects.filter(d=>d.id!==n)})),{success:!0}):(await or.delete(n),await _r({type:"delete",entity:"project",data:{},endpoint:`/projects/${n}`}),e(i=>({...i,projects:i.projects.filter(d=>d.id!==n)})),{success:!0})}catch(i){return{success:!1,error:i.detail||"Failed to delete project"}}}}}const Qt=yi();var wi=g('<div class="h-32 flex items-center justify-center border-2 border-black dark:border-white bg-secondary/10 animate-pulse"><span class="font-bold uppercase">Loading stats...</span></div>'),ki=g('<div class="grid grid-cols-2 gap-4 mb-6"><div class="brutal-card p-4 flex flex-col items-center justify-center text-center"><span class="text-3xl font-black"> </span> <span class="text-xs font-bold uppercase text-muted-foreground">Total Tasks</span></div> <div class="brutal-card p-4 flex flex-col items-center justify-center text-center bg-green-100 dark:bg-green-900/20"><span class="text-3xl font-black text-green-600 dark:text-green-400"> </span> <span class="text-xs font-bold uppercase text-muted-foreground">Completed</span></div> <div class="brutal-card p-4 flex flex-col items-center justify-center text-center bg-blue-100 dark:bg-blue-900/20"><span class="text-3xl font-black text-blue-600 dark:text-blue-400"> </span> <span class="text-xs font-bold uppercase text-muted-foreground">In Progress</span></div> <div class="brutal-card p-4 flex flex-col items-center justify-center text-center bg-orange-100 dark:bg-orange-900/20"><span class="text-3xl font-black text-orange-600 dark:text-orange-400"> </span> <span class="text-xs font-bold uppercase text-muted-foreground">Overdue</span></div></div> <div class="space-y-2"><div class="flex justify-between text-sm font-bold uppercase"><span>Completion</span> <span> </span></div> <div class="h-4 w-full border-2 border-black dark:border-white bg-secondary p-0.5"><div class="h-full bg-primary transition-all duration-500"></div></div></div>',1),$i=g('<div class="p-6 border-2 border-black dark:border-white border-dashed text-center"><p class="font-bold uppercase text-muted-foreground">No progress data available</p></div>'),Si=g('<div class="flex items-center justify-between p-3 border-2 border-black dark:border-white bg-white dark:bg-zinc-900"><span class="font-bold truncate flex-1 mr-4"> </span> <span class="text-xs font-bold uppercase px-2 py-1 bg-secondary border border-black dark:border-white"> </span></div>'),Di=g('<div class="p-4 border-2 border-black dark:border-white border-dashed text-center text-sm font-bold text-muted-foreground">No recent activity</div>'),Ti=g('<div class="absolute inset-y-0 right-0 w-full md:w-[600px] bg-background border-l-2 border-black dark:border-white shadow-[-8px_0px_0px_0px_rgba(0,0,0,1)] dark:shadow-[-8px_0px_0px_0px_rgba(255,255,255,1)] z-40 flex flex-col"><div class="flex-shrink-0 p-6 border-b-2 border-black dark:border-white bg-secondary flex items-start justify-between"><div class="space-y-2"><div class="flex items-center gap-2"><span class="text-xs font-bold uppercase bg-primary text-primary-foreground px-2 py-0.5 border border-black dark:border-white"> </span> <span class="text-xs font-bold uppercase text-muted-foreground"> </span></div> <h2 class="text-2xl font-black uppercase tracking-tighter"> </h2></div> <div class="flex items-center gap-2"><button class="p-2 hover:bg-red-500 hover:text-white border border-transparent hover:border-black dark:hover:border-white transition-all" title="Delete Project"><!></button> <button class="p-2 hover:bg-black/10 dark:hover:bg-white/10 border border-transparent hover:border-black dark:hover:border-white transition-all"><!></button></div></div> <div class="flex-1 overflow-y-auto p-6 space-y-8"><div class="brutal-card p-6 bg-white dark:bg-zinc-900"><h3 class="text-sm font-black uppercase text-muted-foreground mb-2">Description</h3> <p class="text-lg font-medium leading-relaxed"> </p></div> <div><h3 class="text-lg font-black uppercase tracking-tight mb-4 flex items-center gap-2"><!> Progress Overview</h3> <!></div> <div><h3 class="text-lg font-black uppercase tracking-tight mb-4 flex items-center gap-2"><!> Recent Activity</h3> <div class="space-y-3"><!></div></div></div></div>');function Ei(t,a){Ge(a,!0);const e=()=>Ke(Qt,"$projectsStore",n),[n,i]=rt();let d=gt(a,"isOpen",3,!1),l=gt(a,"project",3,null),v=he(!1),p=we(()=>e().currentProjectProgress);zt(()=>{d()&&l()&&h()});async function h(){k(v,!0),await Qt.getProjectProgress(l().id),k(v,!1)}function f(){a.onclose?.()}function m(){confirm("Are you sure you want to delete this project? This cannot be undone.")&&(Qt.deleteProject(l().id),f())}var b=X(),y=z(b);{var B=_=>{var F=Ti(),E=s(F),W=s(E),C=s(W),O=s(C),G=s(O,!0);r(O);var q=c(O,2),te=s(q);r(q),r(C);var J=c(C,2),Y=s(J,!0);r(J),r(W);var re=c(W,2),K=s(re);K.__click=m;var D=s(K);Wt(D,{class:"w-5 h-5"}),r(K);var N=c(K,2);N.__click=f;var U=s(N);Er(U,{class:"w-6 h-6"}),r(N),r(re),r(E);var j=c(E,2),A=s(j),I=c(s(A),2),H=s(I,!0);r(I),r(A);var S=c(A,2),w=s(S),x=s(w);gs(x,{class:"w-5 h-5"}),se(),r(w);var T=c(w,2);{var Z=de=>{var L=wi();u(de,L)},V=de=>{var L=X(),ce=z(L);{var oe=pe=>{var ie=ki(),fe=z(ie),ue=s(fe),ve=s(ue),me=s(ve,!0);r(ve),se(2),r(ue);var Ee=c(ue,2),Ie=s(Ee),Le=s(Ie,!0);r(Ie),se(2),r(Ee);var xe=c(Ee,2),Pe=s(xe),ye=s(Pe,!0);r(Pe),se(2),r(xe);var Oe=c(xe,2),ke=s(Oe),_e=s(ke,!0);r(ke),se(2),r(Oe),r(fe);var Me=c(fe,2),We=s(Me),Ze=c(s(We),2),Ce=s(Ze);r(Ze),r(We);var je=c(We,2),et=s(je);r(je),r(Me),ne(mt=>{R(me,o(p).total_tasks||0),R(Le,o(p).completed_tasks||0),R(ye,o(p).in_progress_tasks||0),R(_e,o(p).overdue_tasks||0),R(Ce,`${mt??""}%`),er(et,`width: ${(o(p).completion_percentage||0)??""}%`)},[()=>Math.round(o(p).completion_percentage||0)]),u(pe,ie)},be=pe=>{var ie=$i();u(pe,ie)};P(ce,pe=>{o(p)?pe(oe):pe(be,!1)},!0)}u(de,L)};P(T,de=>{o(v)?de(Z):de(V,!1)})}r(S);var $=c(S,2),M=s($),le=s(M);tr(le,{class:"w-5 h-5"}),se(),r(M);var ge=c(M,2),ee=s(ge);{var Q=de=>{var L=X(),ce=z(L);ze(ce,17,()=>o(p).recent_tasks,qe,(oe,be)=>{var pe=Si(),ie=s(pe),fe=s(ie,!0);r(ie);var ue=c(ie,2),ve=s(ue,!0);r(ue),r(pe),ne(()=>{R(fe,o(be).title),R(ve,o(be).status)}),u(oe,pe)}),u(de,L)},ae=de=>{var L=Di();u(de,L)};P(ee,de=>{o(p)&&o(p).recent_tasks&&o(p).recent_tasks.length>0?de(Q):de(ae,!1)})}r(ge),r($),r(j),r(F),ne(de=>{R(G,l().status||"Active"),R(te,`Created ${de??""}`),R(Y,l().name),R(H,l().description||"No description provided for this project.")},[()=>new Date(l().createdAt||Date.now()).toLocaleDateString()]),wt(3,F,()=>Wr,()=>({x:100,duration:300})),u(_,F)};P(y,_=>{d()&&l()&&_(B)})}u(t,b),He(),i()}Ue(["click"]);var Ii=g('<div class="h-full flex items-center justify-center"><!></div>'),Ai=g('<div class="h-full flex flex-col items-center justify-center text-center space-y-4 opacity-60"><!> <p class="text-lg font-bold uppercase text-muted-foreground">No projects yet</p> <p class="text-sm text-muted-foreground">Ask the AI to create a project</p></div>'),Oi=g('<button class="brutal-card p-0 flex flex-col h-full hover:translate-x-[4px] hover:translate-y-[4px] hover:shadow-none transition-all cursor-pointer group text-left w-full"><div class="p-5 flex-1 space-y-4 w-full"><div class="flex items-start justify-between w-full"><div class="space-y-1"><h3 class="text-lg font-black uppercase tracking-tight group-hover:underline decoration-2"> </h3> <span class="inline-block px-2 py-0.5 text-xs font-bold uppercase border border-black dark:border-white bg-secondary"> </span></div> <div class="p-1 hover:bg-accent border border-transparent hover:border-black dark:hover:border-white transition-colors"><!></div></div> <p class="text-sm font-medium text-muted-foreground line-clamp-2"> </p></div> <div class="p-4 border-t-2 border-black dark:border-white bg-secondary/10 flex items-center justify-between text-xs font-bold uppercase text-muted-foreground w-full"><div class="flex items-center gap-2"><!> <span> </span></div> <div class="flex items-center gap-2"><!> <span> </span></div></div></button>'),Li=g('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>'),Pi=g('<div class="h-full flex flex-col relative overflow-hidden"><div class="flex-shrink-0 p-6 border-b-2 border-black dark:border-white bg-background z-10"><div class="flex items-center gap-3"><div class="p-2 border-2 border-black dark:border-white bg-secondary text-secondary-foreground"><!></div> <div><h2 class="text-2xl font-black uppercase tracking-tighter">Projects</h2> <p class="text-sm font-bold text-muted-foreground">Create via AI  Manage via gestures</p></div></div></div> <div class="flex-1 overflow-y-auto p-6"><!></div> <!></div>');function Ci(t,a){Ge(a,!0);const e=()=>Ke(Qt,"$projectsStore",n),[n,i]=rt();let d=he(!1),l=he(null),v=we(()=>e().projects),p=we(()=>e().isLoading);Qe(()=>{Qt.loadProjects()});function h(O){k(l,O,!0),k(d,!0)}var f=Pi(),m=s(f),b=s(m),y=s(b),B=s(y);Ha(B,{class:"w-6 h-6"}),r(y),se(2),r(b),r(m);var _=c(m,2),F=s(_);{var E=O=>{var G=Ii(),q=s(G);Ot(q,{class:"w-8 h-8 animate-spin"}),r(G),u(O,G)},W=O=>{var G=X(),q=z(G);{var te=Y=>{var re=Ai(),K=s(re);Ha(K,{class:"w-16 h-16 text-muted-foreground"}),se(4),r(re),u(Y,re)},J=Y=>{var re=Li();ze(re,21,()=>o(v),qe,(K,D)=>{var N=Oi();N.__click=()=>h(o(D));var U=s(N),j=s(U),A=s(j),I=s(A),H=s(I,!0);r(I);var S=c(I,2),w=s(S,!0);r(S),r(A);var x=c(A,2),T=s(x);yo(T,{class:"w-4 h-4"}),r(x),r(j);var Z=c(j,2),V=s(Z,!0);r(Z),r(U);var $=c(U,2),M=s($),le=s(M);Ea(le,{class:"w-3.5 h-3.5"});var ge=c(le,2),ee=s(ge,!0);r(ge),r(M);var Q=c(M,2),ae=s(Q);Gr(ae,{class:"w-3.5 h-3.5"});var de=c(ae,2),L=s(de);r(de),r(Q),r($),r(N),ne(ce=>{R(H,o(D).name),R(w,o(D).status||"Active"),R(V,o(D).description||"No description provided."),R(ee,ce),R(L,`${(o(D).taskCount||0)??""} Tasks`)},[()=>new Date(o(D).createdAt||Date.now()).toLocaleDateString()]),u(K,N)}),r(re),u(Y,re)};P(q,Y=>{o(v).length===0?Y(te):Y(J,!1)},!0)}u(O,G)};P(F,O=>{o(p)&&o(v).length===0?O(E):O(W,!1)})}r(_);var C=c(_,2);Ei(C,{get isOpen(){return o(d)},get project(){return o(l)},onclose:()=>k(d,!1)}),r(f),u(t,f),He(),i()}Ue(["click"]);var Mi=g('<p class="text-sm italic text-muted-foreground">No types defined.</p>'),Ni=g('<div class="flex items-center justify-between p-3 border-2 border-black dark:border-white bg-white dark:bg-zinc-900"><div class="flex items-center gap-3"><div class="w-3 h-3 border border-black dark:border-white"></div> <span class="font-bold uppercase"> </span></div> <button class="p-1.5 hover:bg-red-500 hover:text-white border border-transparent hover:border-black dark:hover:border-white transition-all"><!></button></div>'),ji=g('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm"><div class="w-full max-w-md bg-background border-2 border-black dark:border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] dark:shadow-[8px_8px_0px_0px_rgba(255,255,255,1)] flex flex-col max-h-[80vh]"><div class="flex items-center justify-between p-6 border-b-2 border-black dark:border-white bg-secondary"><div class="flex items-center gap-3"><!> <h2 class="text-xl font-black uppercase tracking-tighter">Manage Types</h2></div> <button class="p-1 hover:bg-black/10 dark:hover:bg-white/10 transition-colors"><!></button></div> <div class="flex-1 overflow-y-auto p-6 space-y-6"><div class="space-y-4 p-4 border-2 border-black dark:border-white bg-secondary/10"><h3 class="text-sm font-black uppercase">Create New Type</h3> <div class="flex gap-2"><input type="text" placeholder="Type Name (e.g. Article)" class="flex-1 border-2 border-black dark:border-white px-3 py-2 text-sm focus:outline-none focus:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] dark:focus:shadow-[4px_4px_0px_0px_rgba(255,255,255,1)] transition-all font-bold"/> <button class="brutal-btn bg-primary text-primary-foreground p-2"><!></button></div></div> <div class="space-y-2"><h3 class="text-sm font-black uppercase text-muted-foreground">Existing Types</h3> <!></div></div></div></div>');function Ri(t,a){Ge(a,!0);const e=()=>Ke(Be,"$knowledgeStore",n),[n,i]=rt();let d=gt(a,"isOpen",3,!1),l=he(""),v="file-text",p="#000000",h=he(!1),f=we(()=>e().itemTypes);Qe(()=>{Be.loadItemTypes()});function m(){a.onclose?.(),k(l,"")}async function b(){if(!o(l).trim())return;k(h,!0);const E=await Be.createItemType({name:o(l),icon:v,color:p});k(h,!1),E.success&&k(l,"")}async function y(E){confirm("Are you sure you want to delete this item type? Items of this type may be affected.")&&await Be.deleteItemType(E)}var B=X(),_=z(B);{var F=E=>{var W=ji(),C=s(W),O=s(C),G=s(O),q=s(G);La(q,{class:"w-6 h-6"}),se(2),r(G);var te=c(G,2);te.__click=m;var J=s(te);Er(J,{class:"w-6 h-6"}),r(te),r(O);var Y=c(O,2),re=s(Y),K=c(s(re),2),D=s(K);bt(D),D.__keydown=x=>x.key==="Enter"&&b();var N=c(D,2);N.__click=b;var U=s(N);{var j=x=>{Ot(x,{class:"w-4 h-4 animate-spin"})},A=x=>{Qs(x,{class:"w-4 h-4"})};P(U,x=>{o(h)?x(j):x(A,!1)})}r(N),r(K),r(re);var I=c(re,2),H=c(s(I),2);{var S=x=>{var T=Mi();u(x,T)},w=x=>{var T=X(),Z=z(T);ze(Z,17,()=>o(f),qe,(V,$)=>{var M=Ni(),le=s(M),ge=s(le),ee=c(ge,2),Q=s(ee,!0);r(ee),r(le);var ae=c(le,2);ae.__click=()=>y(o($).id);var de=s(ae);Wt(de,{class:"w-4 h-4"}),r(ae),r(M),ne(()=>{er(ge,`background-color: ${(o($).color||"#000")??""}`),R(Q,o($).name)}),u(V,M)}),u(x,T)};P(H,x=>{o(f).length===0?x(S):x(w,!1)})}r(I),r(Y),r(C),r(W),ne(x=>N.disabled=x,[()=>!o(l).trim()||o(h)]),St(D,()=>o(l),x=>k(l,x)),u(E,W)};P(_,E=>{d()&&E(F)})}u(t,B),He(),i()}Ue(["click","keydown"]);var Fi=g("<option> </option>"),zi=g('<button type="button" class="text-[10px] uppercase font-bold tracking-wide px-2 py-1 border-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground transition-colors flex items-center gap-1" title="Ask AI to expand content"><!> AI Expand</button>'),Wi=g("<!> Saving...",1),Ui=g("<!> Save Item",1),Gi=g('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm"><div class="w-full max-w-2xl bg-background border-2 border-black dark:border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] dark:shadow-[8px_8px_0px_0px_rgba(255,255,255,1)] flex flex-col max-h-[90vh]"><div class="flex items-center justify-between p-6 border-b-2 border-black dark:border-white bg-secondary"><div class="flex items-center gap-3"><h2 class="text-xl font-black uppercase tracking-tighter"> </h2></div> <button class="p-1 hover:bg-black/10 dark:hover:bg-white/10 transition-colors"><!></button></div> <div class="flex-1 overflow-y-auto p-6 space-y-6"><div class="space-y-2"><div class="flex items-center justify-between"><label for="title" class="text-xs font-black uppercase">Title</label> <button type="button" class="text-[10px] uppercase font-bold tracking-wide px-2 py-1 border-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground transition-colors disabled:opacity-30 disabled:cursor-not-allowed flex items-center gap-1" title="Ask AI to improve title"><!> AI Improve</button></div> <input id="title" type="text" placeholder="Item Title" class="w-full border-2 border-black dark:border-white px-3 py-2 text-sm focus:outline-none focus:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] dark:focus:shadow-[4px_4px_0px_0px_rgba(255,255,255,1)] transition-all font-bold"/></div> <div class="space-y-2"><label for="type" class="text-xs font-black uppercase">Type</label> <select id="type" class="w-full border-2 border-black dark:border-white px-3 py-2 text-sm focus:outline-none focus:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] dark:focus:shadow-[4px_4px_0px_0px_rgba(255,255,255,1)] transition-all font-bold bg-background"></select></div> <div class="space-y-2"><div class="flex items-center justify-between"><label for="content" class="text-xs font-black uppercase">Content</label> <div class="flex gap-2"><button type="button" class="text-[10px] uppercase font-bold tracking-wide px-2 py-1 border-2 border-accent text-accent-foreground bg-accent hover:bg-accent/80 transition-colors disabled:opacity-30 disabled:cursor-not-allowed flex items-center gap-1" title="Ask AI to generate content"><!> </button> <!></div></div> <textarea id="content" rows="10" placeholder="Markdown content..." class="w-full border-2 border-black dark:border-white px-3 py-2 text-sm focus:outline-none focus:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] dark:focus:shadow-[4px_4px_0px_0px_rgba(255,255,255,1)] transition-all font-mono"></textarea> <p class="text-[10px] text-muted-foreground uppercase font-bold tracking-wide"> AI responses appear in the main conversation - copy & paste them here</p></div></div> <div class="p-6 border-t-2 border-black dark:border-white bg-secondary/10 flex justify-end gap-3"><button class="brutal-btn bg-white text-black">Cancel</button> <button class="brutal-btn bg-primary text-primary-foreground flex items-center gap-2"><!></button></div></div></div>');function Hi(t,a){Ge(a,!0);const e=()=>Ke(Be,"$knowledgeStore",n),[n,i]=rt();let d=gt(a,"isOpen",3,!1),l=gt(a,"item",3,null),v=he(""),p=he(""),h=he(""),f=he(!1),m=he(!1),b=we(()=>e().itemTypes);zt(()=>{d()&&(l()?(k(v,l().title,!0),k(p,l().content,!0),k(h,l().typeId,!0)):(k(v,""),k(p,""),k(h,o(b).length>0?o(b)[0].id:"",!0)))}),Qe(()=>{Be.loadItemTypes()});function y(){a.onclose?.()}async function B(){if(!o(v).trim()||!o(p).trim()||!o(h))return;k(f,!0);let G;l()?G=await Be.updateKnowledgeItem(l().id,{title:o(v),content:o(p),typeId:o(h)}):G=await Be.createKnowledgeItem({title:o(v),content:o(p),typeId:o(h)}),k(f,!1),G.success&&(y(),a.onsaved?.())}function _(){o(v).trim()&&Rr({prompt:`Improve this title to be more clear and actionable: "${o(v)}"

Provide only the improved title, no explanation.`,context:{action:"improve_title",currentTitle:o(v)}})}function F(){o(v).trim()&&(k(m,!0),Rr({prompt:`Generate detailed content for an item titled "${o(v)}". The item is of type "${o(b).find(G=>G.id===o(h))?.name||"General"}". Provide actionable details, context, and next steps. Use markdown formatting.`,context:{action:"generate_content",title:o(v),typeId:o(h)}}),setTimeout(()=>{k(m,!1)},1e3))}function E(){o(p).trim()&&Rr({prompt:`Expand and improve this content:

${o(p)}

Add more detail, clarity, and structure. Use markdown formatting.`,context:{action:"expand_content",currentContent:o(p)}})}var W=X(),C=z(W);{var O=G=>{var q=Gi(),te=s(q),J=s(te),Y=s(J),re=s(Y),K=s(re,!0);r(re),r(Y);var D=c(Y,2);D.__click=y;var N=s(D);Er(N,{class:"w-6 h-6"}),r(D),r(J);var U=c(J,2),j=s(U),A=s(j),I=c(s(A),2);I.__click=_;var H=s(I);At(H,{class:"w-3 h-3"}),se(),r(I),r(A);var S=c(A,2);bt(S),r(j);var w=c(j,2),x=c(s(w),2);ze(x,21,()=>o(b),qe,(pe,ie)=>{var fe=Fi(),ue=s(fe,!0);r(fe);var ve={};ne(()=>{R(ue,o(ie).name),ve!==(ve=o(ie).id)&&(fe.value=(fe.__value=o(ie).id)??"")}),u(pe,fe)}),r(x),r(w);var T=c(w,2),Z=s(T),V=c(s(Z),2),$=s(V);$.__click=F;var M=s($);Po(M,{class:"w-3 h-3"});var le=c(M);r($);var ge=c($,2);{var ee=pe=>{var ie=zi();ie.__click=E;var fe=s(ie);At(fe,{class:"w-3 h-3"}),se(),r(ie),u(pe,ie)};P(ge,pe=>{o(p).trim()&&pe(ee)})}r(V),r(Z);var Q=c(Z,2);$a(Q),se(2),r(T),r(U);var ae=c(U,2),de=s(ae);de.__click=y;var L=c(de,2);L.__click=B;var ce=s(L);{var oe=pe=>{var ie=Wi(),fe=z(ie);Ot(fe,{class:"w-4 h-4 animate-spin"}),se(),u(pe,ie)},be=pe=>{var ie=Ui(),fe=z(ie);bs(fe,{class:"w-4 h-4"}),se(),u(pe,ie)};P(ce,pe=>{o(f)?pe(oe):pe(be,!1)})}r(L),r(ae),r(te),r(q),ne((pe,ie,fe)=>{R(K,l()?"Edit Item":"New Knowledge Item"),I.disabled=pe,$.disabled=ie,R(le,` ${o(m)?"Generating...":"AI Generate"}`),de.disabled=o(f),L.disabled=fe},[()=>!o(v).trim(),()=>!o(v).trim()||o(m),()=>!o(v).trim()||!o(p).trim()||!o(h)||o(f)]),St(S,()=>o(v),pe=>k(v,pe)),Ur(x,()=>o(h),pe=>k(h,pe)),St(Q,()=>o(p),pe=>k(p,pe)),u(G,q)};P(C,G=>{d()&&G(O)})}u(t,W),He(),i()}Ue(["click"]);var Bi=g("<button> </button>"),Vi=g('<p class="text-xs text-muted-foreground">Loading types</p>'),Ki=g('<div class="space-y-2"><p class="text-xs font-bold uppercase text-muted-foreground"> </p> <div class="flex flex-wrap gap-2"></div> <!></div>');function qi(t,a){Ge(a,!0);const e=()=>Ke(Be,"$knowledgeStore",n),[n,i]=rt();let d=gt(a,"label",3,"Choose type"),l=gt(a,"selectedId",3,null),v=gt(a,"onSelect",3,()=>{});Qe(()=>{e().itemTypes.length===0&&Be.loadItemTypes()});let p=we(()=>e().itemTypes);var h=Ki(),f=s(h),m=s(f,!0);r(f);var b=c(f,2);ze(b,21,()=>o(p),qe,(_,F)=>{var E=Bi();E.__click=()=>v()(o(F).id);var W=s(E,!0);r(E),ne(()=>{Ne(E,1,`px-3 py-1 border-2 border-black dark:border-white text-xs font-bold uppercase transition-colors
        ${l()===o(F).id?"bg-black text-white dark:bg-white dark:text-black":"bg-background hover:bg-secondary"}`),R(W,o(F).name)}),u(_,E)}),r(b);var y=c(b,2);{var B=_=>{var F=Vi();u(_,F)};P(y,_=>{o(p).length===0&&_(B)})}r(h),ne(()=>R(m,d())),u(t,h),He(),i()}Ue(["click"]);var Zi=g('<button><div class="w-2.5 h-2.5"></div> </button>'),Yi=g('<div class="h-full flex items-center justify-center"><div class="flex flex-col items-center gap-4"><!> <p class="font-black uppercase tracking-widest text-sm">Accessing Archive...</p></div></div>'),Ji=g('<div class="h-full flex flex-col items-center justify-center text-center p-8"><div class="brutal-card p-12 max-w-md bg-background flex flex-col items-center gap-6"><div class="p-4 bg-secondary border-2 border-border"><!></div> <div class="space-y-2"><h3 class="text-3xl font-black uppercase tracking-tighter">Library Empty</h3> <p class="text-sm font-bold uppercase text-muted-foreground tracking-wide">Ask the AI to document knowledge, ideas, or notes.</p></div> <button class="brutal-btn bg-terminal-green text-black">Start Conversation</button></div></div>'),Xi=g('<span class="text-[10px] font-black uppercase px-2 py-0.5 border-2 border-border bg-accent text-accent-foreground shadow-brutal-sm"> </span>'),Qi=g('<div class="brutal-card p-5 flex flex-col gap-4 hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-brutal-subtle active:translate-x-[4px] active:translate-y-[4px] active:shadow-none transition-all cursor-pointer group text-left relative" role="button" tabindex="0"><div class="flex items-start justify-between gap-4"><div class="p-2.5 border-2 border-border bg-secondary text-secondary-foreground flex-shrink-0"><!></div> <button class="p-2 brutal-btn bg-white dark:bg-black hover:bg-destructive hover:text-white !shadow-none hover:!shadow-brutal-sm scale-90 opacity-0 group-hover:opacity-100 transition-all"><!></button></div> <div class="flex-1 min-w-0 space-y-2"><h3 class="text-xl font-black uppercase tracking-tight leading-tight group-hover:text-primary transition-colors"> </h3> <div class="flex flex-wrap items-center gap-2 mt-auto"><!> <span class="text-[10px] font-bold text-muted-foreground uppercase tracking-widest flex items-center gap-1"><!> </span></div></div></div>'),el=g('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>'),tl=g('<div class="h-full flex flex-col relative overflow-hidden"><div class="flex-shrink-0 p-6 border-b-2 border-black dark:border-white flex items-center justify-between bg-background z-10"><div class="flex items-center gap-3"><div class="p-2 border-2 border-black dark:border-white bg-secondary text-secondary-foreground"><!></div> <div><h2 class="text-2xl font-black uppercase tracking-tighter">Knowledge Base</h2> <p class="text-sm font-bold text-muted-foreground">Create via AI  Manage via gestures</p></div></div> <button class="brutal-btn bg-white text-black flex items-center gap-2"><!> Types</button></div> <div class="p-6 pb-0 space-y-4"><div class="relative"><!> <input type="text" placeholder="Search knowledge..." class="brutal-input pl-12 py-4 text-base"/></div> <div class="flex flex-wrap gap-2"><button>All</button> <!></div> <div class="mt-4"><!></div></div> <div class="flex-1 overflow-y-auto p-6 bg-grid-pattern"><!></div> <!> <!></div>');function rl(t,a){Ge(a,!0);const e=()=>Ke(Be,"$knowledgeStore",n),[n,i]=rt();let d=he(""),l=he(!1),v=he(!1),p=he(null),h=he(void 0),f=we(()=>e().items),m=we(()=>e().itemTypes),b=we(()=>e().isLoading),y=we(()=>e().selectedTypeId);Qe(()=>{Be.loadItemTypes(),Be.loadKnowledgeItems()});function B(){clearTimeout(o(h)),k(h,setTimeout(()=>{o(d).trim()?Be.searchKnowledgeItems(o(d),o(y)||void 0):Be.loadKnowledgeItems({typeId:o(y)||void 0})},300),!0)}function _($){Be.setSelectedTypeId($),Be.loadKnowledgeItems({typeId:$||void 0})}function F($){k(p,$,!0),k(v,!0)}async function E($,M){M.stopPropagation(),confirm("Are you sure you want to delete this item?")&&await Be.deleteKnowledgeItem($)}function W($){return o(m).find(M=>M.id===$)}var C=tl(),O=s(C),G=s(O),q=s(G),te=s(q);Ua(te,{class:"w-6 h-6"}),r(q),se(2),r(G);var J=c(G,2);J.__click=()=>k(l,!0);var Y=s(J);vs(Y,{class:"w-4 h-4"}),se(),r(J),r(O);var re=c(O,2),K=s(re),D=s(K);Oa(D,{class:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground z-10"});var N=c(D,2);bt(N),N.__input=B,r(K);var U=c(K,2),j=s(U);j.__click=()=>_(null);var A=c(j,2);ze(A,17,()=>o(m),qe,($,M)=>{var le=Zi();le.__click=()=>_(o(M).id);var ge=s(le),ee=c(ge);r(le),ne(()=>{Ne(le,1,`px-4 py-1.5 text-xs font-black uppercase border-2 transition-all flex items-center gap-2 ${o(y)===o(M).id?"bg-primary text-primary-foreground border-border shadow-brutal-sm":"bg-card border-border hover:bg-secondary"}`),er(ge,`background-color: ${o(M).color??""}; border: 1px solid currentColor;`),R(ee,` ${o(M).name??""}`)}),u($,le)}),r(U);var I=c(U,2),H=s(I);qi(H,{label:"Share these type IDs with the assistant when creating items",get selectedId(){return o(y)},onSelect:$=>_($)}),r(I),r(re);var S=c(re,2),w=s(S);{var x=$=>{var M=Yi(),le=s(M),ge=s(le);Ot(ge,{class:"w-12 h-12 animate-spin text-primary"}),se(2),r(le),r(M),u($,M)},T=$=>{var M=X(),le=z(M);{var ge=Q=>{var ae=Ji(),de=s(ae),L=s(de),ce=s(L);Ua(ce,{class:"w-16 h-16 text-muted-foreground"}),r(L);var oe=c(L,4);oe.__click=()=>kt.close(),r(de),r(ae),u(Q,ae)},ee=Q=>{var ae=el();ze(ae,21,()=>o(f),qe,(de,L)=>{var ce=Qi();ce.__click=()=>F(o(L)),ce.__keydown=_e=>_e.key==="Enter"&&F(o(L));var oe=s(ce),be=s(oe),pe=s(be);{var ie=_e=>{fs(_e,{class:"w-6 h-6"})},fe=_e=>{Hr(_e,{class:"w-6 h-6"})};P(pe,_e=>{o(L).item_metadata?.type==="link"?_e(ie):_e(fe,!1)})}r(be);var ue=c(be,2);ue.__click=_e=>E(o(L).id,_e);var ve=s(ue);Wt(ve,{class:"w-4 h-4"}),r(ue),r(oe);var me=c(oe,2),Ee=s(me),Ie=s(Ee,!0);r(Ee);var Le=c(Ee,2),xe=s(Le);{var Pe=_e=>{var Me=Xi(),We=s(Me,!0);r(Me),ne(Ze=>R(We,Ze),[()=>W(o(L).typeId)?.name]),u(_e,Me)};P(xe,_e=>{W(o(L).typeId)&&_e(Pe)})}var ye=c(xe,2),Oe=s(ye);La(Oe,{class:"w-3 h-3"});var ke=c(Oe);r(ye),r(Le),r(me),r(ce),ne(_e=>{R(Ie,o(L).title),R(ke,` ${_e??""}`)},[()=>new Date(o(L).updatedAt||Date.now()).toLocaleDateString()]),u(de,ce)}),r(ae),u(Q,ae)};P(le,Q=>{o(f).length===0?Q(ge):Q(ee,!1)},!0)}u($,M)};P(w,$=>{o(b)&&o(f).length===0?$(x):$(T,!1)})}r(S);var Z=c(S,2);Ri(Z,{get isOpen(){return o(l)},onclose:()=>k(l,!1)});var V=c(Z,2);Hi(V,{get isOpen(){return o(v)},get item(){return o(p)},onclose:()=>k(v,!1),onsaved:()=>{Be.loadKnowledgeItems({typeId:o(y)||void 0})}}),r(C),ne(()=>Ne(j,1,`px-4 py-1.5 text-xs font-black uppercase border-2 transition-all ${o(y)===null?"bg-primary text-primary-foreground border-border shadow-brutal-sm":"bg-card border-border hover:bg-secondary"}`)),St(N,()=>o(d),$=>k(d,$)),u(t,C),He(),i()}Ue(["click","input","keydown"]);const al={events:[],isLoading:!1,error:null,syncStatus:null};function sl(){const{subscribe:t,set:a,update:e}=Zt(al);return{subscribe:t,async loadEvents(n,i){e(d=>({...d,isLoading:!0,error:null}));try{const l=(await Ae.events.list({startDate:n,endDate:i})).events||[];return e(v=>({...v,events:l,isLoading:!1})),{success:!0,events:l}}catch(d){const l=d.detail||"Failed to load events";return e(v=>({...v,isLoading:!1,error:l})),{success:!1,error:l}}},async checkSyncStatus(){try{const n=await Ae.integration.calendarStatus();return e(i=>({...i,syncStatus:n})),{success:!0,status:n}}catch(n){return Fe.error("Failed to check sync status",n),{success:!1,error:n.detail}}},async syncGoogleCalendar(){e(n=>({...n,isLoading:!0,error:null}));try{return await Ae.events.syncGoogle(),e(n=>({...n,isLoading:!1})),{success:!0}}catch(n){const i=n.detail||"Failed to sync calendar";return e(d=>({...d,isLoading:!1,error:i})),{success:!1,error:i}}},async createEvent(n){try{const i=await Ae.events.create(n);return e(d=>({...d,events:[...d.events,i]})),{success:!0,event:i}}catch(i){return{success:!1,error:i.detail||"Failed to create event"}}}}}const hr=sl();var ol=g('<div class="p-2 text-center font-black uppercase text-sm border-r-2 border-black dark:border-white last:border-r-0"> </div>'),nl=g('<span class="font-mono text-[10px] opacity-70"> </span>'),il=g('<div class="text-xs p-1 border border-black dark:border-white bg-white dark:bg-black truncate cursor-pointer hover:bg-secondary transition-colors"><!> <span class="font-bold"> </span></div>'),ll=g('<div><span> </span> <div class="mt-6 space-y-1"></div></div>'),dl=g('<div class="space-y-6 h-full flex flex-col"><div class="flex flex-col md:flex-row md:items-center justify-between gap-4"><div class="flex items-center gap-4"><h2 class="text-3xl font-black uppercase tracking-tighter">Calendar</h2> <div class="flex items-center border-2 border-black dark:border-white"><button class="p-2 hover:bg-secondary transition-colors border-r-2 border-black dark:border-white"><!></button> <span class="px-4 py-2 font-mono font-bold min-w-[140px] text-center"> </span> <button class="p-2 hover:bg-secondary transition-colors border-l-2 border-black dark:border-white"><!></button></div></div> <div class="flex items-center gap-3"><div class="flex border-2 border-black dark:border-white"><button>Week</button> <button>Month</button></div> <button class="brutal-btn bg-white text-black flex items-center gap-2"><!> Sync</button></div></div> <div class="flex-1 border-2 border-black dark:border-white bg-white dark:bg-black flex flex-col overflow-hidden"><div class="grid grid-cols-7 border-b-2 border-black dark:border-white bg-secondary"></div> <div></div></div></div>');function cl(t,a){Ge(a,!0);const e=()=>Ke(hr,"$calendarStore",n),[n,i]=rt();let d=he(Kt(new Date)),l=he("week"),v=we(()=>h(o(d),o(l))),p=we(()=>f(o(d),o(l)));zt(()=>{o(v)&&o(p)&&hr.loadEvents(o(v).toISOString(),o(p).toISOString())}),Qe(()=>{hr.checkSyncStatus()});function h(w,x){const T=new Date(w);if(x==="month")T.setDate(1);else{const Z=T.getDay(),V=T.getDate()-Z+(Z===0?-6:1);T.setDate(V)}return T.setHours(0,0,0,0),T}function f(w,x){const T=new Date(w);if(x==="month")T.setMonth(T.getMonth()+1),T.setDate(0);else{const Z=h(w,"week");T.setDate(Z.getDate()+6)}return T.setHours(23,59,59,999),T}function m(){const w=new Date(o(d));o(l)==="month"?w.setMonth(w.getMonth()+1):w.setDate(w.getDate()+7),k(d,w,!0)}function b(){const w=new Date(o(d));o(l)==="month"?w.setMonth(w.getMonth()-1):w.setDate(w.getDate()-7),k(d,w,!0)}function y(w){return new Date(w).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function B(w,x){return w.getFullYear()===x.getFullYear()&&w.getMonth()===x.getMonth()&&w.getDate()===x.getDate()}async function _(){await hr.syncGoogleCalendar(),hr.loadEvents(o(v).toISOString(),o(p).toISOString())}function F(){const w=[],x=new Date(o(v));if(new Date(o(p)),o(l)==="month"){const V=x.getDay(),$=x.getDate()-V+(V===0?-6:1);x.setDate($)}const T=new Date(x),Z=o(l)==="month"?42:7;for(let V=0;V<Z;V++)w.push(new Date(T)),T.setDate(T.getDate()+1);return w}var E=dl(),W=s(E),C=s(W),O=c(s(C),2),G=s(O);G.__click=b;var q=s(G);bo(q,{class:"w-5 h-5"}),r(G);var te=c(G,2),J=s(te,!0);r(te);var Y=c(te,2);Y.__click=m;var re=s(Y);go(re,{class:"w-5 h-5"}),r(Y),r(O),r(C);var K=c(C,2),D=s(K),N=s(D);N.__click=()=>k(l,"week");var U=c(N,2);U.__click=()=>k(l,"month"),r(D);var j=c(D,2);j.__click=_;var A=s(j);{let w=we(()=>e().isLoading?"animate-spin":"");Aa(A,{get class(){return`w-4 h-4 ${o(w)??""}`}})}se(),r(j),r(K),r(W);var I=c(W,2),H=s(I);ze(H,20,()=>["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],qe,(w,x)=>{var T=ol(),Z=s(T,!0);r(T),ne(()=>R(Z,x)),u(w,T)}),r(H);var S=c(H,2);ze(S,21,F,qe,(w,x)=>{const T=we(()=>B(o(x),new Date)),Z=we(()=>o(x).getMonth()===o(d).getMonth()),V=we(()=>e().events.filter(ee=>B(new Date(ee.startTime),o(x))));var $=ll(),M=s($),le=s(M,!0);r(M);var ge=c(M,2);ze(ge,21,()=>o(V),qe,(ee,Q)=>{var ae=il(),de=s(ae);{var L=be=>{var pe=nl(),ie=s(pe,!0);r(pe),ne(fe=>R(ie,fe),[()=>y(o(Q).startTime)]),u(be,pe)};P(de,be=>{o(Q).isAllDay||be(L)})}var ce=c(de,2),oe=s(ce,!0);r(ce),r(ae),ne(()=>R(oe,o(Q).title)),u(ee,ae)}),r(ge),r($),ne(ee=>{Ne($,1,`border-r-2 border-b-2 border-black dark:border-white last:border-r-0 p-2 min-h-[100px] relative group hover:bg-secondary/10 transition-colors
                    ${!o(Z)&&o(l)==="month"?"bg-muted/20 text-muted-foreground":""}
                    ${o(T)?"bg-primary/5":""}`),Ne(M,1,`absolute top-2 right-2 text-sm font-mono font-bold ${o(T)?"text-primary":""}`),R(le,ee)},[()=>o(x).getDate()]),u(w,$)}),r(S),r(I),r(E),ne(w=>{R(J,w),Ne(N,1,`px-4 py-2 text-sm font-bold uppercase transition-colors ${o(l)==="week"?"bg-black text-white dark:bg-white dark:text-black":"bg-white text-black dark:bg-black dark:text-white hover:bg-secondary"}`),Ne(U,1,`px-4 py-2 text-sm font-bold uppercase transition-colors border-l-2 border-black dark:border-white ${o(l)==="month"?"bg-black text-white dark:bg-white dark:text-black":"bg-white text-black dark:bg-black dark:text-white hover:bg-secondary"}`),j.disabled=e().isLoading,Ne(S,1,`flex-1 grid grid-cols-7 ${o(l)==="month"?"grid-rows-6":"grid-rows-1"}`)},[()=>o(d).toLocaleDateString(void 0,{month:"long",year:"numeric"})]),u(t,E),He(),i()}Ue(["click"]);const vl={overview:null,bottlenecks:[],isLoading:!1,error:null};function ul(){const{subscribe:t,set:a,update:e}=Zt(vl);return{subscribe:t,async loadOverview(n){e(i=>({...i,isLoading:!0,error:null}));try{const i=await Ae.analytics.overview({workspaceId:n});return e(d=>({...d,overview:i,isLoading:!1})),{success:!0,overview:i}}catch(i){const d=i.detail||"Failed to load analytics overview";return e(l=>({...l,isLoading:!1,error:d})),{success:!1,error:d}}},async loadBottlenecks(n){try{const d=(await Ae.analytics.bottlenecks({workspaceId:n})).bottlenecks||[];return e(l=>({...l,bottlenecks:d})),{success:!0,bottlenecks:d}}catch(i){return Fe.error("Failed to load bottlenecks",i),{success:!1,error:i.detail}}},async loadAll(n){e(i=>({...i,isLoading:!0,error:null}));try{const[i,d]=await Promise.all([Ae.analytics.overview({workspaceId:n}),Ae.analytics.bottlenecks({workspaceId:n})]);return e(l=>({...l,overview:i,bottlenecks:d.bottlenecks||[],isLoading:!1})),{success:!0}}catch(i){const d=i.detail||"Failed to load analytics data";return e(l=>({...l,isLoading:!1,error:d})),{success:!1,error:d}}}}}const ls=ul();var pl=g('<div class="h-full flex items-center justify-center"><div class="flex flex-col items-center gap-4"><!> <p class="font-black uppercase tracking-widest text-sm">Aggregating Data...</p></div></div>'),fl=g('<span class="bg-destructive text-destructive-foreground text-[10px] font-black uppercase px-2 py-0.5 border-2 border-border animate-pulse"> </span>'),bl=g('<div class="p-12 text-center text-muted-foreground bg-grid-pattern bg-[size:16px_16px]"><div class="inline-block p-4 border-2 border-border bg-secondary mb-4"><!></div> <p class="font-black uppercase tracking-widest mb-1">Zero Blockers</p> <p class="text-[10px] font-bold uppercase tracking-widest opacity-60">Optimized throughput detected.</p></div>'),gl=g('<div class="flex items-start gap-3 text-xs font-bold uppercase tracking-wide text-muted-foreground bg-background p-3 border-2 border-border border-dashed"><!> <span> </span></div>'),hl=g('<div class="p-5 hover:bg-secondary transition-colors group"><div class="flex items-start justify-between mb-3"><span> </span> <span class="text-[10px] font-black uppercase text-muted-foreground bg-card px-1.5 border border-border"> </span></div> <p class="font-bold text-base mb-3 leading-tight uppercase tracking-tight"> </p> <!></div>'),ml=g('<div class="space-y-2"><div class="flex justify-between text-[10px] font-black uppercase tracking-widest"><span class="flex items-center gap-2"><div></div> </span> <span class="tabular-nums"> </span></div> <div class="h-10 w-full border-2 border-border bg-secondary p-1 relative"><div></div> <div class="absolute inset-0 bg-[linear-gradient(to_right,rgba(0,0,0,0.05)_1px,transparent_1px)] bg-[size:10%_100%] pointer-events-none"></div></div></div>'),xl=g('<div class="space-y-6"></div>'),_l=g('<div class="h-40 flex items-center justify-center text-muted-foreground font-black uppercase tracking-widest border-2 border-dashed border-border">Data Unavailable</div>'),yl=g('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"><div class="brutal-card p-6 space-y-3 bg-card hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-brutal-subtle transition-all"><div class="flex items-center justify-between text-muted-foreground"><span class="text-xs font-black uppercase tracking-widest">Avg Completion</span> <!></div> <div class="flex items-end gap-2"><span class="text-4xl font-black tracking-tighter tabular-nums"> </span> <span class="text-[10px] font-black uppercase text-muted-foreground mb-1.5">/ task</span></div></div> <div class="brutal-card p-6 space-y-3 bg-card hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-brutal-subtle transition-all"><div class="flex items-center justify-between text-muted-foreground"><span class="text-xs font-black uppercase tracking-widest">Velocity</span> <!></div> <div class="flex items-end gap-2"><span class="text-4xl font-black tracking-tighter tabular-nums"> </span> <span class="text-[10px] font-black uppercase text-green-500 mb-1.5">tasks/wk</span></div></div> <div class="brutal-card p-6 space-y-3 bg-card hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-brutal-subtle transition-all"><div class="flex items-center justify-between text-muted-foreground"><span class="text-xs font-black uppercase tracking-widest">Comp. Rate</span> <!></div> <div class="flex items-end gap-2"><span class="text-4xl font-black tracking-tighter tabular-nums"> </span></div></div> <div class="brutal-card p-6 space-y-3 bg-primary text-primary-foreground shadow-card"><div class="flex items-center justify-between opacity-80"><span class="text-xs font-black uppercase tracking-widest">Total Tasks</span> <!></div> <div class="flex items-end gap-2"><span class="text-4xl font-black tracking-tighter tabular-nums"> </span> <span class="text-[10px] font-black uppercase opacity-80 mb-1.5">Total</span></div></div></div> <div class="grid grid-cols-1 lg:grid-cols-2 gap-8"><div class="brutal-card p-0 overflow-hidden flex flex-col bg-card shadow-card"><div class="p-5 border-b-2 border-border bg-secondary flex items-center justify-between"><h3 class="text-xl font-black uppercase tracking-tighter flex items-center gap-2"><!> Critical Bottlenecks</h3> <!></div> <div class="divide-y-2 divide-border flex-1"><!></div></div> <div class="brutal-card p-6 space-y-8 bg-card shadow-card"><div class="flex items-center justify-between border-b-2 border-border pb-4"><h3 class="text-xl font-black uppercase tracking-tighter">Task Priority Dist.</h3> <div class="flex gap-1"><div class="w-2 h-2 bg-red-500"></div> <div class="w-2 h-2 bg-orange-500"></div> <div class="w-2 h-2 bg-blue-500"></div></div></div> <!></div></div>',1),wl=g('<div class="h-full flex flex-col"><div class="flex-shrink-0 p-6 border-b-2 border-black dark:border-white flex items-center justify-between bg-background z-10"><div class="flex items-center gap-3"><div class="p-2 border-2 border-black dark:border-white bg-secondary text-secondary-foreground"><!></div> <div><h2 class="text-2xl font-black uppercase tracking-tighter">Insights</h2> <p class="text-sm font-bold text-muted-foreground">Productivity Analytics</p></div></div> <div class="flex items-center gap-2"><span class="text-xs font-bold uppercase px-2 py-1 border border-black dark:border-white bg-white dark:bg-black"> </span></div></div> <div class="flex-1 overflow-y-auto p-6 space-y-8 bg-grid-pattern"><!></div></div>');function kl(t,a){Ge(a,!0);const e=()=>Ke(ls,"$analyticsStore",n),[n,i]=rt();let d=we(()=>e().overview),l=we(()=>e().bottlenecks),v=we(()=>e().isLoading);Qe(()=>{ls.loadAll()});function p(q){switch(q){case"high":return"text-red-600 dark:text-red-400";case"medium":return"text-orange-600 dark:text-orange-400";case"low":return"text-yellow-600 dark:text-yellow-400";default:return"text-muted-foreground"}}function h(q){switch(q){case"high":return"bg-red-100 dark:bg-red-900/20";case"medium":return"bg-orange-100 dark:bg-orange-900/20";case"low":return"bg-yellow-100 dark:bg-yellow-900/20";default:return"bg-secondary"}}var f=wl(),m=s(f),b=s(m),y=s(b),B=s(y);ba(B,{class:"w-6 h-6"}),r(y),se(2),r(b);var _=c(b,2),F=s(_),E=s(F,!0);r(F),r(_),r(m);var W=c(m,2),C=s(W);{var O=q=>{var te=pl(),J=s(te),Y=s(J);Ot(Y,{class:"w-12 h-12 animate-spin text-primary"}),se(2),r(J),r(te),u(q,te)},G=q=>{var te=yl(),J=z(te),Y=s(J),re=s(Y),K=c(s(re),2);tr(K,{class:"w-5 h-5"}),r(re);var D=c(re,2),N=s(D),U=s(N);r(N),se(2),r(D),r(Y);var j=c(Y,2),A=s(j),I=c(s(A),2);gs(I,{class:"w-5 h-5"}),r(A);var H=c(A,2),S=s(H),w=s(S,!0);r(S),se(2),r(H),r(j);var x=c(j,2),T=s(x),Z=c(s(T),2);Gr(Z,{class:"w-5 h-5"}),r(T);var V=c(T,2),$=s(V),M=s($);r($),r(V),r(x);var le=c(x,2),ge=s(le),ee=c(s(ge),2);ba(ee,{class:"w-5 h-5"}),r(ge);var Q=c(ge,2),ae=s(Q),de=s(ae,!0);r(ae),se(2),r(Q),r(le),r(J);var L=c(J,2),ce=s(L),oe=s(ce),be=s(oe),pe=s(be);Io(pe,{class:"w-6 h-6"}),se(),r(be);var ie=c(be,2);{var fe=ye=>{var Oe=fl(),ke=s(Oe);r(Oe),ne(()=>R(ke,`${o(l).length??""} Active`)),u(ye,Oe)};P(ie,ye=>{o(l).length>0&&ye(fe)})}r(oe);var ue=c(oe,2),ve=s(ue);{var me=ye=>{var Oe=bl(),ke=s(Oe),_e=s(ke);Gr(_e,{class:"w-12 h-12 opacity-40"}),r(ke),se(4),r(Oe),u(ye,Oe)},Ee=ye=>{var Oe=X(),ke=z(Oe);ze(ke,17,()=>o(l),qe,(_e,Me)=>{var We=hl(),Ze=s(We),Ce=s(Ze),je=s(Ce,!0);r(Ce);var et=c(Ce,2),mt=s(et);r(et),r(Ze);var _t=c(Ze,2),Lt=s(_t,!0);r(_t);var ct=c(_t,2);{var ut=Ye=>{var st=gl(),Pt=s(st);uo(Pt,{class:"w-4 h-4 mt-0.5 flex-shrink-0 text-primary"});var Dt=c(Pt,2),rr=s(Dt);r(Dt),r(st),ne(()=>R(rr,`RECO: ${o(Me).suggestion??""}`)),u(Ye,st)};P(ct,Ye=>{o(Me).suggestion&&Ye(ut)})}r(We),ne((Ye,st,Pt)=>{Ne(Ce,1,`text-[10px] font-black uppercase px-2 py-1 border-2 border-border shadow-brutal-sm ${Ye??""} ${st??""}`),R(je,Pt),R(mt,`${o(Me).affected_items.length??""} ITEMS`),R(Lt,o(Me).description)},[()=>h(o(Me).severity),()=>p(o(Me).severity),()=>o(Me).type.replace("_"," ")]),u(_e,We)}),u(ye,Oe)};P(ve,ye=>{o(l).length===0?ye(me):ye(Ee,!1)})}r(ue),r(ce);var Ie=c(ce,2),Le=c(s(Ie),2);{var xe=ye=>{var Oe=xl();ze(Oe,21,()=>Object.entries(o(d).tasks_by_priority),qe,(ke,_e)=>{var Me=we(()=>Gs(o(_e),2));let We=()=>o(Me)[0],Ze=()=>o(Me)[1];var Ce=ml(),je=s(Ce),et=s(je),mt=s(et),_t=c(mt);r(et);var Lt=c(et,2),ct=s(Lt);r(Lt),r(je);var ut=c(je,2),Ye=s(ut);se(2),r(ut),r(Ce),ne(()=>{Ne(mt,1,`w-2 h-2 ${We()==="high"?"bg-red-500":We()==="medium"?"bg-orange-500":"bg-blue-500"}`),R(_t,` ${We()??""}`),R(ct,`${Ze()??""} UNITS`),Ne(Ye,1,`h-full transition-all duration-1000 ease-out ${We()==="high"?"bg-red-500":We()==="medium"?"bg-orange-500":"bg-blue-500"}`),er(Ye,`width: ${Ze()/(o(d).total_tasks||1)*100}%`)}),u(ke,Ce)}),r(Oe),u(ye,Oe)},Pe=ye=>{var Oe=_l();u(ye,Oe)};P(Le,ye=>{o(d)?.tasks_by_priority?ye(xe):ye(Pe,!1)})}r(Ie),r(L),ne((ye,Oe)=>{R(U,`${ye??""}h`),R(w,o(d)?.velocity||"0"),R(M,`${Oe??""}%`),R(de,o(d)?.total_tasks||"0")},[()=>o(d)?.avg_completion_time?.toFixed(1)||"0",()=>Math.round((o(d)?.completion_rate||0)*100)]),u(q,te)};P(C,q=>{o(v)&&!o(d)?q(O):q(G,!1)})}r(W),r(f),ne(q=>R(E,q),[()=>new Date().toLocaleDateString()]),u(t,f),He(),i()}const $l={openRouterKey:null,usageStats:null,isKeyValid:!1,isLoading:!1,error:null};function Sl(){const{subscribe:t,set:a,update:e}=Zt($l);return{subscribe:t,async loadSettings(){e(n=>({...n,isLoading:!0,error:null}));try{const n=await Ae.settings.getUsageStats();return e(i=>({...i,usageStats:n,isKeyValid:!0,isLoading:!1})),{success:!0}}catch(n){return e(i=>({...i,isLoading:!1,isKeyValid:!1,usageStats:null})),{success:!1,error:n.detail||"Failed to load settings"}}},async saveOpenRouterKey(n){e(i=>({...i,isLoading:!0,error:null}));try{return await Ae.settings.saveOpenRouterKey({apiKey:n}),e(i=>({...i,isKeyValid:!0,isLoading:!1})),{success:!0}}catch(i){const d=i.detail||"Failed to save API key";return e(l=>({...l,isLoading:!1,error:d,isKeyValid:!1})),{success:!1,error:d}}},async deleteOpenRouterKey(){e(n=>({...n,isLoading:!0,error:null}));try{return await Ae.settings.deleteOpenRouterKey(),e(n=>({...n,isKeyValid:!1,isLoading:!1,openRouterKey:null})),{success:!0}}catch(n){const i=n.detail||"Failed to delete API key";return e(d=>({...d,isLoading:!1,error:i})),{success:!1,error:i}}}}}const Nr=Sl();var Dl=g('<div class="p-4 bg-amber-100 dark:bg-amber-900/30 border-2 border-black dark:border-white text-sm"><div class="flex items-center gap-2 font-bold"><!> Push notifications are not supported in this browser.</div> <p class="mt-1 text-muted-foreground">Try using Chrome, Firefox, or Edge for push notification support.</p></div>'),Tl=g("<!> Enabled",1),El=g('<div class="p-3 bg-destructive border-2 border-black dark:border-white text-destructive-foreground text-sm font-bold flex items-center gap-2 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] dark:shadow-[4px_4px_0px_0px_rgba(255,255,255,1)] uppercase"><!> </div>'),Il=g("<!> Sending...",1),Al=g("<!> Test Notification",1),Ol=g("<span> </span>"),Ll=g('<div class="space-y-3"><h4 class="font-bold uppercase text-xs text-muted-foreground">Notification Types</h4> <label class="flex items-center justify-between p-3 border-2 border-black dark:border-white hover:bg-secondary/20 cursor-pointer transition-colors"><div><p class="font-bold text-sm">Task Reminders</p> <p class="text-xs text-muted-foreground">Due dates and scheduled tasks</p></div> <input type="checkbox" class="w-5 h-5 accent-primary"/></label> <label class="flex items-center justify-between p-3 border-2 border-black dark:border-white hover:bg-secondary/20 cursor-pointer transition-colors"><div><p class="font-bold text-sm">Daily Digest</p> <p class="text-xs text-muted-foreground">Morning summary of your day</p></div> <input type="checkbox" class="w-5 h-5 accent-primary"/></label> <label class="flex items-center justify-between p-3 border-2 border-black dark:border-white hover:bg-secondary/20 cursor-pointer transition-colors"><div><p class="font-bold text-sm">Pomodoro Alerts</p> <p class="text-xs text-muted-foreground">Break and session reminders</p></div> <input type="checkbox" class="w-5 h-5 accent-primary"/></label> <label class="flex items-center justify-between p-3 border-2 border-black dark:border-white hover:bg-secondary/20 cursor-pointer transition-colors"><div><p class="font-bold text-sm">Project Updates</p> <p class="text-xs text-muted-foreground">Progress and milestone alerts</p></div> <input type="checkbox" class="w-5 h-5 accent-primary"/></label></div> <div class="pt-4 border-t-2 border-black dark:border-white"><div class="flex items-center gap-4"><button class="brutal-btn bg-secondary text-foreground flex items-center gap-2"><!></button> <!></div></div>',1),Pl=g('<div class="space-y-6"><div class="flex items-center justify-between p-4 border-2 border-black dark:border-white bg-secondary/20"><div><p class="font-bold uppercase text-sm">Enable Notifications</p> <p class="text-xs text-muted-foreground mt-1"><!></p></div> <button><!></button></div> <!> <!></div>'),Cl=g('<div class="brutal-card p-6"><div class="flex items-start gap-4 mb-6"><div class="p-3 bg-yellow-400 border-2 border-black dark:border-white"><!></div> <div><h3 class="text-xl font-black uppercase">Push Notifications</h3> <p class="text-sm text-muted-foreground mt-1">Get reminded about tasks, deadlines, and focus sessions.</p></div></div> <!></div>');function Ml(t,a){Ge(a,!0);const e=()=>Ke(sr,"$notificationsStore",n),[n,i]=rt();let d=he(!1),l=he(null);Qe(async()=>{await sr.initialize()});async function v(){e().isSubscribed?await sr.disablePush():await sr.enablePush()}async function p(C,O){await sr.updatePreferences({[C]:O})}async function h(){k(d,!0),k(l,null);const C=await sr.testNotification();k(l,C.success?{success:!0,message:"Test notification sent!"}:{success:!1,message:C.error||"Failed to send"},!0),k(d,!1),setTimeout(()=>{k(l,null)},3e3)}var f=Cl(),m=s(f),b=s(m),y=s(b);{var B=C=>{fo(C,{class:"w-6 h-6 text-black"})},_=C=>{po(C,{class:"w-6 h-6 text-black"})};P(y,C=>{e().isSubscribed?C(B):C(_,!1)})}r(b),se(2),r(m);var F=c(m,2);{var E=C=>{var O=Dl(),G=s(O),q=s(G);kr(q,{class:"w-4 h-4"}),se(),r(G),se(2),r(O),u(C,O)},W=C=>{var O=Pl(),G=s(O),q=s(G),te=c(s(q),2),J=s(te);{var Y=S=>{var w=Ft("Permission blocked. Enable in browser settings.");u(S,w)},re=S=>{var w=X(),x=z(w);{var T=V=>{var $=Ft("You'll receive push notifications.");u(V,$)},Z=V=>{var $=Ft("Receive alerts even when Focus is closed.");u(V,$)};P(x,V=>{e().isSubscribed?V(T):V(Z,!1)},!0)}u(S,w)};P(J,S=>{e().permission==="denied"?S(Y):S(re,!1)})}r(te),r(q);var K=c(q,2);K.__click=v;var D=s(K);{var N=S=>{Ot(S,{class:"w-4 h-4 animate-spin"})},U=S=>{var w=X(),x=z(w);{var T=V=>{var $=Tl(),M=z($);Tr(M,{class:"w-4 h-4"}),se(),u(V,$)},Z=V=>{var $=Ft("Enable");u(V,$)};P(x,V=>{e().isSubscribed?V(T):V(Z,!1)},!0)}u(S,w)};P(D,S=>{e().isLoading?S(N):S(U,!1)})}r(K),r(G);var j=c(G,2);{var A=S=>{var w=El(),x=s(w);kr(x,{class:"w-4 h-4"});var T=c(x);r(w),ne(()=>R(T,` ${e().error??""}`)),u(S,w)};P(j,S=>{e().error&&S(A)})}var I=c(j,2);{var H=S=>{var w=Ll(),x=z(w),T=c(s(x),2),Z=c(s(T),2);bt(Z),Z.__change=()=>p("taskReminders",!e().preferences.taskReminders),r(T);var V=c(T,2),$=c(s(V),2);bt($),$.__change=()=>p("dailyDigest",!e().preferences.dailyDigest),r(V);var M=c(V,2),le=c(s(M),2);bt(le),le.__change=()=>p("pomodoroAlerts",!e().preferences.pomodoroAlerts),r(M);var ge=c(M,2),ee=c(s(ge),2);bt(ee),ee.__change=()=>p("projectUpdates",!e().preferences.projectUpdates),r(ge),r(x);var Q=c(x,2),ae=s(Q),de=s(ae);de.__click=h;var L=s(de);{var ce=ie=>{var fe=Il(),ue=z(fe);Ot(ue,{class:"w-4 h-4 animate-spin"}),se(),u(ie,fe)},oe=ie=>{var fe=Al(),ue=z(fe);ro(ue,{class:"w-4 h-4"}),se(),u(ie,fe)};P(L,ie=>{o(d)?ie(ce):ie(oe,!1)})}r(de);var be=c(de,2);{var pe=ie=>{var fe=Ol(),ue=s(fe,!0);r(fe),ne(()=>{Ne(fe,1,`text-sm font-bold ${o(l).success?"text-green-600":"text-red-600"}`),R(ue,o(l).message)}),u(ie,fe)};P(be,ie=>{o(l)&&ie(pe)})}r(ae),r(Q),ne(()=>{Pr(Z,e().preferences.taskReminders),Pr($,e().preferences.dailyDigest),Pr(le,e().preferences.pomodoroAlerts),Pr(ee,e().preferences.projectUpdates),de.disabled=o(d)}),u(S,w)};P(I,S=>{e().isSubscribed&&S(H)})}r(O),ne(()=>{Ne(K,1,`brutal-btn ${e().isSubscribed?"bg-black text-white dark:bg-white dark:text-black":"bg-white text-black"} flex items-center gap-2`),K.disabled=e().isLoading||e().permission==="denied"}),u(C,O)};P(F,C=>{e().isSupported?C(W,!1):C(E)})}r(f),u(t,f),He(),i()}Ue(["click","change"]);var Nl=g('<button class="brutal-btn bg-red-500 text-white border-black flex items-center gap-2"><!> Delete</button>'),jl=g('<div class="p-3 bg-destructive border-2 border-black dark:border-white text-destructive-foreground text-sm font-bold flex items-center gap-2 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] dark:shadow-[4px_4px_0px_0px_rgba(255,255,255,1)] uppercase"><!> </div>'),Rl=g('<div class="p-3 bg-primary border-2 border-black dark:border-white text-primary-foreground text-sm font-bold shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] dark:shadow-[4px_4px_0px_0px_rgba(255,255,255,1)] uppercase">API Key is valid and active.</div>'),Fl=g('<div class="brutal-card p-6"><div class="flex items-start gap-4 mb-6"><div class="p-3 bg-secondary border-2 border-black dark:border-white"><!></div> <div><h3 class="text-xl font-black uppercase">Usage Statistics</h3> <p class="text-sm text-muted-foreground mt-1">Monitor your AI token consumption.</p></div></div> <div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="p-4 border-2 border-black dark:border-white bg-secondary/20"><p class="text-xs font-bold uppercase text-muted-foreground">Total Requests</p> <p class="text-2xl font-black font-mono mt-1"> </p></div> <div class="p-4 border-2 border-black dark:border-white bg-secondary/20"><p class="text-xs font-bold uppercase text-muted-foreground">Tokens Used</p> <p class="text-2xl font-black font-mono mt-1"> </p></div> <div class="p-4 border-2 border-black dark:border-white bg-secondary/20"><p class="text-xs font-bold uppercase text-muted-foreground">Est. Cost</p> <p class="text-2xl font-black font-mono mt-1"> </p></div></div></div>'),zl=g(`<div class="brutal-card p-6"><div class="flex items-start gap-4 mb-6"><div class="p-3 bg-primary border-2 border-black dark:border-white"><!></div> <div><h3 class="text-xl font-black uppercase">OpenRouter API Key</h3> <p class="text-sm text-muted-foreground mt-1">Required for AI features. Your key is stored locally and
                        encrypted.</p></div></div> <div class="space-y-4"><div class="space-y-2"><label for="apiKey" class="text-xs font-bold uppercase">API Key</label> <input id="apiKey" type="password" placeholder="sk-or-..." class="w-full p-3 bg-secondary border-2 border-black dark:border-white font-mono text-sm focus:outline-none focus:ring-2 focus:ring-primary"/></div> <div class="flex gap-3"><button class="brutal-btn bg-black text-white dark:bg-white dark:text-black flex items-center gap-2"><!> Save Key</button> <!></div> <!> <!></div></div> <!> <!>`,1),Wl=g('<div class="flex justify-center py-8"><div class="animate-spin w-8 h-8 border-4 border-black border-t-transparent rounded-full"></div></div>'),Ul=g('<span class="w-3 h-3 bg-green-500 rounded-full border border-black"></span>'),Gl=g('<div class="text-right"><p class="text-xs font-bold uppercase text-muted-foreground">Renews</p> <p class="font-mono font-bold"> </p></div>'),Hl=g('<div class="space-y-6"><div class="flex items-center justify-between p-4 border-2 border-black dark:border-white bg-secondary/20"><div><p class="text-xs font-bold uppercase text-muted-foreground">Status</p> <p class="text-lg font-black uppercase flex items-center gap-2"> <!></p></div> <!></div> <button class="brutal-btn bg-black text-white dark:bg-white dark:text-black w-full md:w-auto"> </button></div>'),Bl=g('<p class="text-red-500 font-bold">Failed to load subscription status.</p>'),Vl=g('<div class="brutal-card p-6"><div class="flex items-start gap-4 mb-6"><div class="p-3 bg-green-400 border-2 border-black dark:border-white"><!></div> <div><h3 class="text-xl font-black uppercase">Subscription</h3> <p class="text-sm text-muted-foreground mt-1">Manage your Focus by Kraliki Premium subscription.</p></div></div> <!></div>'),Kl=g(`<p class="text-sm leading-relaxed">You're on the list! We'll notify you as soon as the Q1
                        2026 batch opens for enrollment. Your early bird
                        discount is locked in.</p> <div class="flex items-center gap-2 text-terminal-green font-bold"><!> Waitlist Confirmed</div>`,1),ql=g(`<p class="text-sm leading-relaxed">Welcome, Student. Your Academy dashboard and course
                        content will be available here starting Jan 1, 2026.</p> <button class="brutal-btn bg-black text-white dark:bg-white dark:text-black opacity-50 cursor-not-allowed">Academy Dashboard (Unlocks Jan 1)</button>`,1),Zl=g(`<p class="text-sm leading-relaxed">Join the waitlist for the first Academy batch. Learn to
                        move from "fear" to "mastery" with the same tools we use
                        to build Focus by Kraliki.</p> <a target="_blank" class="brutal-btn bg-black text-white dark:bg-white dark:text-black inline-flex items-center gap-2">Join Waitlist (49 Early Bird)</a>`,1),Yl=g('<div class="brutal-card p-6"><div class="flex items-start gap-4 mb-6"><div class="p-3 bg-blue-400 border-2 border-black dark:border-white"><!></div> <div><h3 class="text-xl font-black uppercase">Invoices & Exports</h3> <p class="text-sm text-muted-foreground mt-1">Generate reports of your billable hours.</p></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="space-y-2"><label for="exportStartDate" class="text-xs font-bold uppercase">Start Date</label> <input id="exportStartDate" type="date" class="w-full p-3 bg-secondary border-2 border-black dark:border-white font-mono text-sm focus:outline-none focus:ring-2 focus:ring-primary"/></div> <div class="space-y-2"><label for="exportEndDate" class="text-xs font-bold uppercase">End Date</label> <input id="exportEndDate" type="date" class="w-full p-3 bg-secondary border-2 border-black dark:border-white font-mono text-sm focus:outline-none focus:ring-2 focus:ring-primary"/></div></div> <div class="flex gap-4 mt-6"><button class="brutal-btn bg-white text-black flex-1 flex items-center justify-center gap-2"><!> Export CSV</button> <button class="brutal-btn bg-white text-black flex-1 flex items-center justify-center gap-2"><!> Export JSON</button></div></div> <div class="brutal-card p-6 bg-terminal-green/10 border-terminal-green"><div class="flex items-start gap-4 mb-6"><div class="p-3 bg-terminal-green border-2 border-black dark:border-white"><!></div> <div><h3 class="text-xl font-black uppercase">AI Automation Academy</h3> <p class="text-sm text-muted-foreground mt-1 font-bold"><!></p></div></div> <div class="space-y-4"><!></div></div>',1),Jl=g('<div class="space-y-6"><div class="flex flex-col md:flex-row md:items-center justify-between gap-4"><div><h2 class="text-3xl font-black uppercase tracking-tighter">Settings</h2> <p class="text-muted-foreground font-mono text-sm mt-1">Manage your preferences and account.</p></div></div> <div class="flex border-b-2 border-black dark:border-white overflow-x-auto"><button>General</button> <button>Billing</button> <button>Exports</button></div> <!></div>');function Xl(t,a){Ge(a,!0);const e=()=>Ke(kt,"$contextPanelStore",d),n=()=>Ke(Nr,"$settingsStore",d),i=()=>Ke(wr,"$authStore",d),[d,l]=rt();let v=he(""),p=he("general"),h=he("https://learn.kraliki.com");zt(()=>{e().data?.tab&&["general","billing","exports"].includes(e().data.tab)&&k(p,e().data.tab,!0)}),zt(()=>{const D=window.location.hostname,N=D==="localhost"||D==="127.0.0.1"||D.endsWith("verduona.dev")||D.endsWith("verduona.localhost");k(h,N?"https://learn.verduona.dev":"https://learn.kraliki.com",!0)});let f=he(Kt(new Date().toISOString().split("T")[0])),m=he(Kt(new Date().toISOString().split("T")[0])),b=he(!1),y=he(null),B=he(!1);Qe(async()=>{await Nr.loadSettings(),n().openRouterKey&&k(v,n().openRouterKey,!0),_()});async function _(){k(B,!0);try{k(y,await Ae.billing.subscriptionStatus(),!0)}catch(D){Fe.error("Failed to load billing status",D)}finally{k(B,!1)}}async function F(){await Nr.saveOpenRouterKey(o(v))}async function E(){confirm("Are you sure you want to delete your API key?")&&(await Nr.deleteOpenRouterKey(),k(v,""))}async function W(){try{const D=await Ae.billing.portalSession();window.location.href=D.url}catch{alert("Failed to redirect to billing portal")}}async function C(D){k(b,!0);try{await Ae.exports.generateInvoice({start_date:o(f),end_date:o(m),format:D}),alert(`Export started for ${D.toUpperCase()}`)}catch(N){alert("Export failed: "+N.detail)}finally{k(b,!1)}}var O=Jl(),G=c(s(O),2),q=s(G);q.__click=()=>k(p,"general");var te=c(q,2);te.__click=()=>k(p,"billing");var J=c(te,2);J.__click=()=>k(p,"exports"),r(G);var Y=c(G,2);{var re=D=>{var N=zl(),U=z(N),j=s(U),A=s(j),I=s(A);To(I,{class:"w-6 h-6 text-primary-foreground"}),r(A),se(2),r(j);var H=c(j,2),S=s(H),w=c(s(S),2);bt(w),r(S);var x=c(S,2),T=s(x);T.__click=F;var Z=s(T);{var V=oe=>{Ot(oe,{class:"w-4 h-4 animate-spin"})},$=oe=>{bs(oe,{class:"w-4 h-4"})};P(Z,oe=>{n().isLoading?oe(V):oe($,!1)})}se(),r(T);var M=c(T,2);{var le=oe=>{var be=Nl();be.__click=E;var pe=s(be);Wt(pe,{class:"w-4 h-4"}),se(),r(be),ne(()=>be.disabled=n().isLoading),u(oe,be)};P(M,oe=>{n().openRouterKey&&oe(le)})}r(x);var ge=c(x,2);{var ee=oe=>{var be=jl(),pe=s(be);kr(pe,{class:"w-4 h-4"});var ie=c(pe);r(be),ne(()=>R(ie,` Error: ${n().error??""}`)),u(oe,be)};P(ge,oe=>{n().error&&oe(ee)})}var Q=c(ge,2);{var ae=oe=>{var be=Rl();u(oe,be)};P(Q,oe=>{n().isKeyValid===!0&&oe(ae)})}r(H),r(U);var de=c(U,2);{var L=oe=>{var be=Fl(),pe=s(be),ie=s(pe),fe=s(ie);Ia(fe,{class:"w-6 h-6"}),r(ie),se(2),r(pe);var ue=c(pe,2),ve=s(ue),me=c(s(ve),2),Ee=s(me,!0);r(me),r(ve);var Ie=c(ve,2),Le=c(s(Ie),2),xe=s(Le,!0);r(Le),r(Ie);var Pe=c(Ie,2),ye=c(s(Pe),2),Oe=s(ye);r(ye),r(Pe),r(ue),r(be),ne((ke,_e)=>{R(Ee,n().usageStats.total_requests),R(xe,ke),R(Oe,`$${_e??""}`)},[()=>n().usageStats.total_tokens?.toLocaleString()||0,()=>n().usageStats.cost_estimate?.toFixed(4)||"0.0000"]),u(oe,be)};P(de,oe=>{n().usageStats&&oe(L)})}var ce=c(de,2);Ml(ce,{}),ne(()=>T.disabled=n().isLoading),St(w,()=>o(v),oe=>k(v,oe)),u(D,N)},K=D=>{var N=X(),U=z(N);{var j=I=>{var H=Vl(),S=s(H),w=s(S),x=s(w);mo(x,{class:"w-6 h-6 text-black dark:text-white"}),r(w),se(2),r(S);var T=c(S,2);{var Z=$=>{var M=Wl();u($,M)},V=$=>{var M=X(),le=z(M);{var ge=Q=>{var ae=Hl(),de=s(ae),L=s(de),ce=c(s(L),2),oe=s(ce),be=c(oe);{var pe=me=>{var Ee=Ul();u(me,Ee)};P(be,me=>{o(y).isPremium&&me(pe)})}r(ce),r(L);var ie=c(L,2);{var fe=me=>{var Ee=Gl(),Ie=c(s(Ee),2),Le=s(Ie,!0);r(Ie),r(Ee),ne(xe=>R(Le,xe),[()=>new Date(o(y).currentPeriodEnd*1e3).toLocaleDateString()]),u(me,Ee)};P(ie,me=>{o(y).currentPeriodEnd&&me(fe)})}r(de);var ue=c(de,2);ue.__click=W;var ve=s(ue,!0);r(ue),r(ae),ne(()=>{R(oe,`${o(y).isPremium?"Premium Active":"Free Plan"} `),R(ve,o(y).hasSubscription?"Manage Subscription":"Upgrade to Premium")}),u(Q,ae)},ee=Q=>{var ae=Bl();u(Q,ae)};P(le,Q=>{o(y)?Q(ge):Q(ee,!1)},!0)}u($,M)};P(T,$=>{o(B)?$(Z):$(V,!1)})}r(H),u(I,H)},A=I=>{var H=X(),S=z(H);{var w=x=>{var T=Yl(),Z=z(T),V=s(Z),$=s(V),M=s($);Hr(M,{class:"w-6 h-6 text-black dark:text-white"}),r($),se(2),r(V);var le=c(V,2),ge=s(le),ee=c(s(ge),2);bt(ee),r(ge);var Q=c(ge,2),ae=c(s(Q),2);bt(ae),r(Q),r(le);var de=c(le,2),L=s(de);L.__click=()=>C("csv");var ce=s(L);za(ce,{class:"w-4 h-4"}),se(),r(L);var oe=c(L,2);oe.__click=()=>C("json");var be=s(oe);za(be,{class:"w-4 h-4"}),se(),r(oe),r(de),r(Z);var pe=c(Z,2),ie=s(pe),fe=s(ie),ue=s(fe);ao(ue,{class:"w-6 h-6 text-black"}),r(fe);var ve=c(fe,2),me=c(s(ve),2),Ee=s(me);{var Ie=ke=>{var _e=Ft("Status: Waitlisted (Early Bird)");u(ke,_e)},Le=ke=>{var _e=X(),Me=z(_e);{var We=Ce=>{var je=Ft("Status: Level 1 Student (Active)");u(Ce,je)},Ze=Ce=>{var je=Ft("Level 1: Student (Beginner)  Q1 2026 Batch");u(Ce,je)};P(Me,Ce=>{i().user?.academyStatus==="STUDENT"?Ce(We):Ce(Ze,!1)},!0)}u(ke,_e)};P(Ee,ke=>{i().user?.academyStatus==="WAITLIST"?ke(Ie):ke(Le,!1)})}r(me),r(ve),r(ie);var xe=c(ie,2),Pe=s(xe);{var ye=ke=>{var _e=Kl(),Me=c(z(_e),2),We=s(Me);Tr(We,{class:"w-4 h-4"}),se(),r(Me),u(ke,_e)},Oe=ke=>{var _e=X(),Me=z(_e);{var We=Ce=>{var je=ql();se(2),u(Ce,je)},Ze=Ce=>{var je=Zl(),et=c(z(je),2);ne(()=>Ta(et,"href",o(h))),u(Ce,je)};P(Me,Ce=>{i().user?.academyStatus==="STUDENT"?Ce(We):Ce(Ze,!1)},!0)}u(ke,_e)};P(Pe,ke=>{i().user?.academyStatus==="WAITLIST"?ke(ye):ke(Oe,!1)})}r(xe),r(pe),ne(()=>{L.disabled=o(b),oe.disabled=o(b)}),St(ee,()=>o(f),ke=>k(f,ke)),St(ae,()=>o(m),ke=>k(m,ke)),u(x,T)};P(S,x=>{o(p)==="exports"&&x(w)},!0)}u(I,H)};P(U,I=>{o(p)==="billing"?I(j):I(A,!1)},!0)}u(D,N)};P(Y,D=>{o(p)==="general"?D(re):D(K,!1)})}r(O),ne(()=>{Ne(q,1,`px-6 py-3 font-bold uppercase text-sm border-r-2 border-black dark:border-white transition-colors whitespace-nowrap
            ${o(p)==="general"?"bg-black text-white dark:bg-white dark:text-black":"hover:bg-secondary"}`),Ne(te,1,`px-6 py-3 font-bold uppercase text-sm border-r-2 border-black dark:border-white transition-colors whitespace-nowrap
            ${o(p)==="billing"?"bg-black text-white dark:bg-white dark:text-black":"hover:bg-secondary"}`),Ne(J,1,`px-6 py-3 font-bold uppercase text-sm transition-colors whitespace-nowrap
            ${o(p)==="exports"?"bg-black text-white dark:bg-white dark:text-black":"hover:bg-secondary"}`)}),u(t,O),He(),l()}Ue(["click"]);const Ql={templates:[],categories:[],isLoading:!1,error:null};function ed(){const{subscribe:t,set:a,update:e}=Zt(Ql);return{subscribe:t,async loadTemplates(n){e(i=>({...i,isLoading:!0,error:null}));try{const d=(await Ae.workflow.listTemplates(n)).templates||[];return e(l=>({...l,templates:d,isLoading:!1})),{success:!0,templates:d}}catch(i){const d=i.detail||"Failed to load templates";return e(l=>({...l,isLoading:!1,error:d})),{success:!1,error:d}}},async loadCategories(){try{const i=(await Ae.workflow.getCategories()).categories||[];return e(d=>({...d,categories:i})),{success:!0,categories:i}}catch(n){return Fe.error("Failed to load categories",n),{success:!1,error:n.detail}}},async createTemplate(n){e(i=>({...i,isLoading:!0,error:null}));try{const i=await Ae.workflow.createTemplate(n);return e(d=>({...d,templates:[i,...d.templates],isLoading:!1})),{success:!0,template:i}}catch(i){const d=i.detail||"Failed to create template";return e(l=>({...l,isLoading:!1,error:d})),{success:!1,error:d}}},async generateTemplate(n,i){e(d=>({...d,isLoading:!0,error:null}));try{const d=await Ae.workflow.generate({description:n,category:i});return e(l=>({...l,templates:[d,...l.templates],isLoading:!1})),{success:!0,template:d}}catch(d){const l=d.detail||"Failed to generate template";return e(v=>({...v,isLoading:!1,error:l})),{success:!1,error:l}}},async executeWorkflow(n,i){try{return{success:!0,...await Ae.workflow.execute({templateId:n,startDate:i.startDate,priority:i.priority,customTitle:i.customTitle})}}catch(d){return{success:!1,error:d.detail||"Failed to execute workflow"}}},async deleteTemplate(n){try{return await Ae.workflow.deleteTemplate(n),e(i=>({...i,templates:i.templates.filter(d=>d.id!==n)})),{success:!0}}catch(i){return{success:!1,error:i.detail||"Failed to delete template"}}}}}const nr=ed();var td=g("<button> </button>"),rd=g('<div class="flex items-center justify-center py-12"><div class="animate-spin w-8 h-8 border-4 border-black border-t-transparent rounded-full"></div></div>'),ad=g('<div class="text-center py-12 border-2 border-dashed border-black/20 dark:border-white/20"><p class="text-muted-foreground font-mono">No templates found.</p></div>'),sd=g('<button class="text-muted-foreground hover:text-red-500 transition-colors"><!></button>'),od=g('<div class="brutal-card group flex flex-col h-full bg-white dark:bg-black p-6 transition-all hover:-translate-y-1 hover:shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] dark:hover:shadow-[8px_8px_0px_0px_rgba(255,255,255,1)]"><div class="flex items-start justify-between mb-4"><div class="px-2 py-1 bg-secondary border border-black dark:border-white text-xs font-bold uppercase"> </div> <!></div> <h3 class="text-xl font-black uppercase leading-tight mb-2"> </h3> <p class="text-sm text-muted-foreground line-clamp-3 mb-4 flex-1"> </p> <div class="space-y-4"><div class="flex items-center gap-4 text-xs font-mono border-t border-black/10 dark:border-white/10 pt-4"><div class="flex items-center gap-1"><!> </div> <div class="flex items-center gap-1"><!> </div></div> <button class="w-full brutal-btn bg-primary text-primary-foreground flex items-center justify-center gap-2 py-2"><!> Start Workflow</button></div></div>'),nd=g('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>'),id=g('<div class="animate-spin w-4 h-4 border-2 border-current border-t-transparent rounded-full"></div> Generating...',1),ld=g("<!> Generate",1),dd=g(`<div class="fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 backdrop-blur-sm"><div class="brutal-card w-full max-w-lg bg-white dark:bg-black p-6 space-y-6"><div class="flex items-center justify-between"><h3 class="text-xl font-black uppercase">Generate Workflow</h3> <button><!></button></div> <div class="space-y-2"><label for="generationPrompt" class="text-sm font-bold uppercase">Description</label> <textarea id="generationPrompt" class="w-full h-32 p-3 bg-secondary border-2 border-black dark:border-white font-mono text-sm focus:outline-none focus:ring-2 focus:ring-primary resize-none" placeholder="Describe the workflow you want to create (e.g., 'A content creation pipeline for YouTube videos including research, scripting, filming, and editing')"></textarea></div> <div class="flex justify-end gap-3"><button class="brutal-btn bg-white text-black border-black">Cancel</button> <button class="brutal-btn bg-black text-white dark:bg-white dark:text-black flex items-center gap-2"><!></button></div></div></div>`),cd=g('<div class="space-y-6"><div class="flex flex-col md:flex-row md:items-center justify-between gap-4"><div><h2 class="text-3xl font-black uppercase tracking-tighter">Workflow Templates</h2> <p class="text-muted-foreground font-mono text-sm mt-1">Automate your processes with AI-generated workflows.</p></div> <button class="brutal-btn bg-black text-white dark:bg-white dark:text-black flex items-center gap-2"><!> Generate New</button></div> <div class="flex flex-col md:flex-row gap-4"><div class="relative flex-1"><!> <input type="text" placeholder="Search templates..." class="w-full pl-9 pr-4 py-2 bg-white dark:bg-black border-2 border-black dark:border-white font-mono text-sm focus:outline-none focus:ring-0"/></div> <div class="flex gap-2 overflow-x-auto pb-2 md:pb-0"><button>All</button> <!></div></div> <!></div> <!>',1);function vd(t,a){Ge(a,!0);const e=()=>Ke(nr,"$workflowStore",n),[n,i]=rt();let d=he(""),l=he("all"),v=he(!1),p=he(""),h=he(!1),f=we(()=>e().templates.filter(j=>{const A=j.name.toLowerCase().includes(o(d).toLowerCase())||j.description.toLowerCase().includes(o(d).toLowerCase()),I=o(l)==="all"||j.category===o(l);return A&&I}));Qe(()=>{nr.loadTemplates(),nr.loadCategories()});async function m(){if(!o(p))return;k(v,!0);const j=await nr.generateTemplate(o(p));k(v,!1),j.success&&(k(h,!1),k(p,""))}async function b(j){if(confirm("Start this workflow? This will create tasks in your project.")){const A=await nr.executeWorkflow(j,{startDate:new Date().toISOString()});A.success?alert("Workflow started successfully!"):alert("Failed to start workflow: "+A.error)}}async function y(j){confirm("Are you sure you want to delete this template?")&&await nr.deleteTemplate(j)}var B=cd(),_=z(B),F=s(_),E=c(s(F),2);E.__click=()=>k(h,!0);var W=s(E);At(W,{class:"w-4 h-4"}),se(),r(E),r(F);var C=c(F,2),O=s(C),G=s(O);Oa(G,{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"});var q=c(G,2);bt(q),r(O);var te=c(O,2),J=s(te);J.__click=()=>k(l,"all");var Y=c(J,2);ze(Y,1,()=>e().categories,qe,(j,A)=>{var I=td();I.__click=()=>k(l,o(A),!0);var H=s(I,!0);r(I),ne(()=>{Ne(I,1,`px-4 py-2 border-2 border-black dark:border-white text-sm font-bold uppercase whitespace-nowrap transition-all
                    ${o(l)===o(A)?"bg-black text-white dark:bg-white dark:text-black":"bg-white text-black dark:bg-black dark:text-white hover:bg-secondary"}`),R(H,o(A))}),u(j,I)}),r(te),r(C);var re=c(C,2);{var K=j=>{var A=rd();u(j,A)},D=j=>{var A=X(),I=z(A);{var H=w=>{var x=ad();u(w,x)},S=w=>{var x=nd();ze(x,21,()=>o(f),T=>T.id,(T,Z)=>{var V=od(),$=s(V),M=s($),le=s(M,!0);r(M);var ge=c(M,2);{var ee=Ie=>{var Le=sd();Le.__click=()=>y(o(Z).id);var xe=s(Le);Wt(xe,{class:"w-4 h-4"}),r(Le),u(Ie,Le)};P(ge,Ie=>{o(Z).isSystem||Ie(ee)})}r($);var Q=c($,2),ae=s(Q,!0);r(Q);var de=c(Q,2),L=s(de,!0);r(de);var ce=c(de,2),oe=s(ce),be=s(oe),pe=s(be);tr(pe,{class:"w-3 h-3"});var ie=c(pe);r(be);var fe=c(be,2),ue=s(fe);vo(ue,{class:"w-3 h-3"});var ve=c(ue);r(fe),r(oe);var me=c(oe,2);me.__click=()=>b(o(Z).id);var Ee=s(me);Qr(Ee,{class:"w-4 h-4"}),se(),r(me),r(ce),r(V),ne(()=>{R(le,o(Z).category),R(ae,o(Z).name),R(L,o(Z).description),R(ie,` ${o(Z).totalEstimatedMinutes??""}m`),R(ve,` ${o(Z).steps.length??""} steps`)}),u(T,V)}),r(x),u(w,x)};P(I,w=>{o(f).length===0?w(H):w(S,!1)},!0)}u(j,A)};P(re,j=>{e().isLoading?j(K):j(D,!1)})}r(_);var N=c(_,2);{var U=j=>{var A=dd(),I=s(A),H=s(I),S=c(s(H),2);S.__click=()=>k(h,!1);var w=s(S);Wt(w,{class:"w-5 h-5 rotate-45"}),r(S),r(H);var x=c(H,2),T=c(s(x),2);$a(T),r(x);var Z=c(x,2),V=s(Z);V.__click=()=>k(h,!1);var $=c(V,2);$.__click=m;var M=s($);{var le=ee=>{var Q=id();se(),u(ee,Q)},ge=ee=>{var Q=ld(),ae=z(Q);At(ae,{class:"w-4 h-4"}),se(),u(ee,Q)};P(M,ee=>{o(v)?ee(le):ee(ge,!1)})}r($),r(Z),r(I),r(A),ne(()=>$.disabled=o(v)||!o(p)),St(T,()=>o(p),ee=>k(p,ee)),wt(3,I,()=>Da),wt(3,A,()=>mr),u(j,A)};P(N,j=>{o(h)&&j(U)})}ne(()=>Ne(J,1,`px-4 py-2 border-2 border-black dark:border-white text-sm font-bold uppercase whitespace-nowrap transition-all
                ${o(l)==="all"?"bg-black text-white dark:bg-white dark:text-black":"bg-white text-black dark:bg-black dark:text-white hover:bg-secondary"}`)),St(q,()=>o(d),j=>k(d,j)),u(t,B),He(),i()}Ue(["click"]);const ud={profile:null,insights:[],unlockStatus:null,isLoading:!1,error:null};function pd(){const{subscribe:t,set:a,update:e}=Zt(ud);return{subscribe:t,async loadAll(){e(n=>({...n,isLoading:!0,error:null}));try{const[n,i]=await Promise.all([Ae.shadow.getInsights(),Ae.shadow.getUnlockStatus()]),d={archetypes:{primary:"The Creator",secondary:"The Ruler",shadow:"The Perfectionist"},traits:["High Standards","Control","Visionary"],integration_level:45,last_analysis:new Date().toISOString()};return e(l=>({...l,profile:d,insights:n.insights||[],unlockStatus:i||{isUnlocked:!1,progress:0,requirements:[]},isLoading:!1})),{success:!0}}catch(n){const i=n.detail||"Failed to load shadow work data";return e(d=>({...d,isLoading:!1,error:i})),{success:!1,error:i}}},async analyze(){e(n=>({...n,isLoading:!0}));try{const n=await Ae.shadow.analyze({});return e(i=>({...i,insights:[...n.new_insights||[],...i.insights],isLoading:!1})),{success:!0,result:n}}catch(n){const i=n.detail||"Analysis failed";return e(d=>({...d,isLoading:!1,error:i})),{success:!1,error:i}}},async acknowledgeInsight(n){try{return await Ae.shadow.acknowledgeInsight(n),e(i=>({...i,insights:i.insights.map(d=>d.id===n?{...d,acknowledged:!0}:d)})),{success:!0}}catch(i){return{success:!1,error:i.detail}}}}}const jr=pd();var fd=g("<!> Analyzing...",1),bd=g("<!> New Analysis",1),gd=g('<div class="h-full flex items-center justify-center"><!></div>'),hd=g('<span class="text-xs font-bold uppercase px-2 py-1 border border-white/50 bg-white/10"> </span>'),md=g('<div class="brutal-card p-8 bg-zinc-900 text-white relative overflow-hidden"><div class="absolute top-0 right-0 p-8 opacity-10"><!></div> <div class="relative z-10 max-w-2xl"><h3 class="text-2xl font-black uppercase tracking-tighter mb-4 flex items-center gap-3"><!> Shadow Mode Locked</h3> <p class="text-lg font-medium mb-6 opacity-90">Complete more tasks and maintain focus to unlock deep psychological insights.</p> <div class="space-y-4"><div class="flex justify-between text-sm font-bold uppercase"><span>Progress to Unlock</span> <span> </span></div> <div class="h-6 w-full border-2 border-white bg-black p-0.5"><div class="h-full bg-white transition-all duration-500"></div></div> <div class="flex flex-wrap gap-2 mt-4"></div></div></div></div>'),xd=g('<div class="p-8 border-2 border-black dark:border-white border-dashed text-center opacity-60"><p class="font-bold uppercase">No insights generated yet.</p> <button class="text-sm underline mt-2">Run analysis</button></div>'),_d=g('<button class="mt-auto self-start brutal-btn bg-white text-black text-xs py-2">Acknowledge</button>'),yd=g('<div class="mt-auto flex items-center gap-2 text-xs font-bold text-green-600 uppercase"><!> Integrated</div>'),wd=g('<div><div class="flex items-start justify-between"><span class="text-xs font-black uppercase px-2 py-0.5 border border-black dark:border-white bg-secondary"> </span> <span class="text-xs font-bold text-muted-foreground"> </span></div> <div><h4 class="text-lg font-black uppercase tracking-tight mb-2"> </h4> <p class="text-sm font-medium leading-relaxed text-muted-foreground"> </p></div> <!></div>'),kd=g('<div class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>'),$d=g('<div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="brutal-card p-6 bg-primary text-primary-foreground flex flex-col justify-between min-h-[200px]"><div><span class="text-xs font-black uppercase opacity-70">Primary Archetype</span> <h3 class="text-3xl font-black uppercase tracking-tighter mt-1"> </h3></div> <div class="mt-4"><!></div></div> <div class="brutal-card p-6 bg-black text-white dark:bg-white dark:text-black flex flex-col justify-between min-h-[200px]"><div><span class="text-xs font-black uppercase opacity-70">Shadow Archetype</span> <h3 class="text-3xl font-black uppercase tracking-tighter mt-1"> </h3></div> <div class="mt-4"><!></div></div> <div class="brutal-card p-6 flex flex-col justify-between min-h-[200px]"><div><span class="text-xs font-black uppercase text-muted-foreground">Integration Level</span> <div class="flex items-end gap-2 mt-1"><h3 class="text-5xl font-black tracking-tighter"> </h3></div></div> <div class="w-full bg-secondary h-4 border-2 border-black dark:border-white mt-4"><div class="h-full bg-green-500"></div></div></div></div> <div class="space-y-4"><h3 class="text-xl font-black uppercase tracking-tight flex items-center gap-2"><!> Daily Insights</h3> <!></div>',1),Sd=g('<div class="h-full flex flex-col"><div class="flex-shrink-0 p-6 border-b-2 border-black dark:border-white flex items-center justify-between bg-background z-10"><div class="flex items-center gap-3"><div class="p-2 border-2 border-black dark:border-white bg-secondary text-secondary-foreground"><!></div> <div><h2 class="text-2xl font-black uppercase tracking-tighter">Shadow Work</h2> <p class="text-sm font-bold text-muted-foreground">Archetype Analysis & Integration</p></div></div> <button class="brutal-btn bg-black text-white dark:bg-white dark:text-black flex items-center gap-2"><!></button></div> <div class="flex-1 overflow-y-auto p-6 space-y-8"><!></div></div>');function Dd(t,a){Ge(a,!0);const e=()=>Ke(jr,"$shadowStore",n),[n,i]=rt();let d=we(()=>e().profile),l=we(()=>e().insights),v=we(()=>e().unlockStatus),p=we(()=>e().isLoading);Qe(()=>{jr.loadAll()});async function h(){await jr.analyze()}async function f(J){await jr.acknowledgeInsight(J)}var m=Sd(),b=s(m),y=s(b),B=s(y),_=s(B);Ba(_,{class:"w-6 h-6"}),r(B),se(2),r(y);var F=c(y,2);F.__click=h;var E=s(F);{var W=J=>{var Y=fd(),re=z(Y);Ot(re,{class:"w-4 h-4 animate-spin"}),se(),u(J,Y)},C=J=>{var Y=bd(),re=z(Y);At(re,{class:"w-4 h-4"}),se(),u(J,Y)};P(E,J=>{o(p)?J(W):J(C,!1)})}r(F),r(b);var O=c(b,2),G=s(O);{var q=J=>{var Y=gd(),re=s(Y);Ot(re,{class:"w-8 h-8 animate-spin"}),r(Y),u(J,Y)},te=J=>{var Y=X(),re=z(Y);{var K=N=>{var U=md(),j=s(U),A=s(j);Wa(A,{class:"w-32 h-32"}),r(j);var I=c(j,2),H=s(I),S=s(H);Wa(S,{class:"w-6 h-6"}),se(),r(H);var w=c(H,4),x=s(w),T=c(s(x),2),Z=s(T);r(T),r(x);var V=c(x,2),$=s(V);r(V);var M=c(V,2);ze(M,21,()=>o(v).requirements,qe,(le,ge)=>{var ee=hd(),Q=s(ee,!0);r(ee),ne(()=>R(Q,o(ge))),u(le,ee)}),r(M),r(w),r(I),r(U),ne(le=>{R(Z,`${le??""}%`),er($,`width: ${o(v).progress*100}%`)},[()=>Math.round(o(v).progress*100)]),u(N,U)},D=N=>{var U=X(),j=z(U);{var A=I=>{var H=$d(),S=z(H),w=s(S),x=s(w),T=c(s(x),2),Z=s(T,!0);r(T),r(x);var V=c(x,2),$=s(V);oo($,{class:"w-12 h-12 opacity-80"}),r(V),r(w);var M=c(w,2),le=s(M),ge=c(s(le),2),ee=s(ge,!0);r(ge),r(le);var Q=c(le,2),ae=s(Q);Ba(ae,{class:"w-12 h-12 opacity-80"}),r(Q),r(M);var de=c(M,2),L=s(de),ce=c(s(L),2),oe=s(ce),be=s(oe);r(oe),r(ce),r(L);var pe=c(L,2),ie=s(pe);r(pe),r(de),r(S);var fe=c(S,2),ue=s(fe),ve=s(ue);At(ve,{class:"w-5 h-5"}),se(),r(ue);var me=c(ue,2);{var Ee=Le=>{var xe=xd(),Pe=c(s(xe),2);Pe.__click=h,r(xe),u(Le,xe)},Ie=Le=>{var xe=kd();ze(xe,21,()=>o(l),Pe=>Pe.id,(Pe,ye)=>{var Oe=wd(),ke=s(Oe),_e=s(ke),Me=s(_e,!0);r(_e);var We=c(_e,2),Ze=s(We,!0);r(We),r(ke);var Ce=c(ke,2),je=s(Ce),et=s(je,!0);r(je);var mt=c(je,2),_t=s(mt,!0);r(mt),r(Ce);var Lt=c(Ce,2);{var ct=Ye=>{var st=_d();st.__click=()=>f(o(ye).id),u(Ye,st)},ut=Ye=>{var st=yd(),Pt=s(st);Aa(Pt,{class:"w-3 h-3"}),se(),r(st),u(Ye,st)};P(Lt,Ye=>{o(ye).acknowledged?Ye(ut,!1):Ye(ct)})}r(Oe),ne(Ye=>{Ne(Oe,1,`brutal-card p-6 flex flex-col gap-4 ${o(ye).acknowledged?"opacity-60 bg-secondary/20":"bg-background"}`),R(Me,o(ye).type),R(Ze,Ye),R(et,o(ye).title),R(_t,o(ye).description)},[()=>new Date(o(ye).created_at).toLocaleDateString()]),wt(3,Oe,()=>Wr,()=>({y:20,duration:300})),u(Pe,Oe)}),r(xe),u(Le,xe)};P(me,Le=>{o(l).length===0?Le(Ee):Le(Ie,!1)})}r(fe),ne(()=>{R(Z,o(d).archetypes.primary),R(ee,o(d).archetypes.shadow),R(be,`${o(d).integration_level??""}%`),er(ie,`width: ${o(d).integration_level??""}%`)}),u(I,H)};P(j,I=>{o(d)&&I(A)},!0)}u(N,U)};P(re,N=>{o(v)&&!o(v).isUnlocked?N(K):N(D,!1)})}u(J,Y)};P(G,J=>{o(p)&&!o(d)?J(q):J(te,!1)})}r(O),r(m),ne(()=>F.disabled=o(p)),u(t,m),He(),i()}Ue(["click"]);const Td={entries:[],activeEntry:null,stats:null,isLoading:!1,error:null};function Ed(){const{subscribe:t,set:a,update:e}=Zt(Td);return{subscribe:t,async loadEntries(n=50){e(i=>({...i,isLoading:!0,error:null}));try{if(!Tt()){const l=await Gt.getAll();return e(v=>({...v,entries:l,isLoading:!1})),{success:!0,entries:l}}const d=(await Ae.timeEntries.list({limit:n})).entries||[];await us(ps.TIME_ENTRIES);for(const l of d)await Gt.save(l);return e(l=>({...l,entries:d,isLoading:!1})),{success:!0,entries:d}}catch(i){const d=i.detail||"Failed to load time entries";return e(l=>({...l,isLoading:!1,error:d})),{success:!1,error:d}}},async loadActiveEntry(){try{if(!Tt()){const d=(await Gt.getAll()).find(l=>!l.endTime)||null;return e(l=>({...l,activeEntry:d})),{success:!0,entry:d}}const n=await Ae.timeEntries.active();return e(i=>({...i,activeEntry:n})),{success:!0,entry:n}}catch(n){return n.status!==404&&Fe.error("Failed to load active entry",n),e(i=>({...i,activeEntry:null})),{success:!1,error:n.detail}}},async startTimer(n){try{if(!Tt()){const d=new Date().toISOString(),l={id:crypto.randomUUID?.()||`offline-${Date.now()}`,userId:"offline",taskId:n.taskId,projectId:n.projectId,description:n.description,startTime:d,billable:n.billable??!1};return await Gt.save(l),await _r({type:"create",entity:"timeEntry",data:n,endpoint:"/time-entries"}),e(v=>({...v,activeEntry:l,entries:[l,...v.entries]})),{success:!0,entry:l}}const i=await Ae.timeEntries.create(n);return await Gt.save(i),e(d=>({...d,activeEntry:i,entries:[i,...d.entries]})),{success:!0,entry:i}}catch(i){return{success:!1,error:i.detail||"Failed to start timer"}}},async stopTimer(n){try{if(!Tt()){const d=new Date().toISOString();let l=null;return e(v=>{const p=v.entries.map(h=>h.id!==n?h:(l={...h,endTime:d,durationSeconds:h.startTime?Math.max(0,Math.floor((Date.parse(d)-Date.parse(h.startTime))/1e3)):h.durationSeconds},l));return{...v,activeEntry:null,entries:p}}),l&&await Gt.save(l),await _r({type:"create",entity:"timeEntry",data:{},endpoint:`/time-entries/${n}/stop`}),{success:!0,entry:l}}const i=await Ae.timeEntries.stop(n);return await Gt.save(i),e(d=>({...d,activeEntry:null,entries:d.entries.map(l=>l.id===n?i:l)})),{success:!0,entry:i}}catch(i){return{success:!1,error:i.detail||"Failed to stop timer"}}},async deleteEntry(n){try{return Tt()?(await Ae.timeEntries.delete(n),e(i=>({...i,entries:i.entries.filter(d=>d.id!==n),activeEntry:i.activeEntry?.id===n?null:i.activeEntry})),{success:!0}):(await Gt.delete(n),await _r({type:"delete",entity:"timeEntry",data:{},endpoint:`/time-entries/${n}`}),e(i=>({...i,entries:i.entries.filter(d=>d.id!==n),activeEntry:i.activeEntry?.id===n?null:i.activeEntry})),{success:!0})}catch(i){return{success:!1,error:i.detail||"Failed to delete entry"}}}}}const ir=Ed();var Id=g('<div class="inline-block mt-2 px-2 py-1 bg-secondary border border-black dark:border-white text-xs font-bold uppercase"> </div>'),Ad=g('<div class="flex flex-col md:flex-row items-center justify-between gap-6"><div class="flex-1 text-center md:text-left"><p class="text-sm font-bold uppercase text-muted-foreground mb-1">Current Task</p> <h3 class="text-xl font-black uppercase"> </h3> <!></div> <div class="text-4xl font-mono font-black tracking-widest"> </div> <button class="brutal-btn bg-red-500 text-white border-black w-full md:w-auto flex items-center justify-center gap-2 py-3 px-6"><!> Stop Timer</button></div>'),Od=g("<option> </option>"),Ld=g('<div class="flex flex-col md:flex-row gap-4 items-end"><div class="flex-1 w-full space-y-2"><label for="timeDescription" class="text-xs font-bold uppercase">Description</label> <input id="timeDescription" type="text" placeholder="What are you working on?" class="w-full p-3 bg-secondary border-2 border-black dark:border-white font-mono text-sm focus:outline-none focus:ring-2 focus:ring-primary"/></div> <div class="w-full md:w-64 space-y-2"><label for="timeProject" class="text-xs font-bold uppercase">Project</label> <select id="timeProject" class="w-full p-3 bg-white dark:bg-black border-2 border-black dark:border-white font-mono text-sm focus:outline-none focus:ring-2 focus:ring-primary appearance-none"><option>No Project</option><!></select></div> <div class="flex items-center gap-2 pb-3"><input type="checkbox" id="billable" class="w-5 h-5 border-2 border-black dark:border-white rounded-none focus:ring-0 checked:bg-black dark:checked:bg-white"/> <label for="billable" class="text-sm font-bold uppercase cursor-pointer select-none">Billable</label></div> <button class="brutal-btn bg-primary text-primary-foreground border-black w-full md:w-auto flex items-center justify-center gap-2 py-3 px-6"><!> Start</button></div>'),Pd=g('<div class="flex justify-center py-8"><div class="animate-spin w-8 h-8 border-4 border-black border-t-transparent rounded-full"></div></div>'),Cd=g('<div class="text-center py-8 text-muted-foreground font-mono">No time entries found.</div>'),Md=g('<span class="flex items-center gap-1"><!> </span>'),Nd=g('<div class="brutal-card p-4 bg-white dark:bg-black flex flex-col md:flex-row md:items-center justify-between gap-4 hover:translate-x-[2px] hover:translate-y-[2px] transition-transform"><div class="flex-1"><div class="flex items-center gap-2 mb-1"><span class="font-bold uppercase"> </span> <!></div> <div class="flex items-center gap-3 text-xs text-muted-foreground font-mono"><!> <span class="flex items-center gap-1"><!> </span></div></div> <div class="flex items-center justify-between md:justify-end gap-4"><span class="font-mono font-black text-lg"> </span> <button class="p-2 hover:text-red-500 transition-colors"><!></button></div></div>'),jd=g('<div class="space-y-3"></div>'),Rd=g('<div class="space-y-6"><div class="flex flex-col md:flex-row md:items-center justify-between gap-4"><div><h2 class="text-3xl font-black uppercase tracking-tighter">Time Tracking</h2> <p class="text-muted-foreground font-mono text-sm mt-1">Track your work hours and billable time.</p></div></div> <div class="brutal-card bg-white dark:bg-black p-6 border-2 border-black dark:border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] dark:shadow-[8px_8px_0px_0px_rgba(255,255,255,1)]"><!></div> <div class="space-y-4"><h3 class="text-xl font-black uppercase tracking-tight border-b-2 border-black dark:border-white pb-2">Recent Entries</h3> <!></div></div>');function Fd(t,a){Ge(a,!0);const e=()=>Ke(ir,"$timeStore",i),n=()=>Ke(Qt,"$projectsStore",i),[i,d]=rt();let l=he(""),v=he(""),p=he(!1),h=he("00:00:00"),f=he(null),m=we(()=>e().activeEntry);Qe(()=>{ir.loadEntries(),ir.loadActiveEntry(),Qt.loadProjects()}),Xr(()=>{o(f)&&clearInterval(o(f))}),zt(()=>{o(m)?(o(f)&&clearInterval(o(f)),b(),k(f,setInterval(b,1e3),!0)):(o(f)&&clearInterval(o(f)),k(h,"00:00:00"))});function b(){if(!o(m))return;const K=new Date(o(m).startTime).getTime(),D=new Date().getTime(),N=Math.floor((D-K)/1e3),U=Math.floor(N/3600).toString().padStart(2,"0"),j=Math.floor(N%3600/60).toString().padStart(2,"0"),A=(N%60).toString().padStart(2,"0");k(h,`${U}:${j}:${A}`)}async function y(){if(!o(l))return;(await ir.startTimer({description:o(l),projectId:o(v)||void 0,billable:o(p)})).success&&(k(l,""),k(v,""),k(p,!1))}async function B(){o(m)&&await ir.stopTimer(o(m).id)}async function _(K){confirm("Delete this time entry?")&&await ir.deleteEntry(K)}function F(K){if(!K)return"00:00:00";const D=Math.floor(K/3600).toString().padStart(2,"0"),N=Math.floor(K%3600/60).toString().padStart(2,"0"),U=(K%60).toString().padStart(2,"0");return`${D}:${N}:${U}`}function E(K){return new Date(K).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}var W=Rd(),C=c(s(W),2),O=s(C);{var G=K=>{var D=Ad(),N=s(D),U=c(s(N),2),j=s(U,!0);r(U);var A=c(U,2);{var I=T=>{const Z=we(()=>n().projects.find(M=>M.id===o(m).projectId));var V=Id(),$=s(V,!0);r(V),ne(()=>R($,o(Z)?.name||"Unknown Project")),u(T,V)};P(A,T=>{o(m).projectId&&T(I)})}r(N);var H=c(N,2),S=s(H,!0);r(H);var w=c(H,2);w.__click=B;var x=s(w);Lo(x,{class:"w-5 h-5 fill-current"}),se(),r(w),r(D),ne(()=>{R(j,o(m).description||"No description"),R(S,o(h))}),u(K,D)},q=K=>{var D=Ld(),N=s(D),U=c(s(N),2);bt(U),r(N);var j=c(N,2),A=c(s(j),2),I=s(A);I.value=I.__value="";var H=c(I);ze(H,1,()=>n().projects,qe,(Z,V)=>{var $=Od(),M=s($,!0);r($);var le={};ne(()=>{R(M,o(V).name),le!==(le=o(V).id)&&($.value=($.__value=o(V).id)??"")}),u(Z,$)}),r(A),r(j);var S=c(j,2),w=s(S);bt(w),se(2),r(S);var x=c(S,2);x.__click=y;var T=s(x);Qr(T,{class:"w-5 h-5 fill-current"}),se(),r(x),r(D),ne(()=>x.disabled=!o(l)),St(U,()=>o(l),Z=>k(l,Z)),Ur(A,()=>o(v),Z=>k(v,Z)),Xs(w,()=>o(p),Z=>k(p,Z)),u(K,D)};P(O,K=>{o(m)?K(G):K(q,!1)})}r(C);var te=c(C,2),J=c(s(te),2);{var Y=K=>{var D=Pd();u(K,D)},re=K=>{var D=X(),N=z(D);{var U=A=>{var I=Cd();u(A,I)},j=A=>{var I=jd();ze(I,5,()=>e().entries,H=>H.id,(H,S)=>{var w=Nd(),x=s(w),T=s(x),Z=s(T),V=s(Z,!0);r(Z);var $=c(Z,2);{var M=ie=>{_o(ie,{class:"w-3 h-3 text-green-600"})};P($,ie=>{o(S).billable&&ie(M)})}r(T);var le=c(T,2),ge=s(le);{var ee=ie=>{const fe=we(()=>n().projects.find(Ee=>Ee.id===o(S).projectId));var ue=Md(),ve=s(ue);no(ve,{class:"w-3 h-3"});var me=c(ve);r(ue),ne(()=>R(me,` ${(o(fe)?.name||"Unknown")??""}`)),u(ie,ue)};P(ge,ie=>{o(S).projectId&&ie(ee)})}var Q=c(ge,2),ae=s(Q);tr(ae,{class:"w-3 h-3"});var de=c(ae);r(Q),r(le),r(x);var L=c(x,2),ce=s(L),oe=s(ce,!0);r(ce);var be=c(ce,2);be.__click=()=>_(o(S).id);var pe=s(be);Wt(pe,{class:"w-4 h-4"}),r(be),r(L),r(w),ne((ie,fe,ue)=>{R(V,o(S).description||"No description"),R(de,` ${ie??""} - ${fe??""}`),R(oe,ue)},[()=>E(o(S).startTime),()=>o(S).endTime?E(o(S).endTime):"Now",()=>F(o(S).durationSeconds)]),u(H,w)}),r(I),u(A,I)};P(N,A=>{e().entries.length===0?A(U):A(j,!1)},!0)}u(K,D)};P(J,K=>{e().isLoading&&e().entries.length===0?K(Y):K(re,!1)})}r(te),r(W),u(t,W),He(),d()}Ue(["click"]);Ue(["click"]);Ue(["click"]);var zd=g('<button type="button" class="text-[11px] font-black uppercase tracking-wider px-2 py-1 border-2 border-current hover:bg-white hover:text-black dark:hover:bg-black dark:hover:text-white transition-colors"> </button>'),Wd=g('<div><div class="flex-1 space-y-2"><div class="text-sm font-bold leading-snug uppercase tracking-wide"> </div> <!></div> <button type="button" class="p-1 border-2 border-current hover:bg-white hover:text-black dark:hover:bg-black dark:hover:text-white transition-colors flex-shrink-0" aria-label="Dismiss"><!></button></div>'),Ud=g('<div class="fixed right-4 top-4 z-[200] flex flex-col gap-3 max-w-sm"></div>');function Gd(t,a){Ge(a,!0);const e=()=>Ke(xt,"$toast",n),[n,i]=rt();let d=we(e);function l(h){switch(h){case"success":return"bg-green-500 text-white";case"warning":return"bg-amber-500 text-black";case"error":return"bg-red-600 text-white";default:return"bg-black text-white"}}async function v(h){h.action?.onClick&&(await h.action.onClick(),xt.dismiss(h.id))}var p=Ud();ze(p,21,()=>o(d),h=>h.id,(h,f)=>{var m=Wd(),b=s(m),y=s(b),B=s(y,!0);r(y);var _=c(y,2);{var F=C=>{var O=zd();O.__click=()=>v(o(f));var G=s(O,!0);r(O),ne(()=>R(G,o(f).action.label)),u(C,O)};P(_,C=>{o(f).action&&C(F)})}r(b);var E=c(b,2);E.__click=()=>xt.dismiss(o(f).id);var W=s(E);Er(W,{class:"w-4 h-4"}),r(E),r(m),ne(C=>{Ne(m,1,C),R(B,o(f).message)},[()=>`flex items-start gap-3 p-3 brutal-border brutal-shadow ${l(o(f).type)} animate-in slide-in-from-right duration-200`]),u(h,m)}),r(p),u(t,p),He(),i()}Ue(["click"]);Ue(["click","keydown"]);var Hd=g('<pre class="whitespace-pre-wrap"> </pre>'),Bd=g('<details class="mb-6 group"><summary class="text-xs font-bold cursor-pointer hover:bg-terminal-green hover:text-black p-2 border-2 border-transparent hover:border-black dark:hover:border-white transition-all inline-block uppercase">Technical Details</summary> <div class="mt-4 p-4 bg-black text-terminal-green border-2 border-black dark:border-white text-[10px] font-mono overflow-x-auto shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]"><p class="font-bold underline mb-2"> </p> <!></div></details>'),Vd=g('<div class="flex items-center justify-center min-h-screen bg-background p-6 font-mono uppercase"><div class="max-w-2xl w-full bg-card border-2 border-black dark:border-white p-8 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] dark:shadow-[8px_8px_0px_0px_rgba(255,255,255,1)]"><div class="flex items-start gap-6"><div class="p-4 border-2 border-black dark:border-white bg-destructive text-destructive-foreground"><!></div> <div class="flex-1"><h2 class="text-2xl font-display tracking-tighter mb-4 border-b-2 border-black dark:border-white inline-block">System Failure</h2> <p class="text-sm font-bold mb-6"> </p> <!> <div class="flex gap-4"><button class="px-6 py-3 border-2 border-black dark:border-white bg-terminal-green text-black font-black uppercase text-xs hover:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:translate-x-1 active:translate-y-1 transition-all">Return to Protocol</button> <button class="px-6 py-3 border-2 border-black dark:border-white bg-background text-foreground font-black uppercase text-xs hover:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:translate-x-1 active:translate-y-1 transition-all flex items-center gap-2"><!> Hard Restart</button></div></div></div></div></div>');function ds(t,a){Ge(a,!0);let e=gt(a,"fallback",3,"An error occurred"),n=gt(a,"showDetails",3,!1),i=he(null),d=he(""),l=he(!1);function v(_){k(i,_.error,!0),k(d,_.error?.stack||"",!0),k(l,!0),Fe.error("ErrorBoundary caught error",_.error),_.preventDefault()}function p(_){k(i,_.reason,!0),k(d,_.reason?.stack||"",!0),k(l,!0),Fe.error("ErrorBoundary caught rejection",_.reason),_.preventDefault()}function h(){k(l,!1),k(i,null),k(d,"")}function f(){typeof window<"u"&&window.location.reload()}Qe(()=>{typeof window<"u"&&(window.addEventListener("error",v),window.addEventListener("unhandledrejection",p))}),Xr(()=>{typeof window<"u"&&(window.removeEventListener("error",v),window.removeEventListener("unhandledrejection",p))});var m=X(),b=z(m);{var y=_=>{var F=Vd(),E=s(F),W=s(E),C=s(W),O=s(C);kr(O,{class:"w-8 h-8"}),r(C);var G=c(C,2),q=c(s(G),2),te=s(q,!0);r(q);var J=c(q,2);{var Y=U=>{var j=Bd(),A=c(s(j),2),I=s(A),H=s(I,!0);r(I);var S=c(I,2);{var w=x=>{var T=Hd(),Z=s(T,!0);r(T),ne(()=>R(Z,o(d))),u(x,T)};P(S,x=>{o(d)&&x(w)})}r(A),r(j),ne(()=>R(H,o(i).message)),u(U,j)};P(J,U=>{n()&&o(i)&&U(Y)})}var re=c(J,2),K=s(re);K.__click=h;var D=c(K,2);D.__click=f;var N=s(D);Ao(N,{class:"w-4 h-4"}),se(),r(D),r(re),r(G),r(W),r(E),r(F),ne(()=>R(te,e())),u(_,F)},B=_=>{var F=X(),E=z(F);Sa(E,()=>a.children),u(_,F)};P(b,_=>{o(l)?_(y):_(B,!1)})}u(t,m),He()}Ue(["click"]);var Kd=g('<button class="btn btn-primary px-10 py-4 text-xl"> Initiate</button>'),qd=g('<button class="btn bg-accent text-accent-foreground px-10 py-4 text-xl"> Suspend</button>'),Zd=g('<div class="pomodoro-timer brutal-card bg-card p-8 relative overflow-hidden"><div class="absolute inset-0 pointer-events-none opacity-[0.03] bg-grid-pattern"></div> <div class="absolute inset-0 pointer-events-none bg-gradient-to-b from-transparent via-white/5 to-transparent h-1 bg-[length:100%_4px] animate-scan-line"></div> <div class="relative z-10 text-center mb-8 border-b-2 border-border pb-6"><h2 class="text-3xl font-black uppercase tracking-tighter mb-2"> </h2> <div class="flex items-center justify-center gap-4"><p class="text-[10px] font-bold uppercase tracking-widest text-muted-foreground bg-secondary px-2 py-0.5"> </p> <p> </p></div></div> <div class="relative z-10 flex flex-col items-center justify-center mb-8"><div class="text-8xl font-mono font-black tracking-widest mb-6 tabular-nums"> </div> <div class="w-full h-8 border-2 border-border bg-secondary relative overflow-hidden"><div class="h-full bg-terminal-green transition-all duration-1000 ease-linear"></div> <div class="absolute inset-0 bg-[linear-gradient(to_right,rgba(0,0,0,0.1)_1px,transparent_1px)] bg-[size:20px_100%]"></div></div> <div class="w-full flex justify-between mt-1"><span class="text-[9px] font-bold uppercase text-muted-foreground">0%</span> <span class="text-[9px] font-bold uppercase text-muted-foreground"> </span> <span class="text-[9px] font-bold uppercase text-muted-foreground">100%</span></div></div> <div class="relative z-10 flex flex-col sm:flex-row justify-center gap-4"><!> <button class="btn btn-secondary px-10 py-4 text-xl"> Reset</button></div> <div class="relative z-10 mt-8 pt-6 border-t-2 border-border"><p class="text-[10px] font-bold uppercase tracking-widest text-center mb-4 text-muted-foreground">Preset Intervals</p> <div class="flex justify-center flex-wrap gap-3"><button>25M</button> <button>50M</button> <button>90M</button></div></div></div>');function Yd(t,a){Ge(a,!0);let e=gt(a,"duration",15,1500),n=gt(a,"breakDuration",3,300),i=he(Kt(e())),d=he(!1),l=he(!1),v=he(void 0),p=he(0),h=we(()=>(e()-o(i))/e()*100),f=we(()=>Math.floor(o(i)/60)),m=we(()=>o(i)%60),b=we(()=>`${o(f)}:${o(m).toString().padStart(2,"0")}`);function y(){k(d,!0),k(v,setInterval(()=>{pa(i,-1),o(i)<=0&&F()},1e3),!0)}function B(){k(d,!1),o(v)&&(clearInterval(o(v)),k(v,void 0))}function _(){B(),k(i,o(l)?n():e(),!0),k(l,!1)}function F(){B(),o(l)||pa(p),k(l,!o(l)),k(i,o(l)?n():e(),!0),E(),"Notification"in window&&Notification.permission==="granted"&&new Notification("Pomodoro Timer",{body:o(l)?"Time for a break!":"Focus time!",icon:"/favicon.ico"}),a.onComplete&&a.onComplete()}function E(){const Q=new(window.AudioContext||window.webkitAudioContext),ae=Q.createOscillator(),de=Q.createGain();ae.connect(de),de.connect(Q.destination),ae.frequency.value=800,ae.type="sine",de.gain.value=.3,ae.start(Q.currentTime),ae.stop(Q.currentTime+.2)}function W(){"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()}Qe(()=>{W()}),Xr(()=>{o(v)&&(clearInterval(o(v)),k(v,void 0))});var C=Zd(),O=c(s(C),4),G=s(O),q=s(G,!0);r(G);var te=c(G,2),J=s(te),Y=s(J);r(J);var re=c(J,2),K=s(re);r(re),r(te),r(O);var D=c(O,2),N=s(D),U=s(N,!0);r(N);var j=c(N,2),A=s(j);se(2),r(j);var I=c(j,2),H=c(s(I),2),S=s(H);r(H),se(2),r(I),r(D);var w=c(D,2),x=s(w);{var T=Q=>{var ae=Kd();ae.__click=y,u(Q,ae)},Z=Q=>{var ae=qd();ae.__click=B,u(Q,ae)};P(x,Q=>{o(d)?Q(Z,!1):Q(T)})}var V=c(x,2);V.__click=_,r(w);var $=c(w,2),M=c(s($),2),le=s(M);le.__click=()=>{e(1500),_()};var ge=c(le,2);ge.__click=()=>{e(3e3),_()};var ee=c(ge,2);ee.__click=()=>{e(5400),_()},r(M),r($),r(C),ne((Q,ae)=>{R(q,o(l)?" System Break":" Focus Protocol"),R(Y,`Sessions: ${Q??""}`),Ne(re,1,`text-[10px] font-bold uppercase tracking-widest ${o(d)?"text-terminal-green animate-pulse":"text-system-red"}`),R(K,`Status: ${o(d)?"ACTIVE":"IDLE"}`),R(U,o(b)),er(A,`width: ${o(h)??""}%`),R(S,`Progress: ${ae??""}%`),Ne(le,1,`btn btn-sm ${e()===1500?"bg-terminal-green text-black":"bg-card"}`),Ne(ge,1,`btn btn-sm ${e()===3e3?"bg-terminal-green text-black":"bg-card"}`),Ne(ee,1,`btn btn-sm ${e()===5400?"bg-terminal-green text-black":"bg-card"}`)},[()=>o(p).toString().padStart(2,"0"),()=>Math.round(o(h))]),u(t,C),He()}Ue(["click"]);Ue(["click"]);var Jd=g('<div class="space-y-6"><div><h2 class="text-3xl font-black uppercase tracking-tighter">Focus Protocol</h2> <p class="text-muted-foreground font-mono text-sm mt-1">Deep focus sessions using the Pomodoro technique.</p></div> <div class="max-w-2xl mx-auto"><!></div> <div class="brutal-card bg-terminal-green/10 p-6 border-2 border-terminal-green"><h3 class="text-lg font-black uppercase mb-3 text-terminal-green">Why use the Focus Protocol?</h3> <ul class="space-y-2 text-sm font-mono"><li class="flex items-start gap-2"><span class="text-terminal-green font-bold">[01]</span> <span>Reduces cognitive load by breaking work into segments.</span></li> <li class="flex items-start gap-2"><span class="text-terminal-green font-bold">[02]</span> <span>Prevents burnout with mandatory short and long breaks.</span></li> <li class="flex items-start gap-2"><span class="text-terminal-green font-bold">[03]</span> <span>Improves estimation of task duration over time.</span></li></ul></div></div>');function Xd(t){var a=Jd(),e=c(s(a),2),n=s(e);Yd(n,{}),r(e),se(2),r(a),u(t,a)}var Qd=g('<!> <span class="text-xl font-black uppercase">Healthy</span>',1),ec=g('<!> <span class="text-xl font-black uppercase"> </span>',1),tc=g('<div class="h-full flex flex-col relative overflow-hidden"><div class="flex-shrink-0 p-6 border-b-2 border-black dark:border-white flex items-center justify-between bg-background z-10"><div class="flex items-center gap-3"><div class="p-2 border-2 border-black dark:border-white bg-secondary text-secondary-foreground"><!></div> <div><h2 class="text-2xl font-black uppercase tracking-tighter">Infrastructure</h2> <p class="text-sm font-bold text-muted-foreground">System Status & Logs</p></div></div> <button class="brutal-btn bg-white text-black flex items-center gap-2"><!> Refresh</button></div> <div class="flex-1 overflow-y-auto p-6 space-y-6"><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="brutal-card p-4"><div class="flex items-center justify-between mb-2"><span class="text-xs font-black uppercase text-muted-foreground">System Health</span> <!></div> <div class="flex items-center gap-2"><!></div></div> <div class="brutal-card p-4"><div class="flex items-center justify-between mb-2"><span class="text-xs font-black uppercase text-muted-foreground">Uptime</span> <!></div> <div class="text-xl font-black font-mono"> </div></div> <div class="brutal-card p-4"><div class="flex items-center justify-between mb-2"><span class="text-xs font-black uppercase text-muted-foreground">Database</span> <!></div> <div class="text-lg font-bold uppercase"> </div></div></div> <div class="brutal-card flex flex-col h-[500px]"><div class="p-4 border-b-2 border-black dark:border-white bg-secondary flex items-center justify-between"><div class="flex items-center gap-2 font-bold uppercase"><!> System Logs</div> <div class="flex border-2 border-black dark:border-white"><button>Backend</button> <button>Frontend</button></div></div> <div class="flex-1 overflow-auto p-4 bg-black text-green-400 font-mono text-xs"><pre class="whitespace-pre-wrap"> </pre></div></div></div></div>');function rc(t,a){Ge(a,!1);let e=Lr(null),n=Lr(""),i=Lr("backend"),d=Lr(!1);Qe(()=>{l(),v()});async function l(){k(d,!0);try{const ee=await Ae.get("/infra/status");k(e,ee.data)}catch(ee){ee.message}finally{k(d,!1)}}async function v(){try{const ee=await Ae.get(`/infra/logs/${o(i)}`);k(n,ee.data.content)}catch(ee){k(n,`Failed to load logs: ${ee.message}`)}}function p(ee){k(i,ee),v()}io();var h=tc(),f=s(h),m=s(f),b=s(m),y=s(b);Oo(y,{class:"w-6 h-6"}),r(b),se(2),r(m);var B=c(m,2);B.__click=()=>{l(),v()};var _=s(B);{let ee=Hs(()=>o(d)?"animate-spin":"");Aa(_,{get class(){return`w-4 h-4 ${o(ee)??""}`}})}se(),r(B),r(f);var F=c(f,2),E=s(F),W=s(E),C=s(W),O=c(s(C),2);Ia(O,{class:"w-4 h-4"}),r(C);var G=c(C,2),q=s(G);{var te=ee=>{var Q=Qd(),ae=z(Q);Gr(ae,{class:"w-6 h-6 text-green-500"}),se(2),u(ee,Q)},J=ee=>{var Q=ec(),ae=z(Q);kr(ae,{class:"w-6 h-6 text-red-500"});var de=c(ae,2),L=s(de,!0);r(de),ne(()=>R(L,o(e)?.system||"Unknown")),u(ee,Q)};P(q,ee=>{o(e)?.system==="healthy"?ee(te):ee(J,!1)})}r(G),r(W);var Y=c(W,2),re=s(Y),K=c(s(re),2);tr(K,{class:"w-4 h-4"}),r(re);var D=c(re,2),N=s(D);r(D),r(Y);var U=c(Y,2),j=s(U),A=c(s(j),2);xo(A,{class:"w-4 h-4"}),r(j);var I=c(j,2),H=s(I,!0);r(I),r(U),r(E);var S=c(E,2),w=s(S),x=s(w),T=s(x);so(T,{class:"w-4 h-4"}),se(),r(x);var Z=c(x,2),V=s(Z);V.__click=()=>p("backend");var $=c(V,2);$.__click=()=>p("frontend"),r(Z),r(w);var M=c(w,2),le=s(M),ge=s(le,!0);r(le),r(M),r(S),r(F),r(h),ne(ee=>{R(N,`${ee??""} min`),R(H,o(e)?.services?.database||"Checking..."),Ne(V,1,`px-3 py-1 text-xs font-bold uppercase ${o(i)==="backend"?"bg-black text-white dark:bg-white dark:text-black":"bg-white text-black hover:bg-gray-200 dark:bg-black dark:text-white dark:hover:bg-gray-800"}`),Ne($,1,`px-3 py-1 text-xs font-bold uppercase border-l-2 border-black dark:border-white ${o(i)==="frontend"?"bg-black text-white dark:bg-white dark:text-black":"bg-white text-black hover:bg-gray-200 dark:bg-black dark:text-white dark:hover:bg-gray-800"}`),R(ge,o(n)||"Loading logs...")},[()=>o(e)?Math.floor(o(e).uptime_seconds/60):0]),u(t,h),He()}Ue(["click"]);var ac=g('<span class="bg-muted text-muted-foreground px-2 py-0.5 text-[10px] font-bold svelte-l8xqlw">INACTIVE</span>'),sc=g('<div class="border-2 border-black dark:border-white p-4 transition-all hover:translate-x-1 hover:translate-y-1 shadow-[4px_4px_0_0_rgba(0,0,0,1)] dark:shadow-[4px_4px_0_0_rgba(255,255,255,1)] bg-card svelte-l8xqlw"><div class="flex items-start justify-between svelte-l8xqlw"><div class="space-y-1 svelte-l8xqlw"><div class="flex items-center gap-2 svelte-l8xqlw"><span class="text-lg font-black uppercase svelte-l8xqlw"> </span> <!></div> <div class="flex items-center gap-4 text-xs opacity-70 svelte-l8xqlw"><span class="flex items-center gap-1 svelte-l8xqlw"><!> </span> <span><!> </span></div></div> <div class="flex items-center gap-2 svelte-l8xqlw"><button class="btn btn-sm btn-primary flex items-center gap-2 svelte-l8xqlw"><!> RUN</button> <a href="https://n8n.verduona.io" target="_blank" class="btn btn-sm btn-ghost p-2 svelte-l8xqlw" title="Open in n8n"><!></a></div></div></div>'),oc=g(`<div class="p-6 space-y-8 font-mono svelte-l8xqlw"><div class="flex items-center justify-between border-b-4 border-black dark:border-white pb-4 svelte-l8xqlw"><h1 class="text-3xl font-display uppercase tracking-tighter svelte-l8xqlw">Workflow Orchestration</h1> <div class="flex items-center gap-2 bg-terminal-green text-black px-3 py-1 text-xs font-bold svelte-l8xqlw"><!> SYSTEM LIVE</div></div> <div class="grid gap-4 svelte-l8xqlw"></div> <div class="mt-8 border-t-2 border-black dark:border-white pt-6 svelte-l8xqlw"><h3 class="text-sm font-black uppercase mb-4 svelte-l8xqlw">Latest Execution Logs</h3> <div class="bg-black text-terminal-green p-4 text-[10px] space-y-1 overflow-x-auto border-2 border-black dark:border-white shadow-[4px_4px_0_0_rgba(0,0,0,1)] svelte-l8xqlw"><p class="svelte-l8xqlw">[2025-12-22 18:35:01] INFO: Triggering flow 'Prospect
                Research'...</p> <p class="svelte-l8xqlw">[2025-12-22 18:35:04] SUCCESS: 14 new leads extracted and pushed
                to CRM.</p> <p class="svelte-l8xqlw">[2025-12-22 18:36:12] WARNING: LinkedIn rate limits detected.
                Throttling engine...</p> <p class="animate-pulse svelte-l8xqlw">_</p></div></div></div>`);function nc(t,a){Ge(a,!0);let e=Kt([{id:"1",name:"Prospect Research (L1 Academy)",active:!0,lastRun:"2 hours ago",status:"success"},{id:"2",name:"LinkedIn Personalization Engine",active:!0,lastRun:"15 mins ago",status:"running"},{id:"3",name:"Stripe Invoice Reconciliation",active:!1,status:"idle"},{id:"4",name:"Lab by Kraliki Provisioning Audit",active:!0,lastRun:"1 day ago",status:"failed"}]);function n(f){switch(f){case"success":return"text-terminal-green";case"failed":return"text-destructive";case"running":return"text-primary animate-pulse";default:return"text-muted-foreground"}}async function i(f){const m=e.find(b=>b.id===f);if(m){m.status="running";try{const b=await fetch(`/api/v1/orchestration/${f}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({context:{source:"dashboard"}})}),y=await b.json();b.ok&&y.success?(m.status="success",m.lastRun="just now"):(m.status="failed",Fe.error("Orchestration failed",y.detail||"Unknown error"))}catch(b){Fe.error("Orchestration trigger failed",b),m.status="failed"}}}var d=oc(),l=s(d),v=c(s(l),2),p=s(v);Ia(p,{class:"w-4 h-4"}),se(),r(v),r(l);var h=c(l,2);ze(h,21,()=>e,qe,(f,m)=>{var b=sc(),y=s(b),B=s(y),_=s(B),F=s(_),E=s(F,!0);r(F);var W=c(F,2);{var C=H=>{var S=ac();u(H,S)};P(W,H=>{o(m).active||H(C)})}r(_);var O=c(_,2),G=s(O),q=s(G);tr(q,{class:"w-3 h-3"});var te=c(q);r(G);var J=c(G,2),Y=s(J);{var re=H=>{Tr(H,{class:"w-3 h-3"})},K=H=>{var S=X(),w=z(S);{var x=T=>{lo(T,{class:"w-3 h-3"})};P(w,T=>{o(m).status==="failed"&&T(x)},!0)}u(H,S)};P(Y,H=>{o(m).status==="success"?H(re):H(K,!1)})}var D=c(Y);r(J),r(O),r(B);var N=c(B,2),U=s(N);U.__click=()=>i(o(m).id);var j=s(U);Qr(j,{class:"w-3 h-3 fill-current"}),se(),r(U);var A=c(U,2),I=s(A);wo(I,{class:"w-4 h-4"}),r(A),r(N),r(y),r(b),ne((H,S)=>{R(E,o(m).name),R(te,` ${(o(m).lastRun||"Never run")??""}`),Ne(J,1,`flex items-center gap-1 font-bold ${H??""}`,"svelte-l8xqlw"),R(D,` ${S??""}`),U.disabled=o(m).status==="running"},[()=>n(o(m).status),()=>o(m).status.toUpperCase()]),wt(3,b,()=>Da),u(f,b)}),r(h),se(2),r(d),u(t,d),He()}Ue(["click"]);var ic=g('<div class="border-2 border-black dark:border-white p-3 bg-card shadow-[4px_4px_0_0_rgba(0,0,0,1)] dark:shadow-[4px_4px_0_0_rgba(255,255,255,1)] flex items-center gap-3 transition-transform active:translate-x-1"><div class="text-xs font-black opacity-30"></div> <div class="flex-1"><div class="text-xs font-black uppercase tracking-tight"> </div> <div class="text-[9px] opacity-60 leading-tight uppercase font-bold"> </div></div> <div class="p-1 border border-black dark:border-white bg-secondary/20"><!></div></div>'),lc=g('<div class="h-full flex flex-col bg-background font-mono select-none"><div class="p-4 border-b-4 border-black dark:border-white flex items-center justify-between bg-card shrink-0"><div class="flex items-center gap-2"><!> <h1 class="text-xl font-display uppercase tracking-tighter">VOICE BY KRALIKI ALPHA</h1></div> <div class="flex items-center gap-1 bg-black text-white px-2 py-0.5 text-[10px] font-bold"><span class="w-2 h-2 rounded-full bg-red-500 animate-pulse"></span> REMOTE ON</div></div> <div class="flex-1 overflow-y-auto p-4 space-y-6"><div class="space-y-4"><div class="relative"><textarea placeholder="DESCRIBE YOUR SCENARIO..." class="w-full h-32 p-4 bg-white dark:bg-black border-2 border-black dark:border-white focus:outline-none focus:shadow-[4px_4px_0px_0px_var(--color-terminal-green)] transition-all uppercase text-sm font-bold"></textarea> <button><!></button></div> <p class="text-[10px] text-muted-foreground uppercase text-center font-bold">Hold button to speak</p></div> <div class="space-y-3"><h3 class="text-xs font-black uppercase flex items-center gap-2"><!> Detected Logic Chain</h3> <!></div></div> <div class="p-6 border-t-4 border-black dark:border-white bg-card shrink-0"><button class="w-full py-4 border-2 border-black dark:border-white bg-terminal-green text-black font-black uppercase text-sm tracking-widest shadow-[6px_6px_0_0_rgba(0,0,0,1)] active:translate-x-1 active:translate-y-1 active:shadow-none transition-all flex items-center justify-center gap-3"><!> Activate Protocol</button></div></div>');function dc(t,a){Ge(a,!0);const e=()=>Ke(wr,"$authStore",n),[n,i]=rt();let d=he(!1),l=he(""),v=Kt([{id:"1",type:"trigger",label:"LinkedIn Lead Detected",description:"Triggered when a new contact is added."},{id:"2",type:"action",label:"Prospect Research",description:"Enriching lead data via n8n."},{id:"3",type:"action",label:"Draft DM",description:"Creating a personalized connection request."}]);function p(){k(d,!0),k(l,"Listening..."),setTimeout(()=>{k(l,"If I get a new LinkedIn lead, research them and draft a DM.")},2e3)}function h(){k(d,!1)}async function f(){if(Fe.info("Scenario saved:",{detectedScenario:v}),o(l).toUpperCase().includes("ORCHESTRATE")){const D=e().user;await fetch("/api/v1/academy/waitlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:D?.email||"anonymous@example.com",name:D?.full_name||"Anonymous",source:"voice-kraliki-tactical",interest:"L1_STUDENT"})})}}var m=lc(),b=s(m),y=s(b),B=s(y);At(B,{class:"w-6 h-6 fill-terminal-green text-black"}),se(2),r(y),se(2),r(b);var _=c(b,2),F=s(_),E=s(F),W=s(E);$a(W);var C=c(W,2);C.__mousedown=p,C.__mouseup=h;var O=s(C);{let D=we(()=>o(d)?"animate-pulse":"");ho(O,{get class(){return`w-8 h-8 ${o(D)??""}`}})}r(C),r(E),se(2),r(F);var G=c(F,2),q=s(G),te=s(q);$o(te,{class:"w-3 h-3"}),se(),r(q);var J=c(q,2);ze(J,17,()=>v,qe,(D,N,U)=>{var j=ic(),A=s(j);A.textContent=U+1;var I=c(A,2),H=s(I),S=s(H,!0);r(H);var w=c(H,2),x=s(w,!0);r(w),r(I);var T=c(I,2),Z=s(T);{var V=M=>{At(M,{class:"w-3 h-3 text-terminal-green"})},$=M=>{Qr(M,{class:"w-3 h-3"})};P(Z,M=>{o(N).type==="trigger"?M(V):M($,!1)})}r(T),r(j),ne(()=>{R(S,o(N).label),R(x,o(N).description)}),wt(3,j,()=>Da),u(D,j)}),r(G),r(_);var Y=c(_,2),re=s(Y);re.__click=f;var K=s(re);Tr(K,{class:"w-5 h-5"}),se(),r(re),r(Y),r(m),ne(()=>Ne(C,1,`absolute bottom-4 right-4 p-4 rounded-full border-4 border-black dark:border-white transition-all active:scale-95 ${o(d)?"bg-red-500 text-white":"bg-terminal-green text-black shadow-[4px_4px_0_0_rgba(0,0,0,1)]"}`)),St(W,()=>o(l),D=>k(l,D)),u(t,m),He(),i()}Ue(["mousedown","mouseup","click"]);var cc=g('<div class="text-center py-8"><div class="animate-pulse text-muted-foreground">Loading captures...</div></div>'),vc=g('<div class="brutal-card bg-destructive/10 border-destructive p-4"><p class="text-sm text-destructive"> </p></div>'),uc=g(`<div class="text-center py-12 space-y-4"><div class="w-16 h-16 mx-auto brutal-card bg-muted flex items-center justify-center"><!></div> <p class="text-sm text-muted-foreground">No captures yet</p> <p class="text-xs text-muted-foreground max-w-xs mx-auto">Drop images, paste URLs, or type ideas. AI will process and organize
        everything.</p></div>`),pc=g('<div class="flex items-start gap-2"><!> <p class="text-sm text-muted-foreground"> </p></div>'),fc=g('<li class="text-muted-foreground"> </li>'),bc=g('<div class="space-y-1"><p class="text-[10px] uppercase font-bold tracking-widest text-muted-foreground flex items-center gap-1"><!> Key Points</p> <ul class="text-xs space-y-1 pl-4"></ul></div>'),gc=g('<li class="flex items-center gap-2 text-muted-foreground hover:text-foreground cursor-pointer"><span class="w-3 h-3 border border-current flex-shrink-0"></span> </li>'),hc=g('<div class="space-y-1"><p class="text-[10px] uppercase font-bold tracking-widest text-muted-foreground flex items-center gap-1"><!> Action Items</p> <ul class="text-xs space-y-1"></ul></div>'),mc=g('<span class="text-[10px] px-2 py-0.5 bg-accent/20 text-accent-foreground uppercase font-bold"> </span>'),xc=g('<div class="flex items-center gap-1 flex-wrap"><!> <!></div>'),_c=g('<div class="brutal-card bg-card p-4 space-y-3"><div class="flex items-start justify-between gap-3"><div class="flex items-center gap-2"><div class="w-8 h-8 brutal-card bg-accent flex items-center justify-center flex-shrink-0"><!></div> <div class="min-w-0"><h3 class="font-bold text-sm truncate"> </h3> <div class="flex items-center gap-2 text-[10px] text-muted-foreground"><!> <span> </span> <span class="uppercase"> </span></div></div></div> <button class="p-1 hover:bg-destructive/10 text-muted-foreground hover:text-destructive" title="Delete capture"><!></button></div> <!> <!> <!> <!></div>'),yc=g('<div class="space-y-3"></div>'),wc=g('<div class="p-4 space-y-4"><div class="flex items-center justify-between"><div class="flex items-center gap-2"><!> <span class="text-sm font-bold uppercase tracking-widest">Recent Captures</span></div> <button class="text-xs uppercase font-bold text-muted-foreground hover:text-foreground">Refresh</button></div> <!></div>');function kc(t,a){Ge(a,!0);let e=he(Kt([])),n=he(!0),i=he(null);const d={image:Do,url:fs,text:Hr,file:va};async function l(){k(n,!0),k(i,null);try{const E=await Ae.get("/captures?limit=50");k(e,E.captures||[],!0)}catch(E){k(i,E?.detail||"Failed to load captures",!0),Fe.error("[Captures] Load error",E)}finally{k(n,!1)}}async function v(E){try{await Ae.delete(`/captures/${E}`),k(e,o(e).filter(W=>W.id!==E),!0),xt.success("Capture deleted")}catch(W){xt.error(W?.detail||"Failed to delete")}}function p(E){const W=new Date(E),O=new Date().getTime()-W.getTime(),G=Math.floor(O/6e4),q=Math.floor(O/36e5),te=Math.floor(O/864e5);return G<1?"Just now":G<60?`${G}m ago`:q<24?`${q}h ago`:te<7?`${te}d ago`:W.toLocaleDateString()}Qe(()=>{l()});var h=wc(),f=s(h),m=s(f),b=s(m);va(b,{class:"w-5 h-5"}),se(2),r(m);var y=c(m,2);y.__click=l,r(f);var B=c(f,2);{var _=E=>{var W=cc();u(E,W)},F=E=>{var W=X(),C=z(W);{var O=q=>{var te=vc(),J=s(te),Y=s(J,!0);r(J),r(te),ne(()=>R(Y,o(i))),u(q,te)},G=q=>{var te=X(),J=z(te);{var Y=K=>{var D=uc(),N=s(D),U=s(N);va(U,{class:"w-8 h-8 text-muted-foreground"}),r(N),se(4),r(D),u(K,D)},re=K=>{var D=yc();ze(D,21,()=>o(e),N=>N.id,(N,U)=>{const j=we(()=>d[o(U).source_type]||Hr);var A=_c(),I=s(A),H=s(I),S=s(H),w=s(S);cs(w,()=>o(j),(ue,ve)=>{ve(ue,{class:"w-4 h-4"})}),r(S);var x=c(S,2),T=s(x),Z=s(T,!0);r(T);var V=c(T,2),$=s(V);tr($,{class:"w-3 h-3"});var M=c($,2),le=s(M,!0);r(M);var ge=c(M,2),ee=s(ge,!0);r(ge),r(V),r(x),r(H);var Q=c(H,2);Q.__click=()=>v(o(U).id);var ae=s(Q);Wt(ae,{class:"w-4 h-4"}),r(Q),r(I);var de=c(I,2);{var L=ue=>{var ve=pc(),me=s(ve);At(me,{class:"w-4 h-4 text-accent flex-shrink-0 mt-0.5"});var Ee=c(me,2),Ie=s(Ee,!0);r(Ee),r(ve),ne(()=>R(Ie,o(U).processed.summary)),u(ue,ve)};P(de,ue=>{o(U).processed?.summary&&ue(L)})}var ce=c(de,2);{var oe=ue=>{var ve=bc(),me=s(ve),Ee=s(me);Eo(Ee,{class:"w-3 h-3"}),se(),r(me);var Ie=c(me,2);ze(Ie,21,()=>o(U).processed.key_points.slice(0,3),qe,(Le,xe)=>{var Pe=fc(),ye=s(Pe,!0);r(Pe),ne(()=>R(ye,o(xe))),u(Le,Pe)}),r(Ie),r(ve),u(ue,ve)};P(ce,ue=>{o(U).processed?.key_points?.length>0&&ue(oe)})}var be=c(ce,2);{var pe=ue=>{var ve=hc(),me=s(ve),Ee=s(me);eo(Ee,{class:"w-3 h-3"}),se(),r(me);var Ie=c(me,2);ze(Ie,21,()=>o(U).processed.action_items.slice(0,3),qe,(Le,xe)=>{var Pe=gc(),ye=c(s(Pe));r(Pe),ne(()=>R(ye,` ${o(xe)??""}`)),u(Le,Pe)}),r(Ie),r(ve),u(ue,ve)};P(be,ue=>{o(U).processed?.action_items?.length>0&&ue(pe)})}var ie=c(be,2);{var fe=ue=>{var ve=xc(),me=s(ve);La(me,{class:"w-3 h-3 text-muted-foreground"});var Ee=c(me,2);ze(Ee,17,()=>o(U).processed.suggested_tags.slice(0,5),qe,(Ie,Le)=>{var xe=mc(),Pe=s(xe,!0);r(xe),ne(()=>R(Pe,o(Le))),u(Ie,xe)}),r(ve),u(ue,ve)};P(ie,ue=>{o(U).processed?.suggested_tags?.length>0&&ue(fe)})}r(A),ne(ue=>{R(Z,o(U).title),R(le,ue),R(ee,o(U).source_type)},[()=>p(o(U).createdAt)]),u(N,A)}),r(D),u(K,D)};P(J,K=>{o(e).length===0?K(Y):K(re,!1)},!0)}u(q,te)};P(C,q=>{o(i)?q(O):q(G,!1)},!0)}u(E,W)};P(B,E=>{o(n)?E(_):E(F,!1)})}r(h),u(t,h),He()}Ue(["click"]);var $c=g('<div class="fixed inset-0 bg-black/40 z-40 transition-opacity duration-300" role="button" tabindex="-1" aria-label="Close panel"></div>'),Sc=g('<!> <div><div class="flex-shrink-0 flex items-center justify-between p-4 border-b-2 border-black dark:border-white bg-card"><div class="flex items-center gap-3"><h2 class="text-xl font-display uppercase tracking-tighter"> </h2> <span class="text-[9px] uppercase font-bold tracking-widest text-muted-foreground opacity-60 hidden md:inline">Manual Mode</span></div> <button type="button" class="btn btn-sm btn-ghost p-2" title="Close panel (ESC)"><!></button></div> <div class="flex-1 overflow-y-auto"><!></div></div>',1);function Dc(t,a){Ge(a,!0);const e=()=>Ke(kt,"$contextPanelStore",n),[n,i]=rt();let d=we(e),l=we(()=>o(d).isOpen),v=we(()=>o(d).type),p=he(void 0),h=he(null);const f={tasks:"Tasks",projects:"Projects",knowledge:"Knowledge Base",calendar:"Calendar",analytics:"Analytics",settings:"Settings",workflow:"Workflows",shadow:"Shadow Work",time:"Time Tracking",pomodoro:"Focus Protocol",infra:"Infrastructure",n8n:"Workflows",voice:"Voice by Kraliki Remote",captures:"Captures"};function m(){if(o(p)&&o(v)){const A=o(p).scrollTop;kt.saveScrollPosition(o(v),A)}}async function b(){if(o(p)&&o(v)){await Bs();const A=o(d).scrollPositions?.[o(v)]||0;requestAnimationFrame(()=>{o(p)&&(o(p).scrollTop=A)})}}let y=he(null);function B(){o(y)&&clearTimeout(o(y)),k(y,window.setTimeout(()=>{m(),k(y,null)},100),!0)}zt(()=>{o(v)!==o(h)&&(o(h)&&o(p)&&m(),k(h,o(v),!0),o(l)&&o(v)&&b())}),zt(()=>{o(l)&&o(v)&&o(p)&&b()});function _(){m(),kt.close()}function F(A){A.key==="Escape"&&o(l)&&_()}Qe(()=>(document.addEventListener("keydown",F),()=>{document.removeEventListener("keydown",F)}));var E=Sc(),W=z(E);{var C=A=>{var I=$c();I.__click=_,I.__keydown=H=>H.key==="Enter"&&_(),u(A,I)};P(W,A=>{o(l)&&A(C)})}var O=c(W,2);let G;var q=s(O),te=s(q),J=s(te),Y=s(J,!0);r(J),se(2),r(te);var re=c(te,2);re.__click=_;var K=s(re);Er(K,{class:"w-5 h-5"}),r(re),r(q);var D=c(q,2),N=s(D);{var U=A=>{xi(A,{})},j=A=>{var I=X(),H=z(I);{var S=x=>{Ci(x,{})},w=x=>{var T=X(),Z=z(T);{var V=M=>{rl(M,{})},$=M=>{var le=X(),ge=z(le);{var ee=ae=>{cl(ae,{})},Q=ae=>{var de=X(),L=z(de);{var ce=be=>{kl(be,{})},oe=be=>{var pe=X(),ie=z(pe);{var fe=ve=>{Xl(ve,{})},ue=ve=>{var me=X(),Ee=z(me);{var Ie=xe=>{vd(xe,{})},Le=xe=>{var Pe=X(),ye=z(Pe);{var Oe=_e=>{Dd(_e,{})},ke=_e=>{var Me=X(),We=z(Me);{var Ze=je=>{Fd(je,{})},Ce=je=>{var et=X(),mt=z(et);{var _t=ct=>{Xd(ct)},Lt=ct=>{var ut=X(),Ye=z(ut);{var st=Dt=>{rc(Dt,{})},Pt=Dt=>{var rr=X(),Re=z(rr);{var it=Mt=>{nc(Mt,{})},Ct=Mt=>{var Ut=X(),la=z(Ut);{var Cs=ar=>{dc(ar,{})},Ms=ar=>{var Fa=X(),Ns=z(Fa);{var js=da=>{kc(da,{})};P(Ns,da=>{o(v)==="captures"&&da(js)},!0)}u(ar,Fa)};P(la,ar=>{o(v)==="voice"?ar(Cs):ar(Ms,!1)},!0)}u(Mt,Ut)};P(Re,Mt=>{o(v)==="n8n"?Mt(it):Mt(Ct,!1)},!0)}u(Dt,rr)};P(Ye,Dt=>{o(v)==="infra"?Dt(st):Dt(Pt,!1)},!0)}u(ct,ut)};P(mt,ct=>{o(v)==="pomodoro"?ct(_t):ct(Lt,!1)},!0)}u(je,et)};P(We,je=>{o(v)==="time"?je(Ze):je(Ce,!1)},!0)}u(_e,Me)};P(ye,_e=>{o(v)==="shadow"?_e(Oe):_e(ke,!1)},!0)}u(xe,Pe)};P(Ee,xe=>{o(v)==="workflow"?xe(Ie):xe(Le,!1)},!0)}u(ve,me)};P(ie,ve=>{o(v)==="settings"?ve(fe):ve(ue,!1)},!0)}u(be,pe)};P(L,be=>{o(v)==="analytics"?be(ce):be(oe,!1)},!0)}u(ae,de)};P(ge,ae=>{o(v)==="calendar"?ae(ee):ae(Q,!1)},!0)}u(M,le)};P(Z,M=>{o(v)==="knowledge"?M(V):M($,!1)},!0)}u(x,T)};P(H,x=>{o(v)==="projects"?x(S):x(w,!1)},!0)}u(A,I)};P(N,A=>{o(v)==="tasks"?A(U):A(j,!1)})}r(D),Js(D,A=>k(p,A),()=>o(p)),r(O),ne(()=>{G=Ne(O,1,"fixed top-0 right-0 h-full w-full md:w-[600px] lg:w-[800px] bg-background z-50 border-l-2 border-black dark:border-white shadow-[-8px_0_0_0_rgba(0,0,0,1)] dark:shadow-[-8px_0_0_0_rgba(255,255,255,1)] transform transition-transform duration-300 flex flex-col",null,G,{"translate-x-full":!o(l),"translate-x-0":o(l)}),R(Y,o(v)?f[o(v)]:"")}),fa("scroll",D,B),u(t,E),He(),i()}Ue(["click","keydown"]);var Tc=g("<div></div>"),Ec=g(`<div class="text-center"><div class="text-5xl mb-4"><span class="text-terminal-green">&gt;_</span></div> <h1 id="onboarding-title" class="text-2xl font-bold uppercase tracking-wide mb-2">Welcome to Focus by Kraliki</h1> <p class="text-muted-foreground mb-8">Your AI-powered productivity companion</p> <p class="text-sm text-muted-foreground">Let's take a quick tour of the key features.</p></div>`),Ic=g('<div class="flex items-start gap-4 p-3 border-2 border-foreground/20 hover:border-terminal-green transition-colors"><div class="flex-shrink-0 w-10 h-10 border-2 border-foreground flex items-center justify-center"><svg class="w-5 h-5 text-terminal-green" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="square"><path></path></svg></div> <div><h3 class="font-bold uppercase text-sm"> </h3> <p class="text-sm text-muted-foreground"> </p></div></div>'),Ac=g('<div><h2 class="text-lg font-bold uppercase tracking-wide mb-6 text-center">Key Features</h2> <div class="space-y-4"></div></div>'),Oc=g(`<div class="text-center"><div class="text-5xl mb-4 text-terminal-green">&#x2713;</div> <h2 class="text-2xl font-bold uppercase tracking-wide mb-2">You're All Set!</h2> <p class="text-muted-foreground mb-4">Start exploring Focus by Kraliki and boost your productivity.</p> <p class="text-sm text-muted-foreground">Try saying "Add task review PR tomorrow high priority" to get started!</p></div>`),Lc=g('<div class="fixed inset-0 z-50 flex items-center justify-center bg-void/80 backdrop-blur-sm" role="dialog" aria-modal="true" aria-labelledby="onboarding-title"><div class="relative w-full max-w-lg mx-4 bg-background border-3 border-foreground shadow-brutal overflow-hidden svelte-a7gy0w"><div class="absolute top-4 left-1/2 -translate-x-1/2 flex gap-2"></div> <button class="absolute top-4 right-4 text-xs text-muted-foreground hover:text-foreground uppercase tracking-wider">Skip</button> <div class="pt-12 pb-6 px-6"><!></div> <div class="p-6 pt-0"><button class="w-full py-3 uppercase tracking-wide font-bold border-2 border-foreground bg-foreground text-background hover:translate-x-[-2px] hover:translate-y-[-2px] hover:shadow-[5px_5px_0px_0px_hsl(var(--foreground))] active:translate-x-[2px] active:translate-y-[2px] active:shadow-[1px_1px_0px_0px_hsl(var(--foreground))] transition-all shadow-[3px_3px_0px_0px_hsl(var(--foreground))]"><!></button></div></div></div>');function Pc(t,a){Ge(a,!0);const e="focus_kraliki_onboarding_completed",n=["welcome","features","complete"],i=[{icon:"voice",title:"Voice Capture",description:"Add tasks naturally by speaking - just say what you need to do"},{icon:"ai",title:"AI Insights",description:"Get smart recommendations and automatic task prioritization"},{icon:"calendar",title:"Calendar Sync",description:"Connect Google Calendar for seamless scheduling"},{icon:"zap",title:"Shadow Analysis",description:"Discover hidden patterns in how you actually work"}],d={voice:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z M19 10v2a7 7 0 0 1-14 0v-2 M12 19v4 M8 23h8",ai:"M12 2L2 7l10 5 10-5-10-5z M2 17l10 5 10-5 M2 12l10 5 10-5",calendar:"M19 4H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z M16 2v4 M8 2v4 M3 10h18",zap:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"};let l=he(!1),v=he(0),p=he(!1);Qe(()=>{{const _=localStorage.getItem(e);k(l,!_)}});function h(){o(p)||(k(p,!0),o(v)<n.length-1?pa(v):m(),setTimeout(()=>{k(p,!1)},300))}function f(){localStorage.setItem(e,JSON.stringify({completed:!0,skipped:!0,completedAt:new Date().toISOString()})),k(l,!1),a.onSkip?.()}function m(){localStorage.setItem(e,JSON.stringify({completed:!0,skipped:!1,completedAt:new Date().toISOString()})),k(l,!1),a.onComplete?.()}var b=X(),y=z(b);{var B=_=>{var F=Lc(),E=s(F),W=s(E);ze(W,21,()=>n,qe,(N,U,j)=>{var A=Tc();let I;ne(()=>I=Ne(A,1,"w-2 h-2 border-2 border-foreground transition-colors",null,I,{"bg-foreground":j<=o(v)})),u(N,A)}),r(W);var C=c(W,2);C.__click=f;var O=c(C,2),G=s(O);{var q=N=>{var U=Ec();wt(1,U,()=>mr,()=>({duration:200,delay:100})),u(N,U)},te=N=>{var U=X(),j=z(U);{var A=H=>{var S=Ac(),w=c(s(S),2);ze(w,21,()=>i,qe,(x,T,Z)=>{var V=Ic(),$=s(V),M=s($),le=s(M);r(M),r($);var ge=c($,2),ee=s(ge),Q=s(ee,!0);r(ee);var ae=c(ee,2),de=s(ae,!0);r(ae),r(ge),r(V),ne(()=>{Ta(le,"d",d[o(T).icon]),R(Q,o(T).title),R(de,o(T).description)}),wt(1,V,()=>Wr,()=>({x:-20,duration:200,delay:100+Z*50})),u(x,V)}),r(w),r(S),wt(1,S,()=>mr,()=>({duration:200,delay:100})),u(H,S)},I=H=>{var S=Oc();wt(1,S,()=>mr,()=>({duration:200,delay:100})),u(H,S)};P(j,H=>{o(v)===1?H(A):H(I,!1)},!0)}u(N,U)};P(G,N=>{o(v)===0?N(q):N(te,!1)})}r(O);var J=c(O,2),Y=s(J);Y.__click=h;var re=s(Y);{var K=N=>{var U=Ft("Get Started");u(N,U)},D=N=>{var U=X(),j=z(U);{var A=H=>{var S=Ft("Let's Go!");u(H,S)},I=H=>{var S=Ft("Continue");u(H,S)};P(j,H=>{o(v)===n.length-1?H(A):H(I,!1)},!0)}u(N,U)};P(re,N=>{o(v)===0?N(K):N(D,!1)})}r(Y),r(J),r(E),r(F),ne(()=>Y.disabled=o(p)),wt(3,E,()=>Wr,()=>({y:20,duration:300})),wt(3,F,()=>mr,()=>({duration:200})),u(_,F)};P(y,_=>{o(l)&&_(B)})}u(t,b),He()}Ue(["click"]);var Cc=g("<!> <!> <!> <!>",1);function mv(t,a){Ge(a,!0);const e=()=>Ke(wr,"$authStore",n),[n,i]=rt();async function d(){await wr.logout(),qs("/login")}let l=we(()=>e().user);Qe(()=>{e().token&&(jo(),Fe.info("[Dashboard] WebSocket connection initiated"))}),Xr(()=>{Ro(),Fe.info("[Dashboard] WebSocket connection closed")});var v=Cc(),p=z(v);ds(p,{fallback:"Critical Failure in Dashboard Kernel",children:(b,y)=>{Bo(b,{get user(){return o(l)},onLogout:d,children:(B,_)=>{var F=X(),E=z(F);Sa(E,()=>a.children),u(B,F)},$$slots:{default:!0}})},$$slots:{default:!0}});var h=c(p,2);ds(h,{fallback:"Panel Protocol Error",children:(b,y)=>{Dc(b,{})},$$slots:{default:!0}});var f=c(h,2);Gd(f,{});var m=c(f,2);Pc(m,{}),u(t,v),He(),i()}export{mv as component};
