import{c as se,a as i,f as u,t as ee}from"../chunks/pejWV2dy.js";import"../chunks/CQ2dU6u5.js";import{f as j,p as Ne,o as je,s as d,t as k,a as Ce,b as $,c as r,m as R,n as N,r as a,g as e}from"../chunks/DgM1AnfY.js";import{d as Me,s as h}from"../chunks/pi1oX53H.js";import{i as D}from"../chunks/B5hbs7lp.js";import{I as oe,s as ne,l as ae,e as Pe}from"../chunks/RjzcECkQ.js";import{c as Be,s as te}from"../chunks/DGcJkfPx.js";import{i as Re}from"../chunks/CUTbOrLX.js";import{a as W}from"../chunks/CBf0kXIe.js";import{B as K,L as We}from"../chunks/D-QTshHZ.js";import{C as Fe}from"../chunks/TQFJEm31.js";import{l as ie,s as de}from"../chunks/BQCnAYr2.js";function re(S,x){const m=ie(x,["children","$$slots","$$events","$$legacy"]);const c=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["circle",{cx:"12",cy:"12",r:"3"}]];oe(S,de({name:"eye"},()=>m,{get iconNode(){return c},children:(b,A)=>{var y=se(),U=j(y);ne(U,x,"default",{}),i(b,y)},$$slots:{default:!0}}))}function Je(S,x){const m=ie(x,["children","$$slots","$$events","$$legacy"]);const c=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1"}]];oe(S,de({name:"lock-open"},()=>m,{get iconNode(){return c},children:(b,A)=>{var y=se(),U=j(y);ne(U,x,"default",{}),i(b,y)},$$slots:{default:!0}}))}var Te=u('<div class="flex items-center justify-center h-64"><p class="text-muted-foreground">Loading shadow insights...</p></div>'),Ee=u('<div class="bg-gradient-to-r from-primary/10 to-purple-500/10 border border-primary/20 rounded-lg p-6"><div class="flex items-center gap-4"><div class="w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center"><!></div> <div class="flex-1"><h3 class="text-xl font-semibold">30-Day Progressive Unlock</h3> <p class="text-muted-foreground mt-1"> </p> <div class="mt-3 w-full bg-background rounded-full h-2"><div class="bg-primary h-2 rounded-full transition-all duration-500"></div></div></div></div></div>'),Ve=u('<div class="text-center py-16 bg-card border border-border rounded-lg"><!> <p class="text-muted-foreground mb-4">No shadow insights yet</p> <button class="px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors">Run your first analysis</button></div>'),qe=u('<button class="flex items-center gap-2 text-sm text-primary hover:underline"><!> Mark as acknowledged</button>'),Ge=u('<p class="text-xs text-green-500 flex items-center gap-1"><!> Acknowledged</p>'),He=u('<p class="text-sm leading-relaxed"> </p> <!>',1),Ke=u('<div class="space-y-2"><div class="h-4 bg-muted rounded animate-pulse"></div> <div class="h-4 bg-muted rounded animate-pulse w-5/6"></div> <div class="h-4 bg-muted rounded animate-pulse w-4/6"></div></div> <p class="text-sm text-muted-foreground italic"> </p>',1),Oe=u('<div><div class="flex items-start justify-between mb-4"><div class="flex items-center gap-2"><!> <span> </span></div> <span class="text-xs text-muted-foreground"><!></span></div> <div class="space-y-3"><!></div> <p class="text-xs text-muted-foreground mt-4"> </p></div>'),Qe=u('<div class="grid grid-cols-1 lg:grid-cols-2 gap-4"></div>'),Xe=u(`<!> <!> <div class="bg-card border border-border rounded-lg p-6"><h3 class="text-lg font-semibold mb-3">About Shadow Work</h3> <div class="space-y-2 text-sm text-muted-foreground"><p>Shadow Work is based on Carl Jung's concept of the "shadow" - the unconscious aspects of our personality that we've rejected or denied.</p> <p>By analyzing your task patterns, procrastination behaviors, and emotional responses, we provide insights that help you:</p> <ul class="list-disc list-inside space-y-1 ml-4"><li>Understand unconscious productivity patterns</li> <li>Identify emotional triggers and avoidance behaviors</li> <li>Recognize cognitive biases affecting task completion</li> <li>Integrate denied aspects for holistic productivity</li></ul> <p class="mt-4 text-primary">New insights unlock progressively over 30 days to allow time for reflection and integration.</p></div></div>`,1),Ye=u('<div class="space-y-6"><div class="flex items-center justify-between"><div><h1 class="text-3xl font-bold flex items-center gap-2"><!> Shadow Work</h1> <p class="text-muted-foreground mt-1">Jungian psychology insights for productivity and self-awareness</p></div> <button class="flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 disabled:opacity-50 transition-colors"><!> </button></div> <!></div>');function va(S,x){Ne(x,!1);let m=R([]),c=R(null),b=R(!0),A=R(!1);je(async()=>{await y()});async function y(){$(b,!0);try{const[t,n]=await Promise.all([W.shadow.getInsights(),W.shadow.getUnlockStatus()]);$(m,t.insights||[]),$(c,n)}catch(t){ae.error("Failed to load shadow data",t)}finally{$(b,!1)}}async function U(){$(A,!0);try{const t=await W.shadow.analyze({});await y(),alert(t.analysis||"Analysis complete!")}catch(t){alert("Analysis failed: "+(t.detail||"Unknown error"))}finally{$(A,!1)}}async function le(t){try{await W.shadow.acknowledgeInsight(t),$(m,e(m).map(n=>n.id===t?{...n,acknowledged:!0}:n))}catch(n){ae.error("Failed to acknowledge insight",n)}}function ce(t){switch(t.toLowerCase()){case"behavior":return"bg-blue-500/10 text-blue-500 border-blue-500/20";case"pattern":return"bg-purple-500/10 text-purple-500 border-purple-500/20";case"emotion":return"bg-pink-500/10 text-pink-500 border-pink-500/20";case"cognitive":return"bg-green-500/10 text-green-500 border-green-500/20";default:return"bg-gray-500/10 text-gray-500 border-gray-500/20"}}function ve(t){const n=e(c)?.current_day||1;return Math.max(0,t-n)}function C(t){return(e(c)?.current_day||1)>=t}Re();var F=Ye(),J=r(F),T=r(J),O=r(T),ue=r(O);K(ue,{class:"w-8 h-8 text-primary"}),N(),a(O),N(2),a(T);var M=d(T,2);M.__click=U;var Q=r(M);K(Q,{class:"w-4 h-4"});var pe=d(Q);a(M),a(J);var ge=d(J,2);{var me=t=>{var n=Te();i(t,n)},fe=t=>{var n=Xe(),X=j(n);{var ye=p=>{var v=Ee(),f=r(v),o=r(f),z=r(o);Fe(z,{class:"w-8 h-8 text-primary"}),a(o);var I=d(o,2),w=d(r(I),2),P=r(w);a(w);var B=d(w,2),E=r(B);a(B),a(I),a(f),a(v),k(()=>{h(P,`Day ${e(c).current_day??""} of 30 â€¢
							${e(c).unlocked_insights_count??""} insights unlocked`),Be(E,`width: ${e(c).current_day/30*100}%`)}),i(p,v)};D(X,p=>{e(c)&&p(ye)})}var _e=d(X,2);{var he=p=>{var v=Ve(),f=r(v);K(f,{class:"w-16 h-16 text-muted-foreground mx-auto mb-4"});var o=d(f,4);o.__click=U,a(v),i(p,v)},xe=p=>{var v=Qe();Pe(v,5,()=>e(m),f=>f.id,(f,o)=>{var z=Oe(),I=r(z),w=r(I),P=r(w);{var B=s=>{Je(s,{class:"w-5 h-5 text-green-500"})},E=s=>{We(s,{class:"w-5 h-5 text-muted-foreground"})};D(P,s=>{C(e(o).day_unlocked)?s(B):s(E,!1)})}var V=d(P,2),be=r(V,!0);a(V),a(w);var Y=d(w,2),we=r(Y);{var ke=s=>{var l=ee();k(()=>h(l,`Day ${e(o).day_unlocked??""}`)),i(s,l)},$e=s=>{var l=ee();k(g=>h(l,`Unlocks in ${g??""} days`),[()=>ve(e(o).day_unlocked)]),i(s,l)};D(we,s=>{C(e(o).day_unlocked)?s(ke):s($e,!1)})}a(Y),a(I);var q=d(I,2),De=r(q);{var Ae=s=>{var l=He(),g=j(l),G=r(g,!0);a(g);var Ie=d(g,2);{var Le=L=>{var _=qe();_.__click=()=>le(e(o).id);var H=r(_);re(H,{class:"w-4 h-4"}),N(),a(_),i(L,_)},Se=L=>{var _=Ge(),H=r(_);re(H,{class:"w-3 h-3"}),N(),a(_),i(L,_)};D(Ie,L=>{e(o).acknowledged?L(Se,!1):L(Le)})}k(()=>h(G,e(o).content)),i(s,l)},Ue=s=>{var l=Ke(),g=d(j(l),2),G=r(g);a(g),k(()=>h(G,`This insight will unlock on day ${e(o).day_unlocked??""}`)),i(s,l)};D(De,s=>{C(e(o).day_unlocked)?s(Ae):s(Ue,!1)})}a(q);var Z=d(q,2),ze=r(Z,!0);a(Z),a(z),k((s,l,g)=>{te(z,1,`bg-card border border-border rounded-lg p-6 hover:border-primary/50 transition-all ${s??""}`),te(V,1,`text-xs px-2 py-1 rounded-full border ${l??""}`),h(be,e(o).type),h(ze,g)},[()=>C(e(o).day_unlocked)?"":"opacity-60",()=>ce(e(o).type),()=>new Date(e(o).created_at).toLocaleDateString()]),i(f,z)}),a(v),i(p,v)};D(_e,p=>{e(m).length===0?p(he):p(xe,!1)})}N(2),i(t,n)};D(ge,t=>{e(b)?t(me):t(fe,!1)})}a(F),k(()=>{M.disabled=e(A),h(pe,` ${e(A)?"Analyzing...":"Run Analysis"}`)}),i(S,F),Ce()}Me(["click"]);export{va as component};
