import{f as _,a as b}from"../chunks/CZY_NlAX.js";import{o as _a}from"../chunks/BHyL2apj.js";import{ag as ha,aj as T,ap as ve,al as t,an as g,ai as ua,G as u,ak as s,m as e,am as a,ao as ne,aq as oe,ah as ma}from"../chunks/CHIrzwsT.js";import{s as v}from"../chunks/DsvTbyZG.js";import{i as I}from"../chunks/DNv7RG3c.js";import{e as K,i as U}from"../chunks/De-eo5w8.js";import{s as de}from"../chunks/Bf116p4L.js";import{s as E}from"../chunks/U6XQp83X.js";import{d as fa}from"../chunks/CaHQap0G.js";import{s as Ne}from"../chunks/CuoGBMhC.js";import{s as ga,a as ya}from"../chunks/CKCuCExv.js";import{i as ka}from"../chunks/ojSKWpQA.js";var Ra=_('<span class="me90-badge svelte-9heiib"> </span>'),xa=_('<div class="loading svelte-9heiib">LOADING_STRATEGIC_DATA...</div>'),Aa=_('<div class="card span-2 focus-card svelte-9heiib"><h3 class="svelte-9heiib">STRATEGIC_FOCUS</h3> <div class="focus-text svelte-9heiib"> </div></div>'),Ta=_('<div class="stream-item svelte-9heiib"><div class="stream-header svelte-9heiib"><span class="stream-name svelte-9heiib"> </span> <span class="stream-percent svelte-9heiib"> </span></div> <div class="stream-bar-bg svelte-9heiib"><div class="stream-bar svelte-9heiib"></div></div></div>'),Sa=_('<a target="_blank" class="payment-item svelte-9heiib"><span class="payment-name svelte-9heiib"> </span> <span class="payment-price svelte-9heiib"> </span></a>'),Ea=_('<div class="all-clear svelte-9heiib">NO CRITICAL BLOCKERS</div>'),Oa=_('<div class="blocker-mini svelte-9heiib"><span class="blocker-id svelte-9heiib"> </span> <span class="blocker-task svelte-9heiib"> </span></div>'),Ca=_('<div class="blockers-mini svelte-9heiib"></div> <a href="/jobs" class="brutal-btn" style="width: 100%; margin-top: 12px;">VIEW_ALL_BLOCKERS</a>',1),Ia=_('<a target="_blank" class="app-item svelte-9heiib"><span class="app-name svelte-9heiib"> </span> <span> </span></a>'),La=_('<div class="no-strategies svelte-9heiib">NO STRATEGY DOCS FOUND</div>'),wa=_('<div class="strategy-summary svelte-9heiib"> </div>'),Na=_('<div class="strategy-tasks-count svelte-9heiib"> </div>'),$a=_('<div class="strategy-item svelte-9heiib"><div class="strategy-meta svelte-9heiib"><span> </span> <span class="strategy-date svelte-9heiib"> </span></div> <div class="strategy-content svelte-9heiib"><div class="strategy-title svelte-9heiib"> </div> <!> <!></div> <button class="brutal-btn send-btn svelte-9heiib"> </button></div>'),Da=_('<div class="strategy-list svelte-9heiib"></div>'),Fa=_('<div class="brain-grid svelte-9heiib"><!> <div class="card span-2 svelte-9heiib"><h3 class="svelte-9heiib">ME-90 PROGRESS // TARGET: 3-5K MRR</h3> <div class="progress-container svelte-9heiib"><div class="progress-bar svelte-9heiib"></div> <span class="progress-label svelte-9heiib"> </span></div> <div class="goal-stats svelte-9heiib"><div class="goal-stat svelte-9heiib"><span class="stat-label svelte-9heiib">START</span> <span class="stat-value svelte-9heiib"> </span></div> <div class="goal-stat svelte-9heiib"><span class="stat-label svelte-9heiib">END</span> <span class="stat-value svelte-9heiib"> </span></div> <div class="goal-stat svelte-9heiib"><span class="stat-label svelte-9heiib">TARGET_MRR</span> <span class="stat-value green svelte-9heiib">3,000 - 5,000</span></div></div></div> <div class="card svelte-9heiib"><h3 class="svelte-9heiib">ATTENTION_ALLOCATION</h3> <div class="streams-list svelte-9heiib"></div></div> <div class="card svelte-9heiib"><h3 class="svelte-9heiib">ACTIVE_PAYMENT_LINKS</h3> <div class="payment-list svelte-9heiib"></div></div> <div><h3> </h3> <!></div> <div class="card svelte-9heiib"><h3 class="svelte-9heiib">PRODUCT_PORTFOLIO</h3> <div class="apps-grid svelte-9heiib"></div></div> <div class="card span-2 strategy-card svelte-9heiib"><div class="strategy-header svelte-9heiib"><h3 class="svelte-9heiib">STRATEGY_LOADER // BRAIN → FOCUS</h3> <div class="strategy-filters svelte-9heiib"><button> </button> <button> </button> <button> </button> <button> </button></div></div> <div class="strategy-info svelte-9heiib"><span>Brain docs are file-based (any agent can edit). Load into Focus for project management.</span></div> <!> <div class="strategy-flow svelte-9heiib"><span class="flow-node svelte-9heiib">BRAIN</span> <span class="flow-arrow svelte-9heiib">→</span> <span class="flow-node active svelte-9heiib">FOCUS</span> <span class="flow-arrow svelte-9heiib">→</span> <span class="flow-node svelte-9heiib">LINEAR</span> <span class="flow-arrow svelte-9heiib">→</span> <span class="flow-node svelte-9heiib">SWARM</span></div></div></div>'),Ga=_('<div class="page svelte-9heiib"><div class="page-header svelte-9heiib"><h2 class="glitch">Brain // Strategic Command</h2> <div style="display: flex; gap: 12px; align-items: center;"><!> <button class="brutal-btn"> </button></div></div> <!></div>');function za($e,De){ha(De,!0);const ce=()=>ya(ka,"$isReadOnly",Fe),[Fe,Ge]=ga();let L=T(null),k=T(null),O=T(ve([])),j=T(ve([])),B=T(ve({decision:0,plan:0,roadmap:0})),$=T(!0),M=T(null),y=T("all");const Pe={business:"var(--terminal-green)",marketing:"var(--cyan-data, #00d4ff)",apps:"var(--warning, #ffaa00)",infra:"#888"};let m=T("verduona.dev");const Ke=oe(()=>[{name:"Focus by Kraliki",url:`https://focus.${e(m)}`,status:e(m)==="verduona.dev"?"beta":"prod"},{name:"Voice by Kraliki",url:`https://voice.${e(m)}`,status:e(m)==="verduona.dev"?"beta":"prod"},{name:"Speak by Kraliki",url:`https://speak.${e(m)}`,status:e(m)==="verduona.dev"?"beta":"prod"},{name:"Lab by Kraliki",url:`https://lab.${e(m)}`,status:e(m)==="verduona.dev"?"beta":"prod"},{name:"Learn by Kraliki",url:`https://learn.${e(m)}`,status:e(m)==="verduona.dev"?"dev":"prod"}]),Ue=[{product:"Lab by Kraliki Pro",price:"299",url:"https://buy.stripe.com/7sY9AUbfx0drdPRcp96J200"},{product:"Workshop Early Bird",price:"149",url:"https://buy.stripe.com/5kQ00k3N58JX8vx88T6J201"},{product:"Workshop Standard",price:"249",url:"https://buy.stripe.com/14AdRadnF6BP27960L6J202"},{product:"Consulting Diagnostic",price:"999",url:"https://buy.stripe.com/6oUaEY83lf8l9zB3SD6J203"}];async function V(){u($,!0);try{const l=await fetch("/api/brain");if(l.ok){const R=await l.json();u(L,R.master,!0),u(k,R.me90,!0)}const o=await fetch("/api/human-blockers");if(o.ok){const R=await o.json();u(O,R.blockers?.filter(w=>w.priority==="CRITICAL"||w.priority==="HIGH")||[],!0)}const f=await fetch("/api/brain/strategy");if(f.ok){const R=await f.json();u(j,R.strategies||[],!0),u(B,R.types||{decision:0,plan:0,roadmap:0},!0)}}catch(l){console.error("Failed to fetch brain data:",l)}finally{u($,!1)}}async function je(l){u(M,l.id,!0);try{const o=await fetch("/api/brain/strategy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({strategyId:l.id,strategyPath:l.path})});if(o.ok){const f=await o.json();alert(`Created: ${f.message}`)}else{const f=await o.json();alert(`Failed: ${f.error}`)}}catch(o){console.error("Error sending to Focus:",o),alert("Error connecting to Focus")}finally{u(M,null)}}const pe=oe(()=>e(y)==="all"?e(j).slice(0,10):e(j).filter(l=>l.type===e(y)).slice(0,10));_a(()=>{u(m,window.location.hostname.endsWith("verduona.dev")?"verduona.dev":"kraliki.com",!0),V();const l=setInterval(V,12e4);return()=>clearInterval(l)});const Be=oe(()=>e(L)?.streams?Object.entries(e(L).streams).map(([l,o])=>({name:l.toUpperCase(),attention:parseInt(o.attention)||0,status:o.status,color:Pe[l]||"#888"})):[]);var q=Ga(),z=s(q),be=t(s(z),2),_e=s(be);{var Me=l=>{var o=Ra(),f=s(o);a(o),g(()=>v(f,`ME-90: DAY ${e(k).daysPassed??""} / ${e(k).totalDays??""}`)),b(l,o)};I(_e,l=>{e(k)&&l(Me)})}var Y=t(_e,2);Y.__click=V;var Ye=s(Y,!0);a(Y),a(be),a(z);var Je=t(z,2);{var We=l=>{var o=xa();b(l,o)},He=l=>{var o=Fa(),f=s(o);{var R=n=>{var r=Aa(),d=t(s(r),2),i=s(d,!0);a(d),a(r),g(()=>v(i,e(L).strategic_focus)),b(n,r)};I(f,n=>{e(L)&&n(R)})}var w=t(f,2),Q=t(s(w),2),he=s(Q),ue=t(he,2),Ve=s(ue);a(ue),a(Q);var me=t(Q,2),X=s(me),fe=t(s(X),2),qe=s(fe,!0);a(fe),a(X);var ge=t(X,2),ye=t(s(ge),2),ze=s(ye,!0);a(ye),a(ge),ne(2),a(me),a(w);var Z=t(w,2),ke=t(s(Z),2);K(ke,21,()=>e(Be),U,(n,r)=>{var d=Ta(),i=s(d),h=s(i),c=s(h,!0);a(h);var p=t(h,2),S=s(p);a(p),a(i);var x=t(i,2),N=s(x);a(x),a(d),g(()=>{v(c,e(r).name),v(S,`${e(r).attention??""}%`),Ne(N,`width: ${e(r).attention??""}%; background: ${e(r).color??""}`)}),b(n,d)}),a(ke),a(Z);var ee=t(Z,2),Re=t(s(ee),2);K(Re,21,()=>Ue,U,(n,r)=>{var d=Sa(),i=s(d),h=s(i,!0);a(i);var c=t(i,2),p=s(c,!0);a(c),a(d),g(()=>{de(d,"href",e(r).url),v(h,e(r).product),v(p,e(r).price)}),b(n,d)}),a(Re),a(ee);var J=t(ee,2);let xe;var W=s(J);let Ae;var Qe=s(W);a(W);var Xe=t(W,2);{var Ze=n=>{var r=Ea();b(n,r)},ea=n=>{var r=Ca(),d=ma(r);K(d,21,()=>e(O).slice(0,5),U,(i,h)=>{var c=Oa(),p=s(c),S=s(p,!0);a(p);var x=t(p,2),N=s(x,!0);a(x),a(c),g(()=>{v(S,e(h).id),v(N,e(h).task)}),b(i,c)}),a(d),ne(2),b(n,r)};I(Xe,n=>{e(O).length===0?n(Ze):n(ea,!1)})}a(J);var ae=t(J,2),Te=t(s(ae),2);K(Te,21,()=>e(Ke),U,(n,r)=>{var d=Ia(),i=s(d),h=s(i,!0);a(i);var c=t(i,2);let p;var S=s(c,!0);a(c),a(d),g(x=>{de(d,"href",e(r).url),v(h,e(r).name),p=E(c,1,"app-status svelte-9heiib",null,p,{beta:e(r).status==="beta",dev:e(r).status==="dev"}),v(S,x)},[()=>e(r).status.toUpperCase()]),b(n,d)}),a(Te),a(ae);var Se=t(ae,2),se=s(Se),Ee=t(s(se),2),D=s(Ee);let Oe;D.__click=()=>u(y,"all");var aa=s(D);a(D);var F=t(D,2);let Ce;F.__click=()=>u(y,"decision");var sa=s(F);a(F);var G=t(F,2);let Ie;G.__click=()=>u(y,"plan");var ta=s(G);a(G);var H=t(G,2);let Le;H.__click=()=>u(y,"roadmap");var ia=s(H);a(H),a(Ee),a(se);var ra=t(se,4);{var la=n=>{var r=La();b(n,r)},va=n=>{var r=Da();K(r,21,()=>e(pe),U,(d,i)=>{var h=$a(),c=s(h),p=s(c);let S;var x=s(p,!0);a(p);var N=t(p,2),na=s(N,!0);a(N),a(c);var te=t(c,2),ie=s(te),oa=s(ie,!0);a(ie);var we=t(ie,2);{var da=A=>{var C=wa(),re=s(C,!0);a(C),g(()=>v(re,e(i).summary)),b(A,C)};I(we,A=>{e(i).summary&&A(da)})}var ca=t(we,2);{var pa=A=>{var C=Na(),re=s(C);a(C),g(le=>v(re,`${le??""}/${e(i).tasks.length??""} tasks complete`),[()=>e(i).tasks.filter(le=>le.status==="complete").length]),b(A,C)};I(ca,A=>{e(i).tasks&&e(i).tasks.length>0&&A(pa)})}a(te);var P=t(te,2);P.__click=()=>je(e(i));var ba=s(P,!0);a(P),a(h),g(A=>{S=E(p,1,"strategy-type svelte-9heiib",null,S,{decision:e(i).type==="decision",plan:e(i).type==="plan",roadmap:e(i).type==="roadmap"}),v(x,A),v(na,e(i).date),v(oa,e(i).title),P.disabled=e(M)===e(i).id||ce(),de(P,"title",ce()?"Read-only mode":""),v(ba,e(M)===e(i).id?"SENDING...":"SEND_TO_FOCUS")},[()=>e(i).type.toUpperCase()]),b(d,h)}),a(r),b(n,r)};I(ra,n=>{e(pe).length===0?n(la):n(va,!1)})}ne(2),a(Se),a(o),g(()=>{Ne(he,`width: ${(e(k)?.progress||0)??""}%`),v(Ve,`${(e(k)?.progress||0)??""}% (${(e(k)?.daysRemaining||"?")??""} DAYS LEFT)`),v(qe,e(k)?.start||"2025-12-02"),v(ze,e(k)?.end||"2026-03-01"),xe=E(J,1,"card svelte-9heiib",null,xe,{alert:e(O).length>0}),Ae=E(W,1,"svelte-9heiib",null,Ae,{red:e(O).length>0}),v(Qe,`CRITICAL_BLOCKERS // ${e(O).length>0?`${e(O).length} PENDING`:"CLEAR"}`),Oe=E(D,1,"filter-btn svelte-9heiib",null,Oe,{active:e(y)==="all"}),v(aa,`ALL (${e(j).length??""})`),Ce=E(F,1,"filter-btn svelte-9heiib",null,Ce,{active:e(y)==="decision"}),v(sa,`DECISIONS (${e(B).decision??""})`),Ie=E(G,1,"filter-btn svelte-9heiib",null,Ie,{active:e(y)==="plan"}),v(ta,`PLANS (${e(B).plan??""})`),Le=E(H,1,"filter-btn svelte-9heiib",null,Le,{active:e(y)==="roadmap"}),v(ia,`ROADMAPS (${e(B).roadmap??""})`)}),b(l,o)};I(Je,l=>{e($)&&!e(L)?l(We):l(He,!1)})}a(q),g(()=>{Y.disabled=e($),v(Ye,e($)?"LOADING...":"REFRESH")}),b($e,q),ua(),Ge()}fa(["click"]);export{za as component};
