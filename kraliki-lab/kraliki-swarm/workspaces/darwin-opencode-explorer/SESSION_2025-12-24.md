# Darwin OpenCode Explorer - Session 2025-12-24

**Agent ID:** OC-explorer-19:36.24.12.AA
**Date:** 2025-12-24
**Session Time:** 19:36-19:42 CET
**Genome:** darwin-opencode-explorer

---

## Mission

Explore the codebase, map architecture, share knowledge, and help other agents find things.

---

## Discoveries

### 1. Workspace Architecture

**Location:** `/home/adminmatej/github`

**Top-Level Structure:**
- `applications/` - Revenue-generating apps + Kraliki swarm (12 active apps)
- `websites/` - Marketing & public sites (13 sites)
- `tools/` - Dev tooling (mgrep, crm, e2e)
- `brain-2026/` - Strategy, planning, business docs
- `stack-2026/` - Tech stack definitions
- `policies/` - Company policies
- `ai-automation/` - Legacy automation, know-how, kraliki system

**Key Applications:**
1. **CC-Lite** - FastAPI + SvelteKit AI call center platform
2. **Focus-Lite** - AI orchestration platform (Svelte frontend, FastAPI backend, Python ii-agent)
3. **Magic Box** - B2B €99/mo + €5K+ setup service
4. **telegram-tldr** - Telegram bot (launch pending)
5. **voice-of-people** - B2G/B2B
6. **trader8** - Trading
7. **cli-toris** - CLI tool
8. **soldier-portal** - Military
9. **recall-kraliki** - Memory service
10. **skola-pilot** - Education

### 2. Kraliki Swarm Architecture

**Location:** `/home/adminmatej/github/applications/kraliki-lab/kraliki-swarm/`
**Dashboard:** `http://127.0.0.1:8099`

**CLI Status (as of 19:40):**
- **OpenCode:** VERY ACTIVE (15+ processes, circuit CLOSED)
- **Gemini:** VERY ACTIVE (4 processes, 2 at 97% CPU, circuit CLOSED)
- **Claude:** AVAILABLE (circuit CLOSED, policy: interactive-only)
- **Codex:** BLOCKED (circuit OPEN - 429 rate limit)

**Components:**
- **Control Plane:** PM2 spawner, Health Monitor, Stats Collector, Dashboard (Web)
- **Coordination Layer:** Blackboard (JSON file), Social Feed, Game Engine
- **Agent System:** 45 agent genomes across 4 CLIs
- **Integrations:** Linear (MCP), mgrep (Memory), GitHub (Code)

**Circuit Breakers:** Rate limiting protection in place

### 3. Revenue Strategy

**Target:** €3-5K MRR by March 2026
**Current Cycle:** ME-90 Week 4 (Audit & Launch)

**Stream 1 - Cash Engine (Immediate Revenue):**
- **AI Automation Academy:**
  - L1 Student (€49-€99): AI literacy for mass market
  - L2 Pro (€199-€299): Tool mastery for professionals
  - L4 Business Guru (€3K-€5K): AI-first business replication
- **Strategic Audits:** €500-€1.5K for SenseIt B2B audits

**Stream 2 - Asset Engine (Long-term Value):**
- **Focus-Lite:** OS for delivery (bundled with coaching first)
- **Magic Box:** €5K+ setup + retainer for B2B clients
- **CC-Lite:** Enterprise bet (slow-cooking)

**Security Status:** Critical fixes applied to TL;DR bot (webhook auth, Docker entrypoint). Credential rotation pending (HW-005).

### 4. Magic Box B2B Execution

**Status:** 97% technical complete. Sales outreach ready.

**ICP (Ideal Customer Profile):**
- **Company Size:** 5-50 employees
- **Revenue:** $500K-$10M annually
- **Geography:** US, UK, Germany (Tier 1)
- **Industry:** Digital agencies, dev shops, consultancies
- **Decision Maker:** Founder, CEO, CTO, Head of Delivery
- **Pain Points:** Hiring hell, quality variance, bottlenecks, scaling anxiety

**Pricing:**
- Monthly: €299/mo
- Setup: €5K+ (high-ticket install)
- Expected LTV: High (multi-year contracts)

**P0 Targets (Ready for Outreach):**
1. **Stryde Digital** - Greg Shuey, Founder (e-commerce marketing for 7-8 figure D2C brands)
2. **Growth Cave** - Lucas Lee-Tyson, Founder (CRO agency, performance marketing)

**Outreach Cadence:**
- Day 0: Email 1 (segmented)
- Day 2: LinkedIn connection + short note
- Day 3: Email 2 (value proof)
- Day 7: Email 3 (social proof)
- Day 12: Email 4 (break-up)

**Resources Available:**
- Email templates: `MAGIC-BOX-EMAIL-TEMPLATES.md`
- Demo script: `MAGIC-BOX-DEMO-SCRIPT.md`
- Prospect list: `MAGIC-BOX-PROSPECT-LIST.md` (10 prospects)
- ICP definition: `MAGIC-BOX-ICP.md`
- Execution plan: `MAGIC-BOX-OUTREACH-EXECUTION.md`
- Tracker: `MAGIC-BOX-OUTREACH-TRACKER.csv`

### 5. Active Development Tasks

**Linear Queue:** 30-40 tasks (mix of DEV and BIZ)

**High Priority DEV Tasks:**
- VD-291: CC-Lite boto3 presigned URL (P1, recording feature)
- VD-290: CC-Lite call_states query (P2)
- VD-288: CC-Lite context sharing integration (PARTIAL - syntax issues)
- VD-286: CC-Lite features
- VD-284: Password reset

**Recently Completed:**
- VD-280: Focus-Lite webhook routes added to Caddy API gateway

**Business Tasks (Backlog):**
- VD-259: Magic Box B2B outreach campaign (Stryde, Growth Cave)
- VD-258: Academy L4 Business Guru curriculum
- VD-257: Academy L2 Pro curriculum
- VD-246: LinkedIn announcement copy
- VD-245: Academy L1 curriculum
- VD-244: Stripe payment link for 1-Hour Audit (€500)
- VD-243: LinkedIn 'Reality Check' content

### 6. Tools & Resources

**mgrep (Semantic Code Search):**
- Location: `http://localhost:8001` (API)
- Wrapper: `/home/adminmatej/github/tools/mgrep-selfhosted/scripts/mgrep-wrapper.sh`
- Usage: `bash /home/adminmatej/github/tools/mgrep-selfhosted/scripts/mgrep-wrapper.sh "query"`
- Status: Available for semantic search across codebase

**Key Documentation:**
- Workspace map: `/home/adminmatej/github/WORKSPACE_MAP.md`
- Cycle status: `/home/adminmatej/github/CYCLE_STATUS.md`
- Revenue plan: `/home/adminmatej/github/brain-2026/revenue_plan.md`
- Kraliki architecture: `/home/adminmatej/github/applications/kraliki-lab/kraliki-swarm/ARCHITECTURE.md`

---

## Blackboard Activity

Posted 4 discoveries to blackboard:
1. Codebase architecture (apps, stack, active tasks)
2. Kraliki swarm architecture (CLIs, components, health)
3. Revenue strategy (streams, pricing, targets)
4. Magic Box B2B execution (ICP, targets, outreach cadence)

---

## Assessment

**Swarm Health:** Very healthy
- 14-19 agents actively processing tasks
- Queue well-stocked (30-40 tasks)
- Discovery fresh (<2h for dev/biz)
- Circuits properly breaking to prevent rate limit issues

**Ready for Action:**
- Magic Box B2B outreach fully prepared (all resources ready)
- Academy curriculum outlines exist, need finalization
- CC-Lite has blockers but progressing

**No Explicit Questions:** No questions from other agents on blackboard requiring exploration.

---

## Next Steps for Explorer

1. Monitor blackboard for questions
2. Explore codebase when agents request help
3. Continue mapping complex dependencies
4. Share architectural insights
5. Support other agents with semantic search queries

---

## Session Update: 19:48

**Additional Discovery: Security Context for New Issues (VD-306 to VD-311)**

Dev discovery created 6 new security issues:
- **VD-308:** Telegram-tldr webhook authentication (CLAIMED by darwin-gemini-builder)
- **VD-306, VD-307:** Payment security (CRITICAL - likely related to Stripe/Telegram Stars)
- **VD-309, VD-310, VD-311:** SSRF, config, deployment issues (HIGH priority)

**Security Patterns Discovered:**
1. **SSRF Protection:** senseit implements hostname allowlist (`test_ssrffix.py`)
2. **Payment Security:** HW-007 (Stripe payment links) pending - blocks revenue
3. **Webhook Security:** Multiple patterns across apps:
   - Voice-of-People: Telnyx signature validation (VD-268)
   - CC-Lite: Webhook security documentation exists
   - Telegram-tldr: Auth in progress
4. **Stack 2026 Standards:** JWT tokens, bcrypt hashing, TLS 1.3, rate limiting, CORS

**Reference Docs:**
- Voice-of-People: `/home/adminmatej/github/applications/voice-of-people/docs/SECURITY.md`
- CC-Lite: `/home/adminmatej/github/applications/cc-lite-2026/docs/backend/WEBHOOK_SECURITY.md`
- SenseIt SSRF test: `/home/adminmatej/github/applications/senseit/test_ssrffix.py`

**Blackboard Post:** #1472 (shared security context with swarm)

---

## DARWIN_RESULT

```
DARWIN_RESULT:
  genome: darwin-opencode-explorer
  task: Codebase architecture and business strategy exploration + Security context mapping
  status: success
  points_earned: 200

  discoveries:
    - Workspace architecture mapped (12 apps, 13 websites)
    - Kraliki swarm architecture documented (4 CLIs, 45 genomes)
    - Revenue strategy clarified (€3-5K MRR target, 2 streams)
    - Magic Box B2B execution ready (ICP, 2 P0 targets, outreach cadence)
    - Active Linear tasks identified (VD-291, VD-290, VD-288)
    - Security status noted (TL;DR bot fixes, credential rotation pending)
    - Security patterns mapped (SSRF allowlist, webhook auth, JWT/bcrypt standards)
    - New issues context (VD-306 to VD-311 security fixes)

  blackboard_posts: 5
  mgrep_queries: 8
  files_read: 18
```
