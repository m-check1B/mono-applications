import { c as create_ssr_component, e as each, b as add_attribute, d as escape } from "../../../chunks/ssr.js";
import { g as getGraph } from "../../../chunks/api.js";
const css = {
  code: ".custom-scrollbar.svelte-oa9q5b::-webkit-scrollbar{width:4px}.custom-scrollbar.svelte-oa9q5b::-webkit-scrollbar-track{background:rgba(0, 0, 0, 0.05)}.custom-scrollbar.svelte-oa9q5b::-webkit-scrollbar-thumb{background:hsl(var(--border))}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { onMount } from \\"svelte\\";\\nimport { getGraph } from \\"$lib/api\\";\\nlet category = \\"\\";\\nlet loading = true;\\nlet error = \\"\\";\\nlet nodes = [];\\nlet edges = [];\\nlet stats = {};\\nconst categories = [\\n  \\"all\\",\\n  \\"decisions\\",\\n  \\"insights\\",\\n  \\"ideas\\",\\n  \\"learnings\\",\\n  \\"customers\\",\\n  \\"competitors\\",\\n  \\"research\\",\\n  \\"sessions\\"\\n];\\nasync function loadGraph() {\\n  loading = true;\\n  error = \\"\\";\\n  try {\\n    const response = await getGraph(\\n      category === \\"all\\" ? void 0 : category,\\n      void 0,\\n      2,\\n      100\\n    );\\n    nodes = response.nodes;\\n    edges = response.edges;\\n    stats = response.stats;\\n  } catch (e) {\\n    error = e instanceof Error ? e.message : \\"Failed to load graph\\";\\n  } finally {\\n    loading = false;\\n  }\\n}\\nonMount(() => {\\n  loadGraph();\\n});\\n$: if (category !== void 0) {\\n  loadGraph();\\n}\\n<\/script>\\n\\n<svelte:head>\\n\\t<title>Graph â€¢ RECALL-LITE</title>\\n</svelte:head>\\n\\n<div class=\\"max-w-6xl mx-auto\\">\\n\\t<div class=\\"mb-10\\">\\n\\t\\t<h1 class=\\"text-4xl font-display mb-2\\">KNOWLEDGE_GRAPH</h1>\\n\\t\\t<div class=\\"flex items-center gap-2 text-xs font-mono font-bold text-muted-foreground uppercase tracking-wider\\">\\n\\t\\t\\t<span class=\\"text-terminal-green\\">&gt;&gt; STATUS:</span> MAPPING_NEURAL_CONNECTIONS\\n\\t\\t</div>\\n\\t</div>\\n\\n\\t<!-- Category Filter -->\\n\\t<div class=\\"brutal-card p-4 mb-8 bg-card flex flex-col md:flex-row items-center gap-4\\">\\n\\t\\t<div class=\\"text-[10px] font-mono font-bold uppercase tracking-widest opacity-60\\">Sub_Graph_Isolation:</div>\\n\\t\\t<div class=\\"flex-1 w-full\\">\\n\\t\\t\\t<select\\n\\t\\t\\t\\tbind:value={category}\\n\\t\\t\\t\\tclass=\\"brutal-input !py-2 appearance-none cursor-pointer\\"\\n\\t\\t\\t>\\n\\t\\t\\t\\t{#each categories as cat}\\n\\t\\t\\t\\t\\t<option value={cat === 'all' ? '' : cat}>{cat.toUpperCase()}</option>\\n\\t\\t\\t\\t{/each}\\n\\t\\t\\t</select>\\n\\t\\t</div>\\n\\t</div>\\n\\n\\t{#if loading}\\n\\t\\t<div class=\\"brutal-card text-center py-20 bg-card\\">\\n\\t\\t\\t<div class=\\"text-2xl font-display text-terminal-green animate-pulse\\">COMPUTING_TOPOLOGY...</div>\\n\\t\\t\\t<div class=\\"mt-4 font-mono text-[10px] opacity-40 uppercase tracking-[0.3em]\\">Processing connections across nodes</div>\\n\\t\\t</div>\\n\\t{:else if error}\\n\\t\\t<div class=\\"brutal-card border-system-red bg-system-red/10 text-system-red p-4 font-mono text-sm\\">\\n\\t\\t\\t<span class=\\"font-bold uppercase\\">[ GRAPH_ERROR ]</span> {error}\\n\\t\\t</div>\\n\\t{:else}\\n\\t\\t<!-- Stats -->\\n\\t\\t<div class=\\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8\\">\\n\\t\\t\\t<div class=\\"brutal-card p-4 bg-card\\">\\n\\t\\t\\t\\t<p class=\\"text-[10px] font-mono font-bold uppercase tracking-widest opacity-50 mb-1\\">Nodes</p>\\n\\t\\t\\t\\t<p class=\\"text-3xl font-display text-terminal-green\\">{stats.total_nodes || 0}</p>\\n\\t\\t\\t</div>\\n\\n\\t\\t\\t<div class=\\"brutal-card p-4 bg-card\\">\\n\\t\\t\\t\\t<p class=\\"text-[10px] font-mono font-bold uppercase tracking-widest opacity-50 mb-1\\">Edges</p>\\n\\t\\t\\t\\t<p class=\\"text-3xl font-display text-cyan-data\\">{stats.total_edges || 0}</p>\\n\\t\\t\\t</div>\\n\\n\\t\\t\\t<div class=\\"brutal-card p-4 bg-card\\">\\n\\t\\t\\t\\t<p class=\\"text-[10px] font-mono font-bold uppercase tracking-widest opacity-50 mb-1\\">Clusters</p>\\n\\t\\t\\t\\t<p class=\\"text-3xl font-display\\">{stats.categories || 0}</p>\\n\\t\\t\\t</div>\\n\\n\\t\\t\\t<div class=\\"brutal-card p-4 bg-card\\">\\n\\t\\t\\t\\t<p class=\\"text-[10px] font-mono font-bold uppercase tracking-widest opacity-50 mb-1\\">Density</p>\\n\\t\\t\\t\\t<p class=\\"text-3xl font-display text-primary\\">{stats.avg_connections?.toFixed(1) || 0}</p>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\n\\t\\t<!-- Graph Visualization Placeholder -->\\n\\t\\t<div class=\\"brutal-card p-12 mb-8 bg-void relative overflow-hidden min-h-[400px] flex items-center justify-center\\">\\n\\t\\t\\t<div class=\\"absolute inset-0 opacity-10 pointer-events-none\\">\\n\\t\\t\\t\\t<div class=\\"w-full h-full bg-grid-pattern\\"></div>\\n\\t\\t\\t</div>\\n\\t\\t\\t\\n\\t\\t\\t<div class=\\"text-center relative z-10\\">\\n\\t\\t\\t\\t<div class=\\"text-6xl mb-4 opacity-50 animate-pulse\\">ðŸ“Š</div>\\n\\t\\t\\t\\t<h2 class=\\"text-2xl font-display text-terminal-green mb-4\\">GRAPH_VISUALIZATION_READY</h2>\\n\\t\\t\\t\\t<p class=\\"font-mono text-xs uppercase tracking-[0.2em] opacity-60 mb-8 max-w-md mx-auto\\">\\n\\t\\t\\t\\t\\tInteractive D3.js topology engine initialized. Awaiting vector rendering.\\n\\t\\t\\t\\t</p>\\n\\n\\t\\t\\t\\t{#if stats.most_connected}\\n\\t\\t\\t\\t\\t<div class=\\"brutal-card bg-void border-terminal-green/50 p-4 text-left inline-block\\">\\n\\t\\t\\t\\t\\t\\t<p class=\\"text-[9px] font-bold uppercase tracking-[0.2em] text-terminal-green mb-1\\">Highest Centrality:</p>\\n\\t\\t\\t\\t\\t\\t<p class=\\"font-mono text-xs text-concrete\\">{stats.most_connected}</p>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t{/if}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\n\\t\\t<!-- Node List -->\\n\\t\\t{#if nodes.length > 0}\\n\\t\\t\\t<div class=\\"brutal-card p-6 bg-card relative\\">\\n\\t\\t\\t\\t<div class=\\"absolute top-0 right-0 p-2 opacity-10 font-mono text-[40px] leading-none pointer-events-none select-none\\">NODES</div>\\n\\t\\t\\t\\t<h3 class=\\"font-display text-lg border-b-2 border-border pb-2 mb-6 uppercase\\">INDEXED_NODES ({nodes.length})</h3>\\n\\n\\t\\t\\t\\t<div class=\\"space-y-2 max-h-96 overflow-y-auto pr-2 custom-scrollbar\\">\\n\\t\\t\\t\\t\\t{#each nodes as node}\\n\\t\\t\\t\\t\\t\\t<div class=\\"flex flex-wrap items-center justify-between p-3 border-2 border-transparent hover:border-border bg-void/5 hover:bg-void/10 transition-all\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\"flex items-center gap-3\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\"text-[9px] font-bold px-1.5 py-0.5 bg-void text-terminal-green uppercase tracking-widest\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{node.category}\\n\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\"text-sm font-bold uppercase tracking-tight\\">{node.label}</span>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\"flex items-center gap-6\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t{#if node.tags && node.tags.length > 0}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\"hidden sm:flex flex-wrap gap-1\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{#each node.tags.slice(0, 2) as tag}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\"text-[8px] font-bold px-1.5 py-0.5 border border-border opacity-50 uppercase\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{tag}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{/each}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t{/if}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\"flex items-center gap-2\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\"h-2 w-24 bg-void border border-border hidden xs:block overflow-hidden\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\"h-full bg-primary\\" style=\\"width: {Math.min(100, node.size * 20)}%\\"></div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\"text-[10px] font-mono font-bold w-12 text-right\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{node.size} CX\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t{/each}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t{/if}\\n\\t{/if}\\n</div>\\n\\n<style>\\n\\t.custom-scrollbar::-webkit-scrollbar {\\n\\t\\twidth: 4px;\\n\\t}\\n\\t.custom-scrollbar::-webkit-scrollbar-track {\\n\\t\\tbackground: rgba(0, 0, 0, 0.05);\\n\\t}\\n\\t.custom-scrollbar::-webkit-scrollbar-thumb {\\n\\t\\tbackground: hsl(var(--border));\\n\\t}\\n</style>\\n"],"names":[],"mappings":"AA6KC,+BAAiB,mBAAoB,CACpC,KAAK,CAAE,GACR,CACA,+BAAiB,yBAA0B,CAC1C,UAAU,CAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAC/B,CACA,+BAAiB,yBAA0B,CAC1C,UAAU,CAAE,IAAI,IAAI,QAAQ,CAAC,CAC9B"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let category = "";
  let loading = true;
  let error = "";
  let nodes = [];
  let edges = [];
  let stats = {};
  const categories = [
    "all",
    "decisions",
    "insights",
    "ideas",
    "learnings",
    "customers",
    "competitors",
    "research",
    "sessions"
  ];
  async function loadGraph() {
    loading = true;
    error = "";
    try {
      const response = await getGraph(category === "all" ? void 0 : category, void 0, 2, 100);
      nodes = response.nodes;
      edges = response.edges;
      stats = response.stats;
    } catch (e) {
      error = e instanceof Error ? e.message : "Failed to load graph";
    } finally {
      loading = false;
    }
  }
  $$result.css.add(css);
  {
    {
      loadGraph();
    }
  }
  return `${$$result.head += `<!-- HEAD_svelte-1dlv0se_START -->${$$result.title = `<title>Graph â€¢ RECALL-LITE</title>`, ""}<!-- HEAD_svelte-1dlv0se_END -->`, ""} <div class="max-w-6xl mx-auto"><div class="mb-10" data-svelte-h="svelte-48a1ng"><h1 class="text-4xl font-display mb-2">KNOWLEDGE_GRAPH</h1> <div class="flex items-center gap-2 text-xs font-mono font-bold text-muted-foreground uppercase tracking-wider"><span class="text-terminal-green">&gt;&gt; STATUS:</span> MAPPING_NEURAL_CONNECTIONS</div></div>  <div class="brutal-card p-4 mb-8 bg-card flex flex-col md:flex-row items-center gap-4"><div class="text-[10px] font-mono font-bold uppercase tracking-widest opacity-60" data-svelte-h="svelte-1vaac7q">Sub_Graph_Isolation:</div> <div class="flex-1 w-full"><select class="brutal-input !py-2 appearance-none cursor-pointer">${each(categories, (cat) => {
    return `<option${add_attribute("value", cat === "all" ? "" : cat, 0)}>${escape(cat.toUpperCase())}</option>`;
  })}</select></div></div> ${loading ? `<div class="brutal-card text-center py-20 bg-card" data-svelte-h="svelte-qn5wh5"><div class="text-2xl font-display text-terminal-green animate-pulse">COMPUTING_TOPOLOGY...</div> <div class="mt-4 font-mono text-[10px] opacity-40 uppercase tracking-[0.3em]">Processing connections across nodes</div></div>` : `${error ? `<div class="brutal-card border-system-red bg-system-red/10 text-system-red p-4 font-mono text-sm"><span class="font-bold uppercase" data-svelte-h="svelte-1arvd7j">[ GRAPH_ERROR ]</span> ${escape(error)}</div>` : ` <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8"><div class="brutal-card p-4 bg-card"><p class="text-[10px] font-mono font-bold uppercase tracking-widest opacity-50 mb-1" data-svelte-h="svelte-haojtp">Nodes</p> <p class="text-3xl font-display text-terminal-green">${escape(stats.total_nodes || 0)}</p></div> <div class="brutal-card p-4 bg-card"><p class="text-[10px] font-mono font-bold uppercase tracking-widest opacity-50 mb-1" data-svelte-h="svelte-hioe4e">Edges</p> <p class="text-3xl font-display text-cyan-data">${escape(stats.total_edges || 0)}</p></div> <div class="brutal-card p-4 bg-card"><p class="text-[10px] font-mono font-bold uppercase tracking-widest opacity-50 mb-1" data-svelte-h="svelte-m8lrzd">Clusters</p> <p class="text-3xl font-display">${escape(stats.categories || 0)}</p></div> <div class="brutal-card p-4 bg-card"><p class="text-[10px] font-mono font-bold uppercase tracking-widest opacity-50 mb-1" data-svelte-h="svelte-1hml6rc">Density</p> <p class="text-3xl font-display text-primary">${escape(stats.avg_connections?.toFixed(1) || 0)}</p></div></div>  <div class="brutal-card p-12 mb-8 bg-void relative overflow-hidden min-h-[400px] flex items-center justify-center"><div class="absolute inset-0 opacity-10 pointer-events-none" data-svelte-h="svelte-4v7hk4"><div class="w-full h-full bg-grid-pattern"></div></div> <div class="text-center relative z-10"><div class="text-6xl mb-4 opacity-50 animate-pulse" data-svelte-h="svelte-ka7qpk">ðŸ“Š</div> <h2 class="text-2xl font-display text-terminal-green mb-4" data-svelte-h="svelte-mglqui">GRAPH_VISUALIZATION_READY</h2> <p class="font-mono text-xs uppercase tracking-[0.2em] opacity-60 mb-8 max-w-md mx-auto" data-svelte-h="svelte-1irgjav">Interactive D3.js topology engine initialized. Awaiting vector rendering.</p> ${stats.most_connected ? `<div class="brutal-card bg-void border-terminal-green/50 p-4 text-left inline-block"><p class="text-[9px] font-bold uppercase tracking-[0.2em] text-terminal-green mb-1" data-svelte-h="svelte-h6dw1r">Highest Centrality:</p> <p class="font-mono text-xs text-concrete">${escape(stats.most_connected)}</p></div>` : ``}</div></div>  ${nodes.length > 0 ? `<div class="brutal-card p-6 bg-card relative"><div class="absolute top-0 right-0 p-2 opacity-10 font-mono text-[40px] leading-none pointer-events-none select-none" data-svelte-h="svelte-1yya8nt">NODES</div> <h3 class="font-display text-lg border-b-2 border-border pb-2 mb-6 uppercase">INDEXED_NODES (${escape(nodes.length)})</h3> <div class="space-y-2 max-h-96 overflow-y-auto pr-2 custom-scrollbar svelte-oa9q5b">${each(nodes, (node) => {
    return `<div class="flex flex-wrap items-center justify-between p-3 border-2 border-transparent hover:border-border bg-void/5 hover:bg-void/10 transition-all"><div class="flex items-center gap-3"><span class="text-[9px] font-bold px-1.5 py-0.5 bg-void text-terminal-green uppercase tracking-widest">${escape(node.category)}</span> <span class="text-sm font-bold uppercase tracking-tight">${escape(node.label)}</span></div> <div class="flex items-center gap-6">${node.tags && node.tags.length > 0 ? `<div class="hidden sm:flex flex-wrap gap-1">${each(node.tags.slice(0, 2), (tag) => {
      return `<span class="text-[8px] font-bold px-1.5 py-0.5 border border-border opacity-50 uppercase">${escape(tag)} </span>`;
    })} </div>` : ``} <div class="flex items-center gap-2"><div class="h-2 w-24 bg-void border border-border hidden xs:block overflow-hidden"><div class="h-full bg-primary" style="${"width: " + escape(Math.min(100, node.size * 20), true) + "%"}"></div></div> <span class="text-[10px] font-mono font-bold w-12 text-right">${escape(node.size)} CX</span> </div></div> </div>`;
  })}</div></div>` : ``}`}`} </div>`;
});
export {
  Page as default
};
