import{S as Je,i as Qe,s as $e,n as qe,d as o,m as et,r as tt,o as Ie,a as ve,p as ze,b as Ae,c as e,q as De,u as s,v as lt,w as st,h as p,e as a,f,x as G,g as ee,k as h,j as r,t as te,z as at,y as rt}from"../chunks/BIBWOlQ3.js";import{e as Fe}from"../chunks/D6YF6ztN.js";import"../chunks/IHki7fMi.js";import{g as nt,c as ot}from"../chunks/BwDU0wT5.js";function He(n,l,t){const d=n.slice();return d[15]=l[t],d}function Ke(n){let l,t=n[15].toUpperCase()+"",d,m;return{c(){l=r("option"),d=te(t),this.h()},l(u){l=a(u,"OPTION",{});var i=f(l);d=ee(i,t),i.forEach(o),this.h()},h(){l.__value=m=n[15],Ie(l,l.__value)},m(u,i){Ae(u,l,i),e(l,d)},p(u,i){i&256&&t!==(t=u[15].toUpperCase()+"")&&ve(d,t),i&256&&m!==(m=u[15])&&(l.__value=m,Ie(l,l.__value))},d(u){u&&o(l)}}}function Ye(n){let l;return{c(){l=r("div"),this.h()},l(t){l=a(t,"DIV",{class:!0}),f(l).forEach(o),this.h()},h(){s(l,"class","w-3 h-3 bg-terminal-green")},m(t,d){Ae(t,l,d)},d(t){t&&o(l)}}}function We(n){let l;return{c(){l=r("div"),this.h()},l(t){l=a(t,"DIV",{class:!0}),f(l).forEach(o),this.h()},h(){s(l,"class","w-3 h-3 bg-terminal-green")},m(t,d){Ae(t,l,d)},d(t){t&&o(l)}}}function Ze(n){let l,t,d="Success",m,u,i="COMMIT_SUCCESSFUL",b,C,D,E,V="RECORD_ID:",fe,Z,x=n[7].id+"",le,B,I,_,pe="CATEGORY:",q,X,ne=n[7].category+"",A,z,J,Q,se="TAG_COUNT:",K,he,oe=n[7].tags.length+"",N,be,y,T,ae="RELATIONS:",ge,M,ie=n[7].related_items.length+"",Y,Te,me,k,S,Ee,F;return{c(){l=r("div"),t=r("div"),t.textContent=d,m=h(),u=r("h3"),u.textContent=i,b=h(),C=r("div"),D=r("div"),E=r("span"),E.textContent=V,fe=h(),Z=r("span"),le=te(x),B=h(),I=r("div"),_=r("span"),_.textContent=pe,q=h(),X=r("span"),A=te(ne),z=h(),J=r("div"),Q=r("span"),Q.textContent=se,K=h(),he=r("span"),N=te(oe),be=h(),y=r("div"),T=r("span"),T.textContent=ae,ge=h(),M=r("span"),Y=te(ie),Te=te(" FOUND"),me=h(),k=r("div"),S=r("a"),Ee=te("OPEN_RECORD_DETAILS"),this.h()},l(w){l=a(w,"DIV",{class:!0});var g=f(l);t=a(g,"DIV",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-1lhn422"&&(t.textContent=d),m=p(g),u=a(g,"H3",{class:!0,"data-svelte-h":!0}),G(u)!=="svelte-17icnrz"&&(u.textContent=i),b=p(g),C=a(g,"DIV",{class:!0});var $=f(C);D=a($,"DIV",{class:!0});var _e=f(D);E=a(_e,"SPAN",{class:!0,"data-svelte-h":!0}),G(E)!=="svelte-193sf53"&&(E.textContent=V),fe=p(_e),Z=a(_e,"SPAN",{});var W=f(Z);le=ee(W,x),W.forEach(o),_e.forEach(o),B=p($),I=a($,"DIV",{class:!0});var re=f(I);_=a(re,"SPAN",{class:!0,"data-svelte-h":!0}),G(_)!=="svelte-8kyxv4"&&(_.textContent=pe),q=p(re),X=a(re,"SPAN",{class:!0});var Ce=f(X);A=ee(Ce,ne),Ce.forEach(o),re.forEach(o),z=p($),J=a($,"DIV",{class:!0});var ce=f(J);Q=a(ce,"SPAN",{class:!0,"data-svelte-h":!0}),G(Q)!=="svelte-1mfrtoo"&&(Q.textContent=se),K=p(ce),he=a(ce,"SPAN",{});var ye=f(he);N=ee(ye,oe),ye.forEach(o),ce.forEach(o),be=p($),y=a($,"DIV",{class:!0});var de=f(y);T=a(de,"SPAN",{class:!0,"data-svelte-h":!0}),G(T)!=="svelte-nrqi3t"&&(T.textContent=ae),ge=p(de),M=a(de,"SPAN",{});var xe=f(M);Y=ee(xe,ie),Te=ee(xe," FOUND"),xe.forEach(o),de.forEach(o),$.forEach(o),me=p(g),k=a(g,"DIV",{class:!0});var Ne=f(k);S=a(Ne,"A",{href:!0,class:!0});var ue=f(S);Ee=ee(ue,"OPEN_RECORD_DETAILS"),ue.forEach(o),Ne.forEach(o),g.forEach(o),this.h()},h(){s(t,"class","absolute top-0 right-0 bg-terminal-green text-void font-bold text-[10px] px-2 py-1 uppercase"),s(u,"class","text-2xl font-display text-terminal-green mb-4"),s(E,"class","opacity-50"),s(D,"class","stat-row border-b border-terminal-green/20 py-2 flex justify-between"),s(_,"class","opacity-50"),s(X,"class","text-terminal-green"),s(I,"class","stat-row border-b border-terminal-green/20 py-2 flex justify-between"),s(Q,"class","opacity-50"),s(J,"class","stat-row border-b border-terminal-green/20 py-2 flex justify-between"),s(T,"class","opacity-50"),s(y,"class","stat-row border-b border-terminal-green/20 py-2 flex justify-between"),s(C,"class","grid grid-cols-1 md:grid-cols-2 gap-4 text-xs font-mono font-bold uppercase"),s(S,"href",F="/item/"+n[7].category+"/"+n[7].id),s(S,"class","brutal-btn !px-4 !py-2 text-xs"),s(k,"class","mt-8"),s(l,"class","brutal-card border-terminal-green bg-terminal-green/5 p-6 mb-8 relative")},m(w,g){Ae(w,l,g),e(l,t),e(l,m),e(l,u),e(l,b),e(l,C),e(C,D),e(D,E),e(D,fe),e(D,Z),e(Z,le),e(C,B),e(C,I),e(I,_),e(I,q),e(I,X),e(X,A),e(C,z),e(C,J),e(J,Q),e(J,K),e(J,he),e(he,N),e(C,be),e(C,y),e(y,T),e(y,ge),e(y,M),e(M,Y),e(M,Te),e(l,me),e(l,k),e(k,S),e(S,Ee)},p(w,g){g&128&&x!==(x=w[7].id+"")&&ve(le,x),g&128&&ne!==(ne=w[7].category+"")&&ve(A,ne),g&128&&oe!==(oe=w[7].tags.length+"")&&ve(N,oe),g&128&&ie!==(ie=w[7].related_items.length+"")&&ve(Y,ie),g&128&&F!==(F="/item/"+w[7].category+"/"+w[7].id)&&s(S,"href",F)},d(w){w&&o(l)}}}function Xe(n){let l,t,d="[ ERROR ]",m,u;return{c(){l=r("div"),t=r("span"),t.textContent=d,m=h(),u=te(n[6]),this.h()},l(i){l=a(i,"DIV",{class:!0});var b=f(l);t=a(b,"SPAN",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-iobam"&&(t.textContent=d),m=p(b),u=ee(b,n[6]),b.forEach(o),this.h()},h(){s(t,"class","font-bold uppercase"),s(l,"class","brutal-card border-system-red bg-system-red/10 text-system-red p-4 mb-8 font-mono text-sm")},m(i,b){Ae(i,l,b),e(l,t),e(l,m),e(l,u)},p(i,b){b&64&&ve(u,i[6])},d(i){i&&o(l)}}}function it(n){let l,t,d,m='<h1 class="text-4xl font-display mb-2">CAPTURE_KNOWLEDGE</h1> <div class="flex items-center gap-2 text-xs font-mono font-bold text-muted-foreground uppercase tracking-wider"><span class="text-terminal-green">&gt;&gt; STATUS:</span> INPUT_STREAM_OPEN</div>',u,i,b,C="CAPTURE",D,E,V,fe="Content Stream (Markdown)",Z,x,le,B,I,_,pe,q=n[3]?"(OPTIONAL - AI_ENABLED)":"",X,ne,A,z,J="AUTO_CATEGORIZE",Q,se,K,he="Metadata: Tags (comma-separated)",oe,N,be,y,T,ae,ge,M,ie,Y,Te="AI_CATEGORIZATION",me,k,S,Ee,F,w,g,$="AUTO_WIKILINKS",_e,W,re=n[5]?"PROCESSING_STREAM...":"COMMIT_TO_MEMORY",Ce,ce,ye,de,xe,Ne,ue=Fe(n[8]),O=[];for(let c=0;c<ue.length;c+=1)O[c]=Ke(He(n,ue,c));let U=n[3]&&Ye(),j=n[4]&&We(),L=n[7]&&Ze(n),P=n[6]&&Xe(n);return{c(){l=h(),t=r("div"),d=r("div"),d.innerHTML=m,u=h(),i=r("div"),b=r("div"),b.textContent=C,D=h(),E=r("div"),V=r("label"),V.textContent=fe,Z=h(),x=r("textarea"),le=h(),B=r("div"),I=r("div"),_=r("label"),pe=te("Target: Category "),X=te(q),ne=h(),A=r("select"),z=r("option"),z.textContent=J;for(let c=0;c<O.length;c+=1)O[c].c();Q=h(),se=r("div"),K=r("label"),K.textContent=he,oe=h(),N=r("input"),be=h(),y=r("div"),T=r("label"),ae=r("div"),U&&U.c(),ge=h(),M=r("input"),ie=h(),Y=r("span"),Y.textContent=Te,me=h(),k=r("label"),S=r("div"),j&&j.c(),Ee=h(),F=r("input"),w=h(),g=r("span"),g.textContent=$,_e=h(),W=r("button"),Ce=te(re),ye=h(),L&&L.c(),de=h(),P&&P.c(),this.h()},l(c){st("svelte-1o5q6rk",document.head).forEach(o),l=p(c),t=a(c,"DIV",{class:!0});var v=f(t);d=a(v,"DIV",{class:!0,"data-svelte-h":!0}),G(d)!=="svelte-1wzqgoa"&&(d.innerHTML=m),u=p(v),i=a(v,"DIV",{class:!0});var H=f(i);b=a(H,"DIV",{class:!0,"data-svelte-h":!0}),G(b)!=="svelte-1mnj4jo"&&(b.textContent=C),D=p(H),E=a(H,"DIV",{class:!0});var Se=f(E);V=a(Se,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(V)!=="svelte-tjeu8u"&&(V.textContent=fe),Z=p(Se),x=a(Se,"TEXTAREA",{id:!0,placeholder:!0,rows:!0,class:!0}),f(x).forEach(o),Se.forEach(o),le=p(H),B=a(H,"DIV",{class:!0});var we=f(B);I=a(we,"DIV",{});var Le=f(I);_=a(Le,"LABEL",{for:!0,class:!0});var Ve=f(_);pe=ee(Ve,"Target: Category "),X=ee(Ve,q),Ve.forEach(o),ne=p(Le),A=a(Le,"SELECT",{id:!0,class:!0});var Me=f(A);z=a(Me,"OPTION",{"data-svelte-h":!0}),G(z)!=="svelte-j232ax"&&(z.textContent=J);for(let Ue=0;Ue<O.length;Ue+=1)O[Ue].l(Me);Me.forEach(o),Le.forEach(o),Q=p(we),se=a(we,"DIV",{});var Pe=f(se);K=a(Pe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(K)!=="svelte-16kii7"&&(K.textContent=he),oe=p(Pe),N=a(Pe,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),Pe.forEach(o),we.forEach(o),be=p(H),y=a(H,"DIV",{class:!0});var Re=f(y);T=a(Re,"LABEL",{class:!0});var ke=f(T);ae=a(ke,"DIV",{class:!0});var je=f(ae);U&&U.l(je),je.forEach(o),ge=p(ke),M=a(ke,"INPUT",{type:!0,class:!0}),ie=p(ke),Y=a(ke,"SPAN",{class:!0,"data-svelte-h":!0}),G(Y)!=="svelte-1kfeddt"&&(Y.textContent=Te),ke.forEach(o),me=p(Re),k=a(Re,"LABEL",{class:!0});var Oe=f(k);S=a(Oe,"DIV",{class:!0});var Be=f(S);j&&j.l(Be),Be.forEach(o),Ee=p(Oe),F=a(Oe,"INPUT",{type:!0,class:!0}),w=p(Oe),g=a(Oe,"SPAN",{class:!0,"data-svelte-h":!0}),G(g)!=="svelte-1opgll8"&&(g.textContent=$),Oe.forEach(o),Re.forEach(o),_e=p(H),W=a(H,"BUTTON",{class:!0});var Ge=f(W);Ce=ee(Ge,re),Ge.forEach(o),H.forEach(o),ye=p(v),L&&L.l(v),de=p(v),P&&P.l(v),v.forEach(o),this.h()},h(){document.title="Capture â€¢ RECALL-LITE",s(d,"class","mb-10"),s(b,"class","absolute top-0 right-0 p-2 opacity-10 font-mono text-[80px] leading-none pointer-events-none select-none"),s(V,"for","content"),s(V,"class","block text-xs font-bold uppercase tracking-widest mb-2 opacity-70"),s(x,"id","content"),s(x,"placeholder","# Decision: Use GLM 4.6 for AI features..."),s(x,"rows",12),s(x,"class","brutal-input font-mono text-sm leading-relaxed min-h-[300px]"),s(E,"class","mb-6"),s(_,"for","category"),s(_,"class","block text-xs font-bold uppercase tracking-widest mb-2 opacity-70"),z.__value="",Ie(z,z.__value),s(A,"id","category"),s(A,"class","brutal-input appearance-none cursor-pointer"),n[1]===void 0&&lt(()=>n[11].call(A)),s(K,"for","tags"),s(K,"class","block text-xs font-bold uppercase tracking-widest mb-2 opacity-70"),s(N,"id","tags"),s(N,"type","text"),s(N,"placeholder","ai, infra, pricing..."),s(N,"class","brutal-input"),s(B,"class","grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"),s(ae,"class","w-6 h-6 border-2 border-border flex items-center justify-center transition-colors group-hover:border-terminal-green"),s(M,"type","checkbox"),s(M,"class","hidden"),s(Y,"class","text-xs font-bold uppercase tracking-widest"),s(T,"class","flex items-center gap-3 cursor-pointer group"),s(S,"class","w-6 h-6 border-2 border-border flex items-center justify-center transition-colors group-hover:border-terminal-green"),s(F,"type","checkbox"),s(F,"class","hidden"),s(g,"class","text-xs font-bold uppercase tracking-widest"),s(k,"class","flex items-center gap-3 cursor-pointer group"),s(y,"class","flex flex-wrap items-center gap-8 mb-8 border-t border-border pt-6"),W.disabled=ce=n[5]||!n[0].trim(),s(W,"class","brutal-btn w-full !bg-primary text-primary-foreground disabled:opacity-50 disabled:cursor-not-allowed"),s(i,"class","brutal-card p-6 mb-8 bg-card relative overflow-hidden"),s(t,"class","max-w-4xl mx-auto")},m(c,R){Ae(c,l,R),Ae(c,t,R),e(t,d),e(t,u),e(t,i),e(i,b),e(i,D),e(i,E),e(E,V),e(E,Z),e(E,x),Ie(x,n[0]),e(i,le),e(i,B),e(B,I),e(I,_),e(_,pe),e(_,X),e(I,ne),e(I,A),e(A,z);for(let v=0;v<O.length;v+=1)O[v]&&O[v].m(A,null);ze(A,n[1],!0),e(B,Q),e(B,se),e(se,K),e(se,oe),e(se,N),Ie(N,n[2]),e(i,be),e(i,y),e(y,T),e(T,ae),U&&U.m(ae,null),e(T,ge),e(T,M),M.checked=n[3],e(T,ie),e(T,Y),e(y,me),e(y,k),e(k,S),j&&j.m(S,null),e(k,Ee),e(k,F),F.checked=n[4],e(k,w),e(k,g),e(i,_e),e(i,W),e(W,Ce),e(t,ye),L&&L.m(t,null),e(t,de),P&&P.m(t,null),xe||(Ne=[De(x,"input",n[10]),De(A,"change",n[11]),De(N,"input",n[12]),De(M,"change",n[13]),De(F,"change",n[14]),De(W,"click",n[9])],xe=!0)},p(c,[R]){if(R&1&&Ie(x,c[0]),R&8&&q!==(q=c[3]?"(OPTIONAL - AI_ENABLED)":"")&&ve(X,q),R&256){ue=Fe(c[8]);let v;for(v=0;v<ue.length;v+=1){const H=He(c,ue,v);O[v]?O[v].p(H,R):(O[v]=Ke(H),O[v].c(),O[v].m(A,null))}for(;v<O.length;v+=1)O[v].d(1);O.length=ue.length}R&258&&ze(A,c[1]),R&4&&N.value!==c[2]&&Ie(N,c[2]),c[3]?U||(U=Ye(),U.c(),U.m(ae,null)):U&&(U.d(1),U=null),R&8&&(M.checked=c[3]),c[4]?j||(j=We(),j.c(),j.m(S,null)):j&&(j.d(1),j=null),R&16&&(F.checked=c[4]),R&32&&re!==(re=c[5]?"PROCESSING_STREAM...":"COMMIT_TO_MEMORY")&&ve(Ce,re),R&33&&ce!==(ce=c[5]||!c[0].trim())&&(W.disabled=ce),c[7]?L?L.p(c,R):(L=Ze(c),L.c(),L.m(t,de)):L&&(L.d(1),L=null),c[6]?P?P.p(c,R):(P=Xe(c),P.c(),P.m(t,null)):P&&(P.d(1),P=null)},i:qe,o:qe,d(c){c&&(o(l),o(t)),et(O,c),U&&U.d(),j&&j.d(),L&&L.d(),P&&P.d(),xe=!1,tt(Ne)}}}function ct(n,l,t){let d="",m="",u="",i=!0,b=!0,C=!1,D="",E=null,V=[];at(async()=>{try{const _=await nt();t(8,V=_.categories)}catch(_){console.error("Failed to load categories:",_)}});async function fe(){if(d.trim()){t(5,C=!0),t(6,D=""),t(7,E=null);try{const _=u.split(",").map(q=>q.trim()).filter(q=>q),pe=await ot({content:d,category:m||void 0,tags:_.length>0?_:void 0,auto_categorize:i,auto_link:b});t(7,E=pe),t(0,d=""),t(1,m=""),t(2,u="")}catch(_){t(6,D=_ instanceof Error?_.message:"Capture failed")}finally{t(5,C=!1)}}}function Z(){d=this.value,t(0,d)}function x(){m=rt(this),t(1,m),t(8,V)}function le(){u=this.value,t(2,u)}function B(){i=this.checked,t(3,i)}function I(){b=this.checked,t(4,b)}return[d,m,u,i,b,C,D,E,V,fe,Z,x,le,B,I]}class ht extends Je{constructor(l){super(),Qe(this,l,ct,it,$e,{})}}export{ht as component};
