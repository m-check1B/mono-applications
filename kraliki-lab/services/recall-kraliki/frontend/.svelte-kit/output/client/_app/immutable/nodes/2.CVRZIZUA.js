import{S as Ae,i as Pe,s as Ye,n as Ee,d as p,m as ye,r as Me,o as le,p as pe,a as J,b as K,c as a,q as se,u as d,v as Te,w as He,h as T,e as u,f as g,x as q,g as O,k as S,j as h,t as A,y as Se}from"../chunks/BIBWOlQ3.js";import{e as ae}from"../chunks/D6YF6ztN.js";import"../chunks/IHki7fMi.js";import{s as Be}from"../chunks/BwDU0wT5.js";function De(r,e,t){const l=r.slice();return l[13]=e[t],l}function Le(r,e,t){const l=r.slice();return l[16]=e[t],l}function we(r,e,t){const l=r.slice();return l[19]=e[t],l}function Ne(r){let e,t=r[19].toUpperCase()+"",l;return{c(){e=h("option"),l=A(t),this.h()},l(n){e=u(n,"OPTION",{});var o=g(e);l=O(o,t),o.forEach(p),this.h()},h(){e.__value=r[19]==="all"?"":r[19],le(e,e.__value)},m(n,o){K(n,e,o),a(e,l)},p:Ee,d(n){n&&p(e)}}}function Re(r){let e,t,l="[ ERROR ]",n,o;return{c(){e=h("div"),t=h("span"),t.textContent=l,n=S(),o=A(r[5]),this.h()},l(s){e=u(s,"DIV",{class:!0});var c=g(e);t=u(c,"SPAN",{class:!0,"data-svelte-h":!0}),q(t)!=="svelte-iobam"&&(t.textContent=l),n=T(c),o=O(c,r[5]),c.forEach(p),this.h()},h(){d(t,"class","font-bold uppercase"),d(e,"class","brutal-card border-system-red bg-system-red/10 text-system-red p-4 mb-8 font-mono text-sm")},m(s,c){K(s,e,c),a(e,t),a(e,n),a(e,o)},p(s,c){c&32&&J(o,s[5])},d(s){s&&p(e)}}}function Fe(r){let e,t,l="NULL_RESULTS",n,o,s,c,x,D,b,I="RESET_QUERY",N,k;return{c(){e=h("div"),t=h("div"),t.textContent=l,n=S(),o=h("p"),s=A('No memory matches found for "'),c=A(r[0]),x=A('"'),D=S(),b=h("button"),b.textContent=I,this.h()},l(m){e=u(m,"DIV",{class:!0});var _=g(e);t=u(_,"DIV",{class:!0,"data-svelte-h":!0}),q(t)!=="svelte-1y74cr5"&&(t.textContent=l),n=T(_),o=u(_,"P",{class:!0});var i=g(o);s=O(i,'No memory matches found for "'),c=O(i,r[0]),x=O(i,'"'),i.forEach(p),D=T(_),b=u(_,"BUTTON",{class:!0,"data-svelte-h":!0}),q(b)!=="svelte-7uqh14"&&(b.textContent=I),_.forEach(p),this.h()},h(){d(t,"class","text-4xl mb-4 opacity-20 font-display"),d(o,"class","font-mono text-sm uppercase tracking-widest opacity-50"),d(b,"class","brutal-btn mt-8 text-xs"),d(e,"class","brutal-card text-center py-16 bg-card/50")},m(m,_){K(m,e,_),a(e,t),a(e,n),a(e,o),a(o,s),a(o,c),a(o,x),a(e,D),a(e,b),N||(k=se(b,"click",r[12]),N=!0)},p(m,_){_&1&&J(c,m[0])},d(m){m&&p(e),N=!1,k()}}}function Qe(r){let e,t,l,n=r[3].length+"",o,s,c,x,D,b=new Date().toLocaleTimeString()+"",I,N,k,m=ae(r[3]),_=[];for(let i=0;i<m.length;i+=1)_[i]=Oe(De(r,m,i));return{c(){e=h("div"),t=h("div"),l=A("QUERY_RESULTS: "),o=A(n),s=A(" ITEMS_FOUND"),c=S(),x=h("div"),D=A("TIME: "),I=A(b),N=S(),k=h("div");for(let i=0;i<_.length;i+=1)_[i].c();this.h()},l(i){e=u(i,"DIV",{class:!0});var C=g(e);t=u(C,"DIV",{class:!0});var f=g(t);l=O(f,"QUERY_RESULTS: "),o=O(f,n),s=O(f," ITEMS_FOUND"),f.forEach(p),c=T(C),x=u(C,"DIV",{class:!0});var R=g(x);D=O(R,"TIME: "),I=O(R,b),R.forEach(p),C.forEach(p),N=T(i),k=u(i,"DIV",{class:!0});var X=g(k);for(let L=0;L<_.length;L+=1)_[L].l(X);X.forEach(p),this.h()},h(){d(t,"class","text-[10px] font-mono font-bold uppercase tracking-widest"),d(x,"class","text-[10px] font-mono font-bold text-terminal-green uppercase tracking-widest"),d(e,"class","mb-4 flex items-center justify-between border-b-2 border-border pb-2"),d(k,"class","space-y-6")},m(i,C){K(i,e,C),a(e,t),a(t,l),a(t,o),a(t,s),a(e,c),a(e,x),a(x,D),a(x,I),K(i,N,C),K(i,k,C);for(let f=0;f<_.length;f+=1)_[f]&&_[f].m(k,null)},p(i,C){if(C&8&&n!==(n=i[3].length+"")&&J(o,n),C&8){m=ae(i[3]);let f;for(f=0;f<m.length;f+=1){const R=De(i,m,f);_[f]?_[f].p(R,C):(_[f]=Oe(R),_[f].c(),_[f].m(k,null))}for(;f<_.length;f+=1)_[f].d(1);_.length=m.length}},d(i){i&&(p(e),p(N),p(k)),ye(_,i)}}}function Ue(r){let e,t=ae(r[13].tags),l=[];for(let n=0;n<t.length;n+=1)l[n]=Ve(Le(r,t,n));return{c(){e=h("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=u(n,"DIV",{class:!0});var o=g(e);for(let s=0;s<l.length;s+=1)l[s].l(o);o.forEach(p),this.h()},h(){d(e,"class","flex flex-wrap gap-2 mb-4")},m(n,o){K(n,e,o);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null)},p(n,o){if(o&8){t=ae(n[13].tags);let s;for(s=0;s<t.length;s+=1){const c=Le(n,t,s);l[s]?l[s].p(c,o):(l[s]=Ve(c),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){n&&p(e),ye(l,n)}}}function Ve(r){let e,t,l=r[16]+"",n,o;return{c(){e=h("span"),t=A("#"),n=A(l),o=S(),this.h()},l(s){e=u(s,"SPAN",{class:!0});var c=g(e);t=O(c,"#"),n=O(c,l),o=T(c),c.forEach(p),this.h()},h(){d(e,"class","text-[9px] font-bold px-2 py-0.5 border border-border opacity-60 uppercase tracking-tighter")},m(s,c){K(s,e,c),a(e,t),a(e,n),a(e,o)},p(s,c){c&8&&l!==(l=s[16]+"")&&J(n,l)},d(s){s&&p(e)}}}function Oe(r){let e,t,l,n,o,s=r[13].category+"",c,x,D,b=r[13].title+"",I,N,k,m,_=r[13].content+"",i,C,f,R,X=">>",L,z,W,y=r[13].tags.length>0&&Ue(r);return{c(){e=h("div"),t=h("div"),l=h("div"),n=h("div"),o=h("span"),c=A(s),x=S(),D=h("h2"),I=A(b),N=S(),y&&y.c(),k=S(),m=h("p"),i=A(_),C=S(),f=h("a"),R=h("span"),R.textContent=X,L=A(" VIEW_FULL_ITEM"),W=S(),this.h()},l(U){e=u(U,"DIV",{class:!0});var H=g(e);t=u(H,"DIV",{class:!0});var P=g(t);l=u(P,"DIV",{class:!0});var w=g(l);n=u(w,"DIV",{class:!0});var Z=g(n);o=u(Z,"SPAN",{class:!0});var F=g(o);c=O(F,s),F.forEach(p),x=T(Z),D=u(Z,"H2",{class:!0});var ne=g(D);I=O(ne,b),ne.forEach(p),Z.forEach(p),N=T(w),y&&y.l(w),k=T(w),m=u(w,"P",{class:!0});var Q=g(m);i=O(Q,_),Q.forEach(p),C=T(w),f=u(w,"A",{href:!0,class:!0});var $=g(f);R=u($,"SPAN",{class:!0,"data-svelte-h":!0}),q(R)!=="svelte-1ipc5ay"&&(R.textContent=X),L=O($," VIEW_FULL_ITEM"),$.forEach(p),w.forEach(p),P.forEach(p),W=T(H),H.forEach(p),this.h()},h(){d(o,"class","text-[10px] font-bold px-2 py-0.5 bg-void text-terminal-green border border-terminal-green uppercase tracking-widest"),d(D,"class","text-xl font-display group-hover:text-terminal-green transition-colors"),d(n,"class","flex flex-wrap items-center gap-3 mb-3"),d(m,"class","text-sm font-mono opacity-80 mb-6 line-clamp-3 leading-relaxed"),d(R,"class","mr-1"),d(f,"href",z="/item/"+r[13].category+"/"+r[13].id),d(f,"class","inline-flex items-center text-xs font-bold uppercase tracking-widest text-primary hover:text-terminal-green transition-colors"),d(l,"class","flex-1"),d(t,"class","flex items-start justify-between mb-4"),d(e,"class","brutal-card p-6 bg-card group hover:border-terminal-green transition-colors")},m(U,H){K(U,e,H),a(e,t),a(t,l),a(l,n),a(n,o),a(o,c),a(n,x),a(n,D),a(D,I),a(l,N),y&&y.m(l,null),a(l,k),a(l,m),a(m,i),a(l,C),a(l,f),a(f,R),a(f,L),a(e,W)},p(U,H){H&8&&s!==(s=U[13].category+"")&&J(c,s),H&8&&b!==(b=U[13].title+"")&&J(I,b),U[13].tags.length>0?y?y.p(U,H):(y=Ue(U),y.c(),y.m(l,k)):y&&(y.d(1),y=null),H&8&&_!==(_=U[13].content+"")&&J(i,_),H&8&&z!==(z="/item/"+U[13].category+"/"+U[13].id)&&d(f,"href",z)},d(U){U&&p(e),y&&y.d()}}}function qe(r){let e,t,l,n='<h1 class="text-4xl font-display mb-2">SEARCH_KNOWLEDGE_BASE</h1> <div class="flex items-center gap-2 text-xs font-mono font-bold text-muted-foreground uppercase tracking-wider"><span class="text-terminal-green">&gt;&gt; STATUS:</span> READY_FOR_QUERY</div>',o,s,c,x="SEARCH",D,b,I,N="Query String",k,m,_,i,C,f,R="Filter: Category",X,L,z,W,y,U="Engine: Search Type",H,P,w,Z="HYBRID (KEYWORD + SEMANTIC)",F,ne="KEYWORD_ONLY",Q,$="SEMANTIC_ONLY",ve,G,re=r[4]?"EXECUTING_SEARCH...":"EXECUTE_QUERY",oe,ie,me,ce,be,Ce,ee=ae(r[6]),V=[];for(let v=0;v<ee.length;v+=1)V[v]=Ne(we(r,ee,v));let Y=r[5]&&Re(r);function xe(v,B){if(v[3].length>0)return Qe;if(!v[4]&&v[0])return Fe}let te=xe(r),M=te&&te(r);return{c(){e=S(),t=h("div"),l=h("div"),l.innerHTML=n,o=S(),s=h("div"),c=h("div"),c.textContent=x,D=S(),b=h("div"),I=h("label"),I.textContent=N,k=S(),m=h("input"),_=S(),i=h("div"),C=h("div"),f=h("label"),f.textContent=R,X=S(),L=h("select");for(let v=0;v<V.length;v+=1)V[v].c();z=S(),W=h("div"),y=h("label"),y.textContent=U,H=S(),P=h("select"),w=h("option"),w.textContent=Z,F=h("option"),F.textContent=ne,Q=h("option"),Q.textContent=$,ve=S(),G=h("button"),oe=A(re),me=S(),Y&&Y.c(),ce=S(),M&&M.c(),this.h()},l(v){He("svelte-tmwd1m",document.head).forEach(p),e=T(v),t=u(v,"DIV",{class:!0});var E=g(t);l=u(E,"DIV",{class:!0,"data-svelte-h":!0}),q(l)!=="svelte-8ndd10"&&(l.innerHTML=n),o=T(E),s=u(E,"DIV",{class:!0});var j=g(s);c=u(j,"DIV",{class:!0,"data-svelte-h":!0}),q(c)!=="svelte-lofhoo"&&(c.textContent=x),D=T(j),b=u(j,"DIV",{class:!0});var de=g(b);I=u(de,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(I)!=="svelte-b8bade"&&(I.textContent=N),k=T(de),m=u(de,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),de.forEach(p),_=T(j),i=u(j,"DIV",{class:!0});var fe=g(i);C=u(fe,"DIV",{});var ue=g(C);f=u(ue,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(f)!=="svelte-kdga2z"&&(f.textContent=R),X=T(ue),L=u(ue,"SELECT",{id:!0,class:!0});var Ie=g(L);for(let ge=0;ge<V.length;ge+=1)V[ge].l(Ie);Ie.forEach(p),ue.forEach(p),z=T(fe),W=u(fe,"DIV",{});var he=g(W);y=u(he,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(y)!=="svelte-1pt3xv7"&&(y.textContent=U),H=T(he),P=u(he,"SELECT",{id:!0,class:!0});var _e=g(P);w=u(_e,"OPTION",{"data-svelte-h":!0}),q(w)!=="svelte-1iri7ah"&&(w.textContent=Z),F=u(_e,"OPTION",{"data-svelte-h":!0}),q(F)!=="svelte-193m0e9"&&(F.textContent=ne),Q=u(_e,"OPTION",{"data-svelte-h":!0}),q(Q)!=="svelte-1xtcdxj"&&(Q.textContent=$),_e.forEach(p),he.forEach(p),fe.forEach(p),ve=T(j),G=u(j,"BUTTON",{class:!0});var ke=g(G);oe=O(ke,re),ke.forEach(p),j.forEach(p),me=T(E),Y&&Y.l(E),ce=T(E),M&&M.l(E),E.forEach(p),this.h()},h(){document.title="Search â€¢ RECALL-LITE",d(l,"class","mb-10"),d(c,"class","absolute top-0 right-0 p-2 opacity-10 font-mono text-[80px] leading-none pointer-events-none select-none"),d(I,"for","query"),d(I,"class","block text-xs font-bold uppercase tracking-widest mb-2 opacity-70"),d(m,"id","query"),d(m,"type","text"),d(m,"placeholder","Find decisions, insights, learnings..."),d(m,"class","brutal-input text-lg"),d(b,"class","mb-6"),d(f,"for","category"),d(f,"class","block text-xs font-bold uppercase tracking-widest mb-2 opacity-70"),d(L,"id","category"),d(L,"class","brutal-input appearance-none cursor-pointer"),r[1]===void 0&&Te(()=>r[10].call(L)),d(y,"for","searchType"),d(y,"class","block text-xs font-bold uppercase tracking-widest mb-2 opacity-70"),w.__value="hybrid",le(w,w.__value),F.__value="keyword",le(F,F.__value),Q.__value="semantic",le(Q,Q.__value),d(P,"id","searchType"),d(P,"class","brutal-input appearance-none cursor-pointer"),r[2]===void 0&&Te(()=>r[11].call(P)),d(i,"class","grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"),G.disabled=ie=r[4]||!r[0].trim(),d(G,"class","brutal-btn w-full !bg-primary text-primary-foreground disabled:opacity-50 disabled:cursor-not-allowed"),d(s,"class","brutal-card p-6 mb-8 bg-card relative overflow-hidden"),d(t,"class","max-w-4xl mx-auto")},m(v,B){K(v,e,B),K(v,t,B),a(t,l),a(t,o),a(t,s),a(s,c),a(s,D),a(s,b),a(b,I),a(b,k),a(b,m),le(m,r[0]),a(s,_),a(s,i),a(i,C),a(C,f),a(C,X),a(C,L);for(let E=0;E<V.length;E+=1)V[E]&&V[E].m(L,null);pe(L,r[1],!0),a(i,z),a(i,W),a(W,y),a(W,H),a(W,P),a(P,w),a(P,F),a(P,Q),pe(P,r[2],!0),a(s,ve),a(s,G),a(G,oe),a(t,me),Y&&Y.m(t,null),a(t,ce),M&&M.m(t,null),be||(Ce=[se(m,"input",r[9]),se(m,"keydown",r[8]),se(L,"change",r[10]),se(P,"change",r[11]),se(G,"click",r[7])],be=!0)},p(v,[B]){if(B&1&&m.value!==v[0]&&le(m,v[0]),B&64){ee=ae(v[6]);let E;for(E=0;E<ee.length;E+=1){const j=we(v,ee,E);V[E]?V[E].p(j,B):(V[E]=Ne(j),V[E].c(),V[E].m(L,null))}for(;E<V.length;E+=1)V[E].d(1);V.length=ee.length}B&66&&pe(L,v[1]),B&4&&pe(P,v[2]),B&16&&re!==(re=v[4]?"EXECUTING_SEARCH...":"EXECUTE_QUERY")&&J(oe,re),B&17&&ie!==(ie=v[4]||!v[0].trim())&&(G.disabled=ie),v[5]?Y?Y.p(v,B):(Y=Re(v),Y.c(),Y.m(t,ce)):Y&&(Y.d(1),Y=null),te===(te=xe(v))&&M?M.p(v,B):(M&&M.d(1),M=te&&te(v),M&&(M.c(),M.m(t,null)))},i:Ee,o:Ee,d(v){v&&(p(e),p(t)),ye(V,v),Y&&Y.d(),M&&M.d(),be=!1,Me(Ce)}}}function We(r,e,t){let l="",n="",o="hybrid",s=[],c=!1,x="";const D=["all","decisions","insights","ideas","learnings","customers","competitors","research","sessions"];async function b(){if(l.trim()){t(4,c=!0),t(5,x=""),t(3,s=[]);try{const i=await Be({query:l,category:n==="all"?void 0:n,search_type:o,limit:20});t(3,s=i.results)}catch(i){t(5,x=i instanceof Error?i.message:"Search failed")}finally{t(4,c=!1)}}}function I(i){i.key==="Enter"&&b()}function N(){l=this.value,t(0,l)}function k(){n=Se(this),t(1,n),t(6,D)}function m(){o=Se(this),t(2,o)}return[l,n,o,s,c,x,D,b,I,N,k,m,()=>{t(0,l=""),t(3,s=[])}]}class ze extends Ae{constructor(e){super(),Pe(this,e,We,qe,Ye,{})}}export{ze as component};
