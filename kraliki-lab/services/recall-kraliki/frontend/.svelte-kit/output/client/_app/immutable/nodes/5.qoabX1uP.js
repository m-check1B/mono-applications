import{S as $e,i as et,s as tt,n as qe,d,b as V,u as p,w as lt,h as y,e as _,f as k,k as I,j as v,l as st,z as at,a as P,c as r,x as H,g as w,t as S,A as nt,H as rt,m as we,B as ge}from"../chunks/BIBWOlQ3.js";import{e as $}from"../chunks/D6YF6ztN.js";import"../chunks/IHki7fMi.js";import{p as it}from"../chunks/BWc1nFwY.js";import{a as ot}from"../chunks/BwDU0wT5.js";function Ke(i,e,t){const l=i.slice();l[7]=e[t];const s=l[7].match(/\[\[([^\]|]+)(\|([^\]]+))?\]\]/);return l[8]=s,l}function De(i){const e=i.slice(),t=e[8][1];e[11]=t;const l=e[8][3]||e[11];return e[12]=l,e}function Ue(i,e,t){const l=i.slice();return l[13]=e[t],l}function Ae(i){const e=i.slice(),t=e[13].split("/");return e[16]=t[0],e[17]=t[1],e}function We(i,e,t){const l=i.slice();return l[18]=e[t],l}function ct(i){let e,t,l="RECORD_ACTIVE",s,n,a,c=i[2].category+"",b,x,m,g=i[2].title+"",C,u,f,h,o,A="CONTENT",L,j,ee,ae=Ze(i[2].content)+"",ne,O,re,ie,q,B,Se="‚ÑπÔ∏è OBJECT_METADATA",Ee,M,K,F,Ve="UNIQUE_ID:",xe,G,te=i[2].id+"",oe,ke,U,J,Ne="CLASS_TYPE:",Ce,Q,le=i[2].category+"",ce,ye,W,Y,Te="SOURCE_FILE:",Ie,X,se=i[2].file_path+"",fe,de,z,Re='<a href="/" class="brutal-btn !bg-secondary !text-secondary-foreground !py-2 !px-4 text-xs">&lt;&lt; RETURN_TO_SEARCH</a> <a href="/recent" class="brutal-btn !bg-void !text-concrete !py-2 !px-4 text-xs border-concrete/20">VIEW_RECENT_STREAM</a>',N=i[2].tags&&i[2].tags.length>0&&ze(i),T=i[2].related&&i[2].related.length>0&&Fe(i),R=i[2].wikilinks&&i[2].wikilinks.length>0&&Ge(i);return{c(){e=v("div"),t=v("div"),t.textContent=l,s=I(),n=v("div"),a=v("span"),b=S(c),x=I(),m=v("h1"),C=S(g),u=I(),N&&N.c(),f=I(),h=v("div"),o=v("div"),o.textContent=A,L=I(),j=v("div"),ee=new rt(!1),ne=I(),O=v("div"),T&&T.c(),re=I(),R&&R.c(),ie=I(),q=v("div"),B=v("h3"),B.textContent=Se,Ee=I(),M=v("div"),K=v("div"),F=v("span"),F.textContent=Ve,xe=I(),G=v("span"),oe=S(te),ke=I(),U=v("div"),J=v("span"),J.textContent=Ne,Ce=I(),Q=v("span"),ce=S(le),ye=I(),W=v("div"),Y=v("span"),Y.textContent=Te,Ie=I(),X=v("span"),fe=S(se),de=I(),z=v("div"),z.innerHTML=Re,this.h()},l(E){e=_(E,"DIV",{class:!0});var D=k(e);t=_(D,"DIV",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-1mkx04k"&&(t.textContent=l),s=y(D),n=_(D,"DIV",{class:!0});var ue=k(n);a=_(ue,"SPAN",{class:!0});var Pe=k(a);b=w(Pe,c),Pe.forEach(d),x=y(ue),m=_(ue,"H1",{class:!0});var Le=k(m);C=w(Le,g),Le.forEach(d),ue.forEach(d),u=y(D),N&&N.l(D),D.forEach(d),f=y(E),h=_(E,"DIV",{class:!0});var he=k(h);o=_(he,"DIV",{class:!0,"data-svelte-h":!0}),H(o)!=="svelte-doeilf"&&(o.textContent=A),L=y(he),j=_(he,"DIV",{class:!0});var He=k(j);ee=nt(He,!1),He.forEach(d),he.forEach(d),ne=y(E),O=_(E,"DIV",{class:!0});var pe=k(O);T&&T.l(pe),re=y(pe),R&&R.l(pe),pe.forEach(d),ie=y(E),q=_(E,"DIV",{class:!0});var _e=k(q);B=_(_e,"H3",{class:!0,"data-svelte-h":!0}),H(B)!=="svelte-7akhy7"&&(B.textContent=Se),Ee=y(_e),M=_(_e,"DIV",{class:!0});var Z=k(M);K=_(Z,"DIV",{class:!0});var ve=k(K);F=_(ve,"SPAN",{class:!0,"data-svelte-h":!0}),H(F)!=="svelte-wflk5d"&&(F.textContent=Ve),xe=y(ve),G=_(ve,"SPAN",{class:!0});var Oe=k(G);oe=w(Oe,te),Oe.forEach(d),ve.forEach(d),ke=y(Z),U=_(Z,"DIV",{class:!0});var be=k(U);J=_(be,"SPAN",{class:!0,"data-svelte-h":!0}),H(J)!=="svelte-p2i75r"&&(J.textContent=Ne),Ce=y(be),Q=_(be,"SPAN",{class:!0});var Me=k(Q);ce=w(Me,le),Me.forEach(d),be.forEach(d),ye=y(Z),W=_(Z,"DIV",{class:!0});var me=k(W);Y=_(me,"SPAN",{class:!0,"data-svelte-h":!0}),H(Y)!=="svelte-1ycycqc"&&(Y.textContent=Te),Ie=y(me),X=_(me,"SPAN",{class:!0});var je=k(X);fe=w(je,se),je.forEach(d),me.forEach(d),Z.forEach(d),_e.forEach(d),de=y(E),z=_(E,"DIV",{class:!0,"data-svelte-h":!0}),H(z)!=="svelte-q8yyuf"&&(z.innerHTML=Re),this.h()},h(){p(t,"class","absolute -top-4 -left-4 bg-void text-terminal-green font-bold text-[10px] px-2 py-1 uppercase border border-terminal-green shadow-brutal"),p(a,"class","text-xs font-bold px-3 py-1 bg-void text-terminal-green border-2 border-terminal-green uppercase tracking-widest"),p(m,"class","text-4xl font-display tracking-tight"),p(n,"class","flex flex-wrap items-center gap-3 mb-4"),p(e,"class","mb-8 border-b-2 border-border pb-6 relative"),p(o,"class","absolute top-0 right-0 p-2 opacity-10 font-mono text-[60px] leading-none pointer-events-none select-none"),ee.a=null,p(j,"class","markdown relative z-10"),p(h,"class","brutal-card p-8 bg-card mb-8 relative"),p(O,"class","grid grid-cols-1 md:grid-cols-2 gap-8 mb-8"),p(B,"class","font-display text-sm border-b border-concrete/20 pb-2 mb-4 text-terminal-green"),p(F,"class","opacity-50"),p(G,"class","font-bold"),p(K,"class","flex justify-between border-b border-concrete/10 pb-1"),p(J,"class","opacity-50"),p(Q,"class","text-terminal-green font-bold"),p(U,"class","flex justify-between border-b border-concrete/10 pb-1"),p(Y,"class","opacity-50"),p(X,"class","text-cyan-data font-bold truncate max-w-[200px]"),p(W,"class","flex justify-between border-b border-concrete/10 pb-1"),p(M,"class","space-y-3 text-[11px] font-mono uppercase tracking-wider"),p(q,"class","brutal-card p-6 bg-void text-concrete mb-10"),p(z,"class","flex flex-wrap gap-4")},m(E,D){V(E,e,D),r(e,t),r(e,s),r(e,n),r(n,a),r(a,b),r(n,x),r(n,m),r(m,C),r(e,u),N&&N.m(e,null),V(E,f,D),V(E,h,D),r(h,o),r(h,L),r(h,j),ee.m(ae,j),V(E,ne,D),V(E,O,D),T&&T.m(O,null),r(O,re),R&&R.m(O,null),V(E,ie,D),V(E,q,D),r(q,B),r(q,Ee),r(q,M),r(M,K),r(K,F),r(K,xe),r(K,G),r(G,oe),r(M,ke),r(M,U),r(U,J),r(U,Ce),r(U,Q),r(Q,ce),r(M,ye),r(M,W),r(W,Y),r(W,Ie),r(W,X),r(X,fe),V(E,de,D),V(E,z,D)},p(E,D){D&4&&c!==(c=E[2].category+"")&&P(b,c),D&4&&g!==(g=E[2].title+"")&&P(C,g),E[2].tags&&E[2].tags.length>0?N?N.p(E,D):(N=ze(E),N.c(),N.m(e,null)):N&&(N.d(1),N=null),D&4&&ae!==(ae=Ze(E[2].content)+"")&&ee.p(ae),E[2].related&&E[2].related.length>0?T?T.p(E,D):(T=Fe(E),T.c(),T.m(O,re)):T&&(T.d(1),T=null),E[2].wikilinks&&E[2].wikilinks.length>0?R?R.p(E,D):(R=Ge(E),R.c(),R.m(O,null)):R&&(R.d(1),R=null),D&4&&te!==(te=E[2].id+"")&&P(oe,te),D&4&&le!==(le=E[2].category+"")&&P(ce,le),D&4&&se!==(se=E[2].file_path+"")&&P(fe,se)},d(E){E&&(d(e),d(f),d(h),d(ne),d(O),d(ie),d(q),d(de),d(z)),N&&N.d(),T&&T.d(),R&&R.d()}}}function ft(i){let e,t,l="[ ACCESS_DENIED ]",s,n;return{c(){e=v("div"),t=v("span"),t.textContent=l,s=I(),n=S(i[4]),this.h()},l(a){e=_(a,"DIV",{class:!0});var c=k(e);t=_(c,"SPAN",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-p97r4s"&&(t.textContent=l),s=y(c),n=w(c,i[4]),c.forEach(d),this.h()},h(){p(t,"class","font-bold uppercase"),p(e,"class","brutal-card border-system-red bg-system-red/10 text-system-red p-4 font-mono text-sm")},m(a,c){V(a,e,c),r(e,t),r(e,s),r(e,n)},p(a,c){c&16&&P(n,a[4])},d(a){a&&d(e)}}}function dt(i){let e,t,l="ACCESSING_MEMORY_OBJECT...",s,n,a,c,b,x;return{c(){e=v("div"),t=v("div"),t.textContent=l,s=I(),n=v("div"),a=S("Address: "),c=S(i[1]),b=S("/"),x=S(i[0]),this.h()},l(m){e=_(m,"DIV",{class:!0});var g=k(e);t=_(g,"DIV",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-h02blq"&&(t.textContent=l),s=y(g),n=_(g,"DIV",{class:!0});var C=k(n);a=w(C,"Address: "),c=w(C,i[1]),b=w(C,"/"),x=w(C,i[0]),C.forEach(d),g.forEach(d),this.h()},h(){p(t,"class","text-2xl font-display text-terminal-green animate-pulse"),p(n,"class","mt-4 font-mono text-[10px] opacity-40 uppercase tracking-[0.3em]"),p(e,"class","brutal-card text-center py-20 bg-card")},m(m,g){V(m,e,g),r(e,t),r(e,s),r(e,n),r(n,a),r(n,c),r(n,b),r(n,x)},p(m,g){g&2&&P(c,m[1]),g&1&&P(x,m[0])},d(m){m&&d(e)}}}function ze(i){let e,t=$(i[2].tags),l=[];for(let s=0;s<t.length;s+=1)l[s]=Be(We(i,t,s));return{c(){e=v("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=_(s,"DIV",{class:!0});var n=k(e);for(let a=0;a<l.length;a+=1)l[a].l(n);n.forEach(d),this.h()},h(){p(e,"class","flex flex-wrap gap-2")},m(s,n){V(s,e,n);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null)},p(s,n){if(n&4){t=$(s[2].tags);let a;for(a=0;a<t.length;a+=1){const c=We(s,t,a);l[a]?l[a].p(c,n):(l[a]=Be(c),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}},d(s){s&&d(e),we(l,s)}}}function Be(i){let e,t,l=i[18]+"",s,n;return{c(){e=v("span"),t=S("#"),s=S(l),n=I(),this.h()},l(a){e=_(a,"SPAN",{class:!0});var c=k(e);t=w(c,"#"),s=w(c,l),n=y(c),c.forEach(d),this.h()},h(){p(e,"class","text-[10px] font-bold px-2 py-0.5 border border-border opacity-70 uppercase tracking-tighter")},m(a,c){V(a,e,c),r(e,t),r(e,s),r(e,n)},p(a,c){c&4&&l!==(l=a[18]+"")&&P(s,l)},d(a){a&&d(e)}}}function Fe(i){let e,t,l="LINKS",s,n,a,c=i[2].related.length+"",b,x,m,g,C=$(i[2].related),u=[];for(let f=0;f<C.length;f+=1)u[f]=Ye(Ue(i,C,f));return{c(){e=v("div"),t=v("div"),t.textContent=l,s=I(),n=v("h3"),a=S("üîó RELATED_ITEMS ("),b=S(c),x=S(")"),m=I(),g=v("div");for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){e=_(f,"DIV",{class:!0});var h=k(e);t=_(h,"DIV",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-zdjffh"&&(t.textContent=l),s=y(h),n=_(h,"H3",{class:!0});var o=k(n);a=w(o,"üîó RELATED_ITEMS ("),b=w(o,c),x=w(o,")"),o.forEach(d),m=y(h),g=_(h,"DIV",{class:!0});var A=k(g);for(let L=0;L<u.length;L+=1)u[L].l(A);A.forEach(d),h.forEach(d),this.h()},h(){p(t,"class","absolute top-0 right-0 p-2 opacity-10 font-mono text-[40px] leading-none pointer-events-none select-none"),p(n,"class","font-display text-sm border-b border-border pb-2 mb-4"),p(g,"class","space-y-3"),p(e,"class","brutal-card p-6 bg-card relative")},m(f,h){V(f,e,h),r(e,t),r(e,s),r(e,n),r(n,a),r(n,b),r(n,x),r(e,m),r(e,g);for(let o=0;o<u.length;o+=1)u[o]&&u[o].m(g,null)},p(f,h){if(h&4&&c!==(c=f[2].related.length+"")&&P(b,c),h&4){C=$(f[2].related);let o;for(o=0;o<C.length;o+=1){const A=Ue(f,C,o);u[o]?u[o].p(A,h):(u[o]=Ye(A),u[o].c(),u[o].m(g,null))}for(;o<u.length;o+=1)u[o].d(1);u.length=C.length}},d(f){f&&d(e),we(u,f)}}}function Je(i){let e,t,l,s=i[16]+"",n,a,c,b=">> OPEN",x,m,g=i[17]+"",C,u,f;return{c(){e=v("a"),t=v("div"),l=v("span"),n=S(s),a=I(),c=v("span"),c.textContent=b,x=I(),m=v("div"),C=S(g),u=I(),this.h()},l(h){e=_(h,"A",{href:!0,class:!0});var o=k(e);t=_(o,"DIV",{class:!0});var A=k(t);l=_(A,"SPAN",{class:!0});var L=k(l);n=w(L,s),L.forEach(d),a=y(A),c=_(A,"SPAN",{class:!0,"data-svelte-h":!0}),H(c)!=="svelte-h2ygp0"&&(c.textContent=b),A.forEach(d),x=y(o),m=_(o,"DIV",{class:!0});var j=k(m);C=w(j,g),j.forEach(d),u=y(o),o.forEach(d),this.h()},h(){p(l,"class","text-[9px] font-bold px-1.5 py-0.5 bg-void text-terminal-green uppercase tracking-widest"),p(c,"class","text-[10px] font-mono opacity-50"),p(t,"class","flex items-center justify-between"),p(m,"class","text-xs font-bold mt-1 group-hover:text-terminal-green"),p(e,"href",f="/item/"+i[16]+"/"+i[17]),p(e,"class","block p-3 border-2 border-transparent hover:border-terminal-green bg-void/5 hover:bg-terminal-green/5 transition-all group")},m(h,o){V(h,e,o),r(e,t),r(t,l),r(l,n),r(t,a),r(t,c),r(e,x),r(e,m),r(m,C),r(e,u)},p(h,o){o&4&&s!==(s=h[16]+"")&&P(n,s),o&4&&g!==(g=h[17]+"")&&P(C,g),o&4&&f!==(f="/item/"+h[16]+"/"+h[17])&&p(e,"href",f)},d(h){h&&d(e)}}}function Ye(i){let e=i[13].includes("/"),t,l=e&&Je(Ae(i));return{c(){l&&l.c(),t=ge()},l(s){l&&l.l(s),t=ge()},m(s,n){l&&l.m(s,n),V(s,t,n)},p(s,n){n&4&&(e=s[13].includes("/")),e?l?l.p(Ae(s),n):(l=Je(Ae(s)),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(s){s&&d(t),l&&l.d(s)}}}function Ge(i){let e,t,l="REFS",s,n,a,c=i[2].wikilinks.length+"",b,x,m,g,C=$(i[2].wikilinks),u=[];for(let f=0;f<C.length;f+=1)u[f]=Xe(Ke(i,C,f));return{c(){e=v("div"),t=v("div"),t.textContent=l,s=I(),n=v("h3"),a=S("üìé WIKILINKS ("),b=S(c),x=S(")"),m=I(),g=v("div");for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){e=_(f,"DIV",{class:!0});var h=k(e);t=_(h,"DIV",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-q2xnwa"&&(t.textContent=l),s=y(h),n=_(h,"H3",{class:!0});var o=k(n);a=w(o,"üìé WIKILINKS ("),b=w(o,c),x=w(o,")"),o.forEach(d),m=y(h),g=_(h,"DIV",{class:!0});var A=k(g);for(let L=0;L<u.length;L+=1)u[L].l(A);A.forEach(d),h.forEach(d),this.h()},h(){p(t,"class","absolute top-0 right-0 p-2 opacity-10 font-mono text-[40px] leading-none pointer-events-none select-none"),p(n,"class","font-display text-sm border-b border-border pb-2 mb-4"),p(g,"class","space-y-3"),p(e,"class","brutal-card p-6 bg-card relative")},m(f,h){V(f,e,h),r(e,t),r(e,s),r(e,n),r(n,a),r(n,b),r(n,x),r(e,m),r(e,g);for(let o=0;o<u.length;o+=1)u[o]&&u[o].m(g,null)},p(f,h){if(h&4&&c!==(c=f[2].wikilinks.length+"")&&P(b,c),h&4){C=$(f[2].wikilinks);let o;for(o=0;o<C.length;o+=1){const A=Ke(f,C,o);u[o]?u[o].p(A,h):(u[o]=Xe(A),u[o].c(),u[o].m(g,null))}for(;o<u.length;o+=1)u[o].d(1);u.length=C.length}},d(f){f&&d(e),we(u,f)}}}function Qe(i){let e,t,l,s=i[12]+"",n,a,c,b,x=i[11]+"",m,g,C;return{c(){e=v("a"),t=v("div"),l=v("span"),n=S(s),a=I(),c=v("span"),b=S("-> "),m=S(x),g=I(),this.h()},l(u){e=_(u,"A",{href:!0,class:!0});var f=k(e);t=_(f,"DIV",{class:!0});var h=k(t);l=_(h,"SPAN",{class:!0});var o=k(l);n=w(o,s),o.forEach(d),a=y(h),c=_(h,"SPAN",{class:!0});var A=k(c);b=w(A,"-> "),m=w(A,x),A.forEach(d),h.forEach(d),g=y(f),f.forEach(d),this.h()},h(){p(l,"class","text-xs font-bold group-hover:text-cyan-data"),p(c,"class","text-[10px] font-mono opacity-50"),p(t,"class","flex items-center justify-between"),p(e,"href",C="/item/"+i[11]),p(e,"class","block p-3 border-2 border-transparent hover:border-cyan-data bg-void/5 hover:bg-cyan-data/5 transition-all group")},m(u,f){V(u,e,f),r(e,t),r(t,l),r(l,n),r(t,a),r(t,c),r(c,b),r(c,m),r(e,g)},p(u,f){f&4&&s!==(s=u[12]+"")&&P(n,s),f&4&&x!==(x=u[11]+"")&&P(m,x),f&4&&C!==(C="/item/"+u[11])&&p(e,"href",C)},d(u){u&&d(e)}}}function Xe(i){let e,t=i[8]&&Qe(De(i));return{c(){t&&t.c(),e=ge()},l(l){t&&t.l(l),e=ge()},m(l,s){t&&t.m(l,s),V(l,e,s)},p(l,s){l[8]?t?t.p(De(l),s):(t=Qe(De(l)),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&d(e),t&&t.d(l)}}}function ut(i){var c;let e,t,l;document.title=e=(((c=i[2])==null?void 0:c.title)||"RECORD")+" ‚Ä¢ RECALL-LITE";function s(b,x){if(b[3])return dt;if(b[4])return ft;if(b[2])return ct}let n=s(i),a=n&&n(i);return{c(){t=I(),l=v("div"),a&&a.c(),this.h()},l(b){lt("svelte-1dqu8u9",document.head).forEach(d),t=y(b),l=_(b,"DIV",{class:!0});var m=k(l);a&&a.l(m),m.forEach(d),this.h()},h(){p(l,"class","max-w-4xl mx-auto")},m(b,x){V(b,t,x),V(b,l,x),a&&a.m(l,null)},p(b,[x]){var m;x&4&&e!==(e=(((m=b[2])==null?void 0:m.title)||"RECORD")+" ‚Ä¢ RECALL-LITE")&&(document.title=e),n===(n=s(b))&&a?a.p(b,x):(a&&a.d(1),a=n&&n(b),a&&(a.c(),a.m(l,null)))},i:qe,o:qe,d(b){b&&(d(t),d(l)),a&&a.d()}}}function Ze(i){return i.replace(/\[\[([^\]|]+)(\|([^\]]+))?\]\]/g,(e,t,l,s)=>`<a href="/item/${t}" class="text-primary hover:text-terminal-green font-bold underline decoration-2 underline-offset-4 decoration-primary/30 transition-colors">${s||t}</a>`)}function ht(i,e,t){let l,s,n;st(i,it,m=>t(5,n=m));let a=null,c=!0,b="";async function x(){if(!(!l||!s)){t(3,c=!0),t(4,b=""),t(2,a=null);try{t(2,a=await ot(l,s))}catch(m){t(4,b=m instanceof Error?m.message:"Failed to load item")}finally{t(3,c=!1)}}}return at(()=>{x()}),i.$$.update=()=>{i.$$.dirty&32&&t(1,l=n.params.category),i.$$.dirty&32&&t(0,s=n.params.id),i.$$.dirty&3&&l&&s&&x()},[s,l,a,c,b,n]}class gt extends $e{constructor(e){super(),et(this,e,ht,ut,tt,{})}}export{gt as component};
